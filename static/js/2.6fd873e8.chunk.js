(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(270)},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){var r=n(172),o=n.n(r),i=n(265),a=n.n(i),s=n(0),u=n.n(s),c=n(266),l=n(47),f=n(173),h=(n(6),n(67),n(268)),p=function(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n},d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},b=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},w=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},E=function(e){return"object"===("undefined"===typeof e?"undefined":d(e))&&e.constructor===Object},T=Object.freeze([]),_=Object.freeze({});function S(e){return"function"===typeof e}function I(e){return e.displayName||e.name||"Component"}function A(e){return e&&"string"===typeof e.styledComponentId}var C="undefined"!==typeof e&&Object({NODE_ENV:"production",PUBLIC_URL:"/notes"}).SC_ATTR||"data-styled",O="undefined"!==typeof window&&"HTMLElement"in window,k="boolean"===typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||!1;var x=function(e){function t(n){y(this,t);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a=w(this,e.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/packages/styled-components/src/utils/errors.md#"+n+" for more information. "+(o?"Additional arguments: "+o.join(", "):"")));return w(a)}return g(t,e),t}(Error),R=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,P=function(e){var t=""+(e||""),n=[];return t.replace(R,function(e,t,r){return n.push({componentId:t,matchIndex:r}),e}),n.map(function(e,r){var o=e.componentId,i=e.matchIndex,a=n[r+1];return{componentId:o,cssFromDOM:a?t.slice(i,a.matchIndex):t.slice(i)}})},N=/^\s*\/\/.*$/gm,D=new o.a({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),L=new o.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),M=[],j=function(e){if(-2===e){var t=M;return M=[],t}},U=a()(function(e){M.push(e)}),F=void 0,q=void 0,B=void 0,V=function(e,t,n){return t>0&&-1!==n.slice(0,t).indexOf(q)&&n.slice(t-q.length,t)!==q?"."+F:e};L.use([function(e,t,n){2===e&&n.length&&n[0].lastIndexOf(q)>0&&(n[0]=n[0].replace(B,V))},U,j]),D.use([U,j]);function W(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"&",o=e.join("").replace(N,""),i=t&&n?n+" "+t+" { "+o+" }":o;return F=r,q=t,B=new RegExp("\\"+q+"\\b","g"),L(n||!t?"":t,i)}var z=function(){return n.nc},K=function(e,t,n){n&&((e[t]||(e[t]=Object.create(null)))[n]=!0)},H=function(e,t){e[t]=Object.create(null)},G=function(e){return function(t,n){return void 0!==e[t]&&e[t][n]}},Q=function(e){var t="";for(var n in e)t+=Object.keys(e[n]).join(" ")+" ";return t.trim()},X=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets.length,n=0;n<t;n+=1){var r=document.styleSheets[n];if(r.ownerNode===e)return r}throw new x(10)},Y=function(e,t,n){if(!t)return!1;var r=e.cssRules.length;try{e.insertRule(t,n<=r?n:r)}catch(o){return!1}return!0},$=function(e){return"\n/* sc-component-id: "+e+" */\n"},J=function(e,t){for(var n=0,r=0;r<=t;r+=1)n+=e[r];return n},Z=function(e,t){return function(n){var r=z();return"<style "+[r&&'nonce="'+r+'"',C+'="'+Q(t)+'"','data-styled-version="4.2.0"',n].filter(Boolean).join(" ")+">"+e()+"</style>"}},ee=function(e,t){return function(){var n,r=((n={})[C]=Q(t),n["data-styled-version"]="4.2.0",n),o=z();return o&&(r.nonce=o),u.a.createElement("style",v({},r,{dangerouslySetInnerHTML:{__html:e()}}))}},te=function(e){return function(){return Object.keys(e)}},ne=function(e){return document.createTextNode($(e))},re=function e(t,n){var r=void 0===t?Object.create(null):t,o=void 0===n?Object.create(null):n,i=function(e){var t=o[e];return void 0!==t?t:o[e]=[""]},a=function(){var e="";for(var t in o){var n=o[t][0];n&&(e+=$(t)+n)}return e};return{clone:function(){var t=function(e){var t=Object.create(null);for(var n in e)t[n]=v({},e[n]);return t}(r),n=Object.create(null);for(var i in o)n[i]=[o[i][0]];return e(t,n)},css:a,getIds:te(o),hasNameForId:G(r),insertMarker:i,insertRules:function(e,t,n){i(e)[0]+=t.join(" "),K(r,e,n)},removeRules:function(e){var t=o[e];void 0!==t&&(t[0]="",H(r,e))},sealed:!1,styleTag:null,toElement:ee(a,r),toHTML:Z(a,r)}},oe=function(e,t,n,r,o){if(O&&!n){var i=function(e,t,n){var r=document.createElement("style");r.setAttribute(C,""),r.setAttribute("data-styled-version","4.2.0");var o=z();if(o&&r.setAttribute("nonce",o),r.appendChild(document.createTextNode("")),e&&!t)e.appendChild(r);else{if(!t||!e||!t.parentNode)throw new x(6);t.parentNode.insertBefore(r,n?t:t.nextSibling)}return r}(e,t,r);return k?function(e,t){var n=Object.create(null),r=Object.create(null),o=void 0!==t,i=!1,a=function(t){var o=r[t];return void 0!==o?o:(r[t]=ne(t),e.appendChild(r[t]),n[t]=Object.create(null),r[t])},s=function(){var e="";for(var t in r)e+=r[t].data;return e};return{clone:function(){throw new x(5)},css:s,getIds:te(r),hasNameForId:G(n),insertMarker:a,insertRules:function(e,r,s){for(var u=a(e),c=[],l=r.length,f=0;f<l;f+=1){var h=r[f],p=o;if(p&&-1!==h.indexOf("@import"))c.push(h);else{p=!1;var d=f===l-1?"":" ";u.appendData(""+h+d)}}K(n,e,s),o&&c.length>0&&(i=!0,t().insertRules(e+"-import",c))},removeRules:function(a){var s=r[a];if(void 0!==s){var u=ne(a);e.replaceChild(u,s),r[a]=u,H(n,a),o&&i&&t().removeRules(a+"-import")}},sealed:!1,styleTag:e,toElement:ee(s,n),toHTML:Z(s,n)}}(i,o):function(e,t){var n=Object.create(null),r=Object.create(null),o=[],i=void 0!==t,a=!1,s=function(e){var t=r[e];return void 0!==t?t:(r[e]=o.length,o.push(0),H(n,e),r[e])},u=function(){var t=X(e).cssRules,n="";for(var i in r){n+=$(i);for(var a=r[i],s=J(o,a),u=s-o[a];u<s;u+=1){var c=t[u];void 0!==c&&(n+=c.cssText)}}return n};return{clone:function(){throw new x(5)},css:u,getIds:te(r),hasNameForId:G(n),insertMarker:s,insertRules:function(r,u,c){for(var l=s(r),f=X(e),h=J(o,l),p=0,d=[],y=u.length,m=0;m<y;m+=1){var v=u[m],g=i;g&&-1!==v.indexOf("@import")?d.push(v):Y(f,v,h+p)&&(g=!1,p+=1)}i&&d.length>0&&(a=!0,t().insertRules(r+"-import",d)),o[l]+=p,K(n,r,c)},removeRules:function(s){var u=r[s];if(void 0!==u){var c=o[u];!function(e,t,n){for(var r=t-n,o=t;o>r;o-=1)e.deleteRule(o)}(X(e),J(o,u)-1,c),o[u]=0,H(n,s),i&&a&&t().removeRules(s+"-import")}},sealed:!1,styleTag:e,toElement:ee(u,n),toHTML:Z(u,n)}}(i,o)}return re()},ie=/\s+/,ae=void 0;ae=O?k?40:1e3:-1;var se=0,ue=void 0,ce=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O?document.head:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];y(this,e),this.getImportRuleTag=function(){var e=t.importRuleTag;if(void 0!==e)return e;var n=t.tags[0];return t.importRuleTag=oe(t.target,n?n.styleTag:null,t.forceServer,!0)},se+=1,this.id=se,this.forceServer=r,this.target=r?null:n,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return e.prototype.rehydrate=function(){if(!O||this.forceServer)return this;var e=[],t=[],n=!1,r=document.querySelectorAll("style["+C+'][data-styled-version="4.2.0"]'),o=r.length;if(!o)return this;for(var i=0;i<o;i+=1){var a=r[i];n||(n=!!a.getAttribute("data-styled-streamed"));for(var s,u=(a.getAttribute(C)||"").trim().split(ie),c=u.length,l=0;l<c;l+=1)s=u[l],this.rehydratedNames[s]=!0;t.push.apply(t,P(a.textContent)),e.push(a)}var f=t.length;if(!f)return this;var h=this.makeTag(null);!function(e,t,n){for(var r=0,o=n.length;r<o;r+=1){var i=n[r],a=i.componentId,s=i.cssFromDOM,u=D("",s);e.insertRules(a,u)}for(var c=0,l=t.length;c<l;c+=1){var f=t[c];f.parentNode&&f.parentNode.removeChild(f)}}(h,e,t),this.capacity=Math.max(1,ae-f),this.tags.push(h);for(var p=0;p<f;p+=1)this.tagMap[t[p].componentId]=h;return this},e.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ue=new e(void 0,t).rehydrate()},e.prototype.clone=function(){var t=new e(this.target,this.forceServer);return this.clones.push(t),t.tags=this.tags.map(function(e){for(var n=e.getIds(),r=e.clone(),o=0;o<n.length;o+=1)t.tagMap[n[o]]=r;return r}),t.rehydratedNames=v({},this.rehydratedNames),t.deferred=v({},this.deferred),t},e.prototype.sealAllTags=function(){this.capacity=1,this.tags.forEach(function(e){e.sealed=!0})},e.prototype.makeTag=function(e){var t=e?e.styleTag:null;return oe(this.target,t,this.forceServer,!1,this.getImportRuleTag)},e.prototype.getTagForId=function(e){var t=this.tagMap[e];if(void 0!==t&&!t.sealed)return t;var n=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=ae,n=this.makeTag(n),this.tags.push(n)),this.tagMap[e]=n},e.prototype.hasId=function(e){return void 0!==this.tagMap[e]},e.prototype.hasNameForId=function(e,t){if(void 0===this.ignoreRehydratedNames[e]&&this.rehydratedNames[t])return!0;var n=this.tagMap[e];return void 0!==n&&n.hasNameForId(e,t)},e.prototype.deferredInject=function(e,t){if(void 0===this.tagMap[e]){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].deferredInject(e,t);this.getTagForId(e).insertMarker(e),this.deferred[e]=t}},e.prototype.inject=function(e,t,n){for(var r=this.clones,o=0;o<r.length;o+=1)r[o].inject(e,t,n);var i=this.getTagForId(e);if(void 0!==this.deferred[e]){var a=this.deferred[e].concat(t);i.insertRules(e,a,n),this.deferred[e]=void 0}else i.insertRules(e,t,n)},e.prototype.remove=function(e){var t=this.tagMap[e];if(void 0!==t){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].remove(e);t.removeRules(e),this.ignoreRehydratedNames[e]=!0,this.deferred[e]=void 0}},e.prototype.toHTML=function(){return this.tags.map(function(e){return e.toHTML()}).join("")},e.prototype.toReactElements=function(){var e=this.id;return this.tags.map(function(t,n){var r="sc-"+e+"-"+n;return Object(s.cloneElement)(t.toElement(),{key:r})})},m(e,null,[{key:"master",get:function(){return ue||(ue=(new e).rehydrate())}},{key:"instance",get:function(){return e.master}}]),e}(),le=function(){function e(t,n){var r=this;y(this,e),this.inject=function(e){e.hasNameForId(r.id,r.name)||e.inject(r.id,r.rules,r.name)},this.toString=function(){throw new x(12,String(r.name))},this.name=t,this.rules=n,this.id="sc-keyframes-"+t}return e.prototype.getName=function(){return this.name},e}(),fe=/([A-Z])/g,he=/^ms-/;var pe=function(e){return void 0===e||null===e||!1===e||""===e},de=function e(t,n){var r=Object.keys(t).filter(function(e){return!pe(t[e])}).map(function(n){return E(t[n])?e(t[n],n):n.replace(fe,"-$1").toLowerCase().replace(he,"-ms-")+": "+(r=n,null==(o=t[n])||"boolean"===typeof o||""===o?"":"number"!==typeof o||0===o||r in c.a?String(o).trim():o+"px")+";";var r,o}).join(" ");return n?n+" {\n  "+r+"\n}":r};function ye(e,t,n){if(Array.isArray(e)){for(var r,o=[],i=0,a=e.length;i<a;i+=1)null!==(r=ye(e[i],t,n))&&(Array.isArray(r)?o.push.apply(o,r):o.push(r));return o}return pe(e)?null:A(e)?"."+e.styledComponentId:S(e)?"function"!==typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:ye(e(t),t,n):e instanceof le?n?(e.inject(n),e.getName()):e:E(e)?de(e):e.toString();var s}function me(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return S(e)||E(e)?ye(p(T,[e].concat(n))):ye(p(e,n))}function ve(e){for(var t,n=0|e.length,r=0|n,o=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:r^=(255&e.charCodeAt(o+2))<<16;case 2:r^=(255&e.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return((r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16))^r>>>15)>>>0}var ge=52,be=function(e){return String.fromCharCode(e+(e>25?39:97))};function we(e){var t="",n=void 0;for(n=e;n>ge;n=Math.floor(n/ge))t=be(n%ge)+t;return be(n%ge)+t}function Ee(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(Array.isArray(r)&&!Ee(r,t))return!1;if(S(r)&&!A(r))return!1}return!t.some(function(e){return S(e)||function(e){for(var t in e)if(S(e[t]))return!0;return!1}(e)})}var Te,_e=!1,Se=function(e){return we(ve(e))},Ie=function(){function e(t,n,r){y(this,e),this.rules=t,this.isStatic=!_e&&Ee(t,n),this.componentId=r,ce.master.hasId(r)||ce.master.deferredInject(r,[])}return e.prototype.generateAndInjectStyles=function(e,t){var n=this.isStatic,r=this.componentId,o=this.lastClassName;if(O&&n&&"string"===typeof o&&t.hasNameForId(r,o))return o;var i=ye(this.rules,e,t),a=Se(this.componentId+i.join(""));return t.hasNameForId(r,a)||t.inject(this.componentId,W(i,"."+a,void 0,r),a),this.lastClassName=a,a},e.generateName=function(e){return Se(e)},e}(),Ae=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_,r=!!n&&e.theme===n.theme;return e.theme&&!r?e.theme:t||n.theme},Ce=/[[\].#*$><+~=|^:(),"'`-]+/g,Oe=/(^-|-$)/g;function ke(e){return e.replace(Ce,"-").replace(Oe,"")}function xe(e){return"string"===typeof e&&!0}var Re={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDerivedStateFromProps:!0,propTypes:!0,type:!0},Pe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ne=((Te={})[l.ForwardRef]={$$typeof:!0,render:!0},Te),De=Object.defineProperty,Le=Object.getOwnPropertyNames,Me=Object.getOwnPropertySymbols,je=void 0===Me?function(){return[]}:Me,Ue=Object.getOwnPropertyDescriptor,Fe=Object.getPrototypeOf,qe=Object.prototype,Be=Array.prototype;function Ve(e,t,n){if("string"!==typeof t){var r=Fe(t);r&&r!==qe&&Ve(e,r,n);for(var o=Be.concat(Le(t),je(t)),i=Ne[e.$$typeof]||Re,a=Ne[t.$$typeof]||Re,s=o.length,u=void 0,c=void 0;s--;)if(c=o[s],!Pe[c]&&(!n||!n[c])&&(!a||!a[c])&&(!i||!i[c])&&(u=Ue(t,c)))try{De(e,c,u)}catch(l){}return e}return e}var We=Object(s.createContext)(),ze=We.Consumer,Ke=(function(e){function t(n){y(this,t);var r=w(this,e.call(this,n));return r.getContext=Object(f.a)(r.getContext.bind(r)),r.renderInner=r.renderInner.bind(r),r}g(t,e),t.prototype.render=function(){return this.props.children?u.a.createElement(We.Consumer,null,this.renderInner):null},t.prototype.renderInner=function(e){var t=this.getContext(this.props.theme,e);return u.a.createElement(We.Provider,{value:t},u.a.Children.only(this.props.children))},t.prototype.getTheme=function(e,t){if(S(e))return e(t);if(null===e||Array.isArray(e)||"object"!==("undefined"===typeof e?"undefined":d(e)))throw new x(8);return v({},t,e)},t.prototype.getContext=function(e,t){return this.getTheme(e,t)}}(s.Component),function(){function e(){y(this,e),this.masterSheet=ce.master,this.instance=this.masterSheet.clone(),this.sealed=!1}e.prototype.seal=function(){if(!this.sealed){var e=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(e,1),this.sealed=!0}},e.prototype.collectStyles=function(e){if(this.sealed)throw new x(2);return u.a.createElement(Ge,{sheet:this.instance},e)},e.prototype.getStyleTags=function(){return this.seal(),this.instance.toHTML()},e.prototype.getStyleElement=function(){return this.seal(),this.instance.toReactElements()},e.prototype.interleaveWithNodeStream=function(e){throw new x(3)}}(),Object(s.createContext)()),He=Ke.Consumer,Ge=function(e){function t(n){y(this,t);var r=w(this,e.call(this,n));return r.getContext=Object(f.a)(r.getContext),r}return g(t,e),t.prototype.getContext=function(e,t){if(e)return e;if(t)return new ce(t);throw new x(4)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.sheet,r=e.target;return u.a.createElement(Ke.Provider,{value:this.getContext(n,r)},t)},t}(s.Component),Qe=(new Set,{});var Xe=function(e){function t(){y(this,t);var n=w(this,e.call(this));return n.attrs={},n.renderOuter=n.renderOuter.bind(n),n.renderInner=n.renderInner.bind(n),n}return g(t,e),t.prototype.render=function(){return u.a.createElement(He,null,this.renderOuter)},t.prototype.renderOuter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce.master;return this.styleSheet=e,this.props.forwardedComponent.componentStyle.isStatic?this.renderInner():u.a.createElement(ze,null,this.renderInner)},t.prototype.renderInner=function(e){var t=this.props.forwardedComponent,n=t.componentStyle,r=t.defaultProps,o=(t.displayName,t.foldedComponentIds),i=t.styledComponentId,a=t.target,u=void 0;u=n.isStatic?this.generateAndInjectStyles(_,this.props):void 0!==e?this.generateAndInjectStyles(Ae(this.props,e,r),this.props):this.generateAndInjectStyles(this.props.theme||_,this.props);var c=this.props.as||this.attrs.as||a,l=xe(c),f={},p=v({},this.attrs,this.props),d=void 0;for(d in p)"forwardedComponent"!==d&&"as"!==d&&"suppressClassNameWarning"!==d&&("forwardedRef"===d?f.ref=p[d]:l&&!Object(h.a)(d)||(f[d]=p[d]));return this.props.style&&this.attrs.style&&(f.style=v({},this.attrs.style,this.props.style)),f.className=Array.prototype.concat(o,this.props.className,i,this.attrs.className,u).filter(Boolean).join(" "),Object(s.createElement)(c,f)},t.prototype.buildExecutionContext=function(e,t,n){var r=this,o=v({},t,{theme:e});return n.length?(this.attrs={},n.forEach(function(e){var t,n=e,i=!1,a=void 0,s=void 0;for(s in S(n)&&(n=n(o),i=!0),n)a=n[s],i||!S(a)||(t=a)&&t.prototype&&t.prototype.isReactComponent||A(a)||(a=a(o)),r.attrs[s]=a,o[s]=a}),o):o},t.prototype.generateAndInjectStyles=function(e,t){var n=t.forwardedComponent,r=n.attrs,o=n.componentStyle;n.warnTooManyClasses;return o.isStatic&&!r.length?o.generateAndInjectStyles(_,this.styleSheet):o.generateAndInjectStyles(this.buildExecutionContext(e,t,r),this.styleSheet)},t}(s.Component);function Ye(e,t,n){var r=A(e),o=!xe(e),i=t.displayName,a=void 0===i?function(e){return xe(e)?"styled."+e:"Styled("+I(e)+")"}(e):i,s=t.componentId,c=void 0===s?function(e,t,n){var r="string"!==typeof t?"sc":ke(t),o=(Qe[r]||0)+1;Qe[r]=o;var i=r+"-"+e.generateName(r+o);return n?n+"-"+i:i}(Ie,t.displayName,t.parentComponentId):s,l=t.ParentComponent,f=void 0===l?Xe:l,h=t.attrs,p=void 0===h?T:h,d=t.displayName&&t.componentId?ke(t.displayName)+"-"+t.componentId:t.componentId||c,y=r&&e.attrs?Array.prototype.concat(e.attrs,p).filter(Boolean):p,m=new Ie(r?e.componentStyle.rules.concat(n):n,y,d),g=u.a.forwardRef(function(e,t){return u.a.createElement(f,v({},e,{forwardedComponent:g,forwardedRef:t}))});return g.attrs=y,g.componentStyle=m,g.displayName=a,g.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):T,g.styledComponentId=d,g.target=r?e.target:e,g.withComponent=function(e){var r=t.componentId,o=b(t,["componentId"]),i=r&&r+"-"+(xe(e)?e:ke(I(e)));return Ye(e,v({},o,{attrs:y,componentId:i,ParentComponent:f}),n)},g.toString=function(){return"."+g.styledComponentId},o&&Ve(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var $e=function(e){return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;if(!Object(l.isValidElementType)(n))throw new x(1,String(n));var o=function(){return t(n,r,me.apply(void 0,arguments))};return o.withConfig=function(o){return e(t,n,v({},r,o))},o.attrs=function(o){return e(t,n,v({},r,{attrs:Array.prototype.concat(r.attrs,o).filter(Boolean)}))},o}(Ye,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){$e[e]=$e(e)});!function(){function e(t,n){y(this,e),this.rules=t,this.componentId=n,this.isStatic=Ee(t,T),ce.master.hasId(n)||ce.master.deferredInject(n,[])}e.prototype.createStyles=function(e,t){var n=W(ye(this.rules,e,t),"");t.inject(this.componentId,n)},e.prototype.removeStyles=function(e){var t=this.componentId;e.hasId(t)&&e.remove(t)},e.prototype.renderStyles=function(e,t){this.removeStyles(t),this.createStyles(e,t)}}();O&&(window.scCGSHMRCache={});t.a=$e}).call(this,n(117))},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(0),i=n(6),a=n.n(i),s=a.a.shape({trySubscribe:a.a.func.isRequired,tryUnsubscribe:a.a.func.isRequired,notifyNestedSubs:a.a.func.isRequired,isSubscribed:a.a.func.isRequired}),u=a.a.shape({subscribe:a.a.func.isRequired,dispatch:a.a.func.isRequired,getState:a.a.func.isRequired});var c=function(e){var t;void 0===e&&(e="store");var n=e+"Subscription",i=function(t){r(a,t);var i=a.prototype;function a(n,r){var o;return(o=t.call(this,n,r)||this)[e]=n.store,o}return i.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},i.render=function(){return o.Children.only(this.props.children)},a}(o.Component);return i.propTypes={store:u.isRequired,children:a.a.element.isRequired},i.childContextTypes=((t={})[e]=u.isRequired,t[n]=s,t),i}(),l=n(68);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var p=n(263),d=n.n(p),y=n(116),m=n.n(y),v=n(47),g=null,b={notify:function(){}};var w=function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=b}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function(){var e=[],t=[];return{clear:function(){t=g,e=g},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==g&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=b)},e}(),E=0,T={};function _(){}function S(e,t){var n,i;void 0===t&&(t={});var a=t,c=a.getDisplayName,p=void 0===c?function(e){return"ConnectAdvanced("+e+")"}:c,y=a.methodName,g=void 0===y?"connectAdvanced":y,b=a.renderCountProp,S=void 0===b?void 0:b,I=a.shouldHandleStateChanges,A=void 0===I||I,C=a.storeKey,O=void 0===C?"store":C,k=a.withRef,x=void 0!==k&&k,R=h(a,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),P=O+"Subscription",N=E++,D=((n={})[O]=u,n[P]=s,n),L=((i={})[P]=s,i);return function(t){m()(Object(v.isValidElementType)(t),"You must pass a component to the function returned by "+g+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",i=p(n),a=f({},R,{getDisplayName:p,methodName:g,renderCountProp:S,shouldHandleStateChanges:A,storeKey:O,withRef:x,displayName:i,wrappedComponentName:n,WrappedComponent:t}),s=function(n){function s(e,t){var r;return(r=n.call(this,e,t)||this).version=N,r.state={},r.renderCount=0,r.store=e[O]||t[O],r.propsMode=Boolean(e[O]),r.setWrappedInstance=r.setWrappedInstance.bind(Object(l.a)(Object(l.a)(r))),m()(r.store,'Could not find "'+O+'" in either the context or props of "'+i+'". Either wrap the root component in a <Provider>, or explicitly pass "'+O+'" as a prop to "'+i+'".'),r.initSelector(),r.initSubscription(),r}r(s,n);var u=s.prototype;return u.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[P]=t||this.context[P],e},u.componentDidMount=function(){A&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},u.componentWillReceiveProps=function(e){this.selector.run(e)},u.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},u.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=_,this.store=null,this.selector.run=_,this.selector.shouldComponentUpdate=!1},u.getWrappedInstance=function(){return m()(x,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+g+"() call."),this.wrappedInstance},u.setWrappedInstance=function(e){this.wrappedInstance=e},u.initSelector=function(){var t=e(this.store.dispatch,a);this.selector=function(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(i){n.shouldComponentUpdate=!0,n.error=i}}};return n}(t,this.store),this.selector.run(this.props)},u.initSubscription=function(){if(A){var e=(this.propsMode?this.props:this.context)[P];this.subscription=new w(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},u.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(T)):this.notifyNestedSubs()},u.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},u.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},u.addExtraProps=function(e){if(!x&&!S&&(!this.propsMode||!this.subscription))return e;var t=f({},e);return x&&(t.ref=this.setWrappedInstance),S&&(t[S]=this.renderCount++),this.propsMode&&this.subscription&&(t[P]=this.subscription),t},u.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(o.createElement)(t,this.addExtraProps(e.props))},s}(o.Component);return s.WrappedComponent=t,s.displayName=i,s.childContextTypes=L,s.contextTypes=D,s.propTypes=D,d()(s,t)}}var I=Object.prototype.hasOwnProperty;function A(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function C(e,t){if(A(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!I.call(t,n[o])||!A(e[n[o]],t[n[o]]))return!1;return!0}var O=n(31);function k(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function x(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function R(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=x(e);var o=r(t,n);return"function"===typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=x(o),o=r(t,n)),o},r}}var P=[function(e){return"function"===typeof e?R(e):void 0},function(e){return e?void 0:k(function(e){return{dispatch:e}})},function(e){return e&&"object"===typeof e?k(function(t){return Object(O.b)(e,t)}):void 0}];var N=[function(e){return"function"===typeof e?R(e):void 0},function(e){return e?void 0:k(function(){return{}})}];function D(e,t,n){return f({},n,e,t)}var L=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var u=e(t,n,s);return a?o&&i(u,r)||(r=u):(a=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return D}}];function M(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function j(e,t,n,r,o){var i,a,s,u,c,l=o.areStatesEqual,f=o.areOwnPropsEqual,h=o.areStatePropsEqual,p=!1;function d(o,p){var d=!f(p,a),y=!l(o,i);return i=o,a=p,d&&y?(s=e(i,a),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):d?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):y?function(){var t=e(i,a),r=!h(t,s);return s=t,r&&(c=n(s,u,a)),c}():c}return function(o,l){return p?d(o,l):(s=e(i=o,a=l),u=t(r,a),c=n(s,u,a),p=!0,c)}}function U(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=h(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),s=r(e,i),u=o(e,i);return(i.pure?j:M)(a,s,u,e,i)}function F(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function q(e,t){return e===t}var B=function(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?S:n,o=t.mapStateToPropsFactories,i=void 0===o?N:o,a=t.mapDispatchToPropsFactories,s=void 0===a?P:a,u=t.mergePropsFactories,c=void 0===u?L:u,l=t.selectorFactory,p=void 0===l?U:l;return function(e,t,n,o){void 0===o&&(o={});var a=o,u=a.pure,l=void 0===u||u,d=a.areStatesEqual,y=void 0===d?q:d,m=a.areOwnPropsEqual,v=void 0===m?C:m,g=a.areStatePropsEqual,b=void 0===g?C:g,w=a.areMergedPropsEqual,E=void 0===w?C:w,T=h(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),_=F(e,i,"mapStateToProps"),S=F(t,s,"mapDispatchToProps"),I=F(n,c,"mergeProps");return r(p,f({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:S,initMergeProps:I,pure:l,areStatesEqual:y,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:E},T))}}();n.d(t,"a",function(){return c}),n.d(t,"b",function(){return B})},function(e,t,n){e.exports=n(275)()},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(69);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},function(e,t,n){var r=n(19),o=n(4),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==a||t==s||t==i||t==u}},function(e,t){e.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},function(e,t,n){var r=n(168),o=n(18),i=n(169),a=n(30).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(182),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.actionsPrefix="@@reactReduxFirebase",o=t.actionTypes={START:r+"/START",SET:r+"/SET",REMOVE:r+"/REMOVE",MERGE:r+"/MERGE",SET_PROFILE:r+"/SET_PROFILE",LOGIN:r+"/LOGIN",LOGOUT:r+"/LOGOUT",LOGIN_ERROR:r+"/LOGIN_ERROR",NO_VALUE:r+"/NO_VALUE",UNAUTHORIZED_ERROR:r+"/UNAUTHORIZED_ERROR",ERROR:r+"/ERROR",CLEAR_ERRORS:r+"/CLEAR_ERRORS",SET_LISTENER:r+"/SET_LISTENER",UNSET_LISTENER:r+"/UNSET_LISTENER",AUTHENTICATION_INIT_STARTED:r+"/AUTHENTICATION_INIT_STARTED",AUTHENTICATION_INIT_FINISHED:r+"/AUTHENTICATION_INIT_FINISHED",SESSION_START:r+"/SESSION_START",SESSION_END:r+"/SESSION_END",FILE_UPLOAD_START:r+"/FILE_UPLOAD_START",FILE_UPLOAD_ERROR:r+"/FILE_UPLOAD_ERROR",FILE_UPLOAD_PROGRESS:r+"/FILE_UPLOAD_PROGRESS",FILE_UPLOAD_COMPLETE:r+"/FILE_UPLOAD_COMPLETE",FILE_DELETE_START:r+"/FILE_DELETE_START",FILE_DELETE_ERROR:r+"/FILE_DELETE_ERROR",FILE_DELETE_COMPLETE:r+"/FILE_DELETE_COMPLETE",AUTH_UPDATE_START:r+"/AUTH_UPDATE_START",AUTH_UPDATE_SUCCESS:r+"/AUTH_UPDATE_SUCCESS",AUTH_UPDATE_ERROR:r+"/AUTH_UPDATE_ERROR",PROFILE_UPDATE_START:r+"/PROFILE_UPDATE_START",PROFILE_UPDATE_SUCCESS:r+"/PROFILE_UPDATE_SUCCESS",PROFILE_UPDATE_ERROR:r+"/PROFILE_UPDATE_ERROR",EMAIL_UPDATE_START:r+"/EMAIL_UPDATE_START",EMAIL_UPDATE_SUCCESS:r+"/EMAIL_UPDATE_SUCCESS",EMAIL_UPDATE_ERROR:r+"/EMAIL_UPDATE_ERROR",AUTH_RELOAD_START:r+"/AUTH_RELOAD_START",AUTH_RELOAD_ERROR:r+"/AUTH_RELOAD_ERROR",AUTH_RELOAD_SUCCESS:r+"/AUTH_RELOAD_SUCCESS",AUTH_LINK_START:r+"/AUTH_LINK_START",AUTH_LINK_ERROR:r+"/AUTH_LINK_ERROR",AUTH_LINK_SUCCESS:r+"/AUTH_LINK_SUCCESS",AUTH_EMPTY_CHANGE:r+"/AUTH_EMPTY_CHANGE"},i=t.defaultConfig={userProfile:null,presence:null,sessions:"sessions",enableLogging:!1,logErrors:!0,preserveOnLogout:null,preserveOnEmptyAuthChange:null,resetBeforeLogin:!0,updateProfileOnLogin:!0,enableRedirectHandling:!0,autoPopulateProfile:!1,setProfilePopulateResults:!1,dispatchOnUnsetListener:!0,dispatchRemoveAction:!1,enableEmptyAuthChanges:!0,firebaseStateName:"firebase",attachAuthIsReady:!1,keysToRemoveFromAuth:["appName","apiKey","authDomain","redirectEventId","stsTokenManager","uid"],keysToPreserveFromProviderData:["email","phoneNumber","photoURL","providerId","uid"]};t.supportedAuthProviders=["google","github","twitter","facebook"],t.topLevelPaths=["auth","profile","ordered","data"],t.v3ErrorMessage="Context from react-redux not found. If you are using react-redux v6 a v3.*.* version of react-redux-firebase is required. Please checkout the v3 migration guide: http://bit.ly/2SRNdiO";t.default={actionTypes:o,defaultConfig:i}},function(e,t,n){var r=n(64)("wks"),o=n(162),i=n(10).Symbol,a=n(254);e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.methodsToAddFromFirestore=t.defaultConfig=t.actionTypes=t.actionsPrefix=void 0;var r="@@reduxFirestore";t.actionsPrefix=r;var o={START:"".concat(r,"/START"),ERROR:"".concat(r,"/ERROR"),CLEAR_DATA:"".concat(r,"/CLEAR_DATA"),CLEAR_ERROR:"".concat(r,"/CLEAR_ERROR"),CLEAR_ERRORS:"".concat(r,"/CLEAR_ERRORS"),SET_LISTENER:"".concat(r,"/SET_LISTENER"),UNSET_LISTENER:"".concat(r,"/UNSET_LISTENER"),GET_REQUEST:"".concat(r,"/GET_REQUEST"),GET_SUCCESS:"".concat(r,"/GET_SUCCESS"),GET_FAILURE:"".concat(r,"/GET_FAILURE"),SET_REQUEST:"".concat(r,"/SET_REQUEST"),SET_SUCCESS:"".concat(r,"/SET_SUCCESS"),SET_FAILURE:"".concat(r,"/SET_FAILURE"),ADD_REQUEST:"".concat(r,"/ADD_REQUEST"),ADD_SUCCESS:"".concat(r,"/ADD_SUCCESS"),ADD_FAILURE:"".concat(r,"/ADD_FAILURE"),UPDATE_REQUEST:"".concat(r,"/UPDATE_REQUEST"),UPDATE_SUCCESS:"".concat(r,"/UPDATE_SUCCESS"),UPDATE_FAILURE:"".concat(r,"/UPDATE_FAILURE"),DELETE_REQUEST:"".concat(r,"/DELETE_REQUEST"),DELETE_SUCCESS:"".concat(r,"/DELETE_SUCCESS"),DELETE_FAILURE:"".concat(r,"/DELETE_FAILURE"),ATTACH_LISTENER:"".concat(r,"/ATTACH_LISTENER"),LISTENER_RESPONSE:"".concat(r,"/LISTENER_RESPONSE"),LISTENER_ERROR:"".concat(r,"/LISTENER_ERROR"),ON_SNAPSHOT_REQUEST:"".concat(r,"/ON_SNAPSHOT_REQUEST"),ON_SNAPSHOT_SUCCESS:"".concat(r,"/ON_SNAPSHOT_SUCCESS"),ON_SNAPSHOT_FAILURE:"".concat(r,"/ON_SNAPSHOT_FAILURE"),DOCUMENT_ADDED:"".concat(r,"/DOCUMENT_ADDED"),DOCUMENT_MODIFIED:"".concat(r,"/DOCUMENT_MODIFIED"),DOCUMENT_REMOVED:"".concat(r,"/DOCUMENT_REMOVED"),TRANSACTION_START:"".concat(r,"/TRANSACTION_START"),TRANSACTION_SUCCESS:"".concat(r,"/TRANSACTION_SUCCESS"),TRANSACTION_FAILURE:"".concat(r,"/TRANSACTION_FAILURE")};t.actionTypes=o;var i={logListenerError:!0,enhancerNamespace:"firestore",helpersNamespace:null,allowMultipleListeners:!1,preserveOnDelete:null,preserveOnListenerError:null,onAttemptCollectionDelete:null,mergeOrdered:!0,mergeOrderedDocUpdates:!0,mergeOrderedCollectionUpdates:!0};t.defaultConfig=i;t.methodsToAddFromFirestore=["collection","configureClient","doc","batch","disableNetwork","enableNetwork","enablePersistence","ensureClientConfigured","setLogLevel","settings"];var a={actionsPrefix:r,actionTypes:o,defaultConfig:i};t.default=a},function(e,t,n){var r=n(374),o=n(383),i=n(50),a=n(3),s=n(387);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(40),o=n(300),i=n(301),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:u&&u in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(87);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(9),o=n(126);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(30),o=n(65);e.exports=n(39)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(10),o=n(163).f,i=n(25),a=n(103),s=n(161),u=n(256),c=n(483);e.exports=function(e,t){var n,l,f,h,p,d=e.target,y=e.global,m=e.stat;if(n=y?r:m?r[d]||s(d,{}):(r[d]||{}).prototype)for(l in t){if(h=t[l],f=e.noTargetGet?(p=o(n,l))&&p.value:n[l],!c(y?l:d+(m?".":"#")+l,e.forced)&&void 0!==f){if(typeof h===typeof f)continue;u(h,f)}(e.sham||f&&f.sham)&&i(h,"sham",!0),a(n,l,h,e)}}},function(e,t,n){var r=n(198),o=n(79),i=n(24);e.exports=function(e){return i(e)?r(e):o(e)}},function(e,t,n){var r=n(53),o=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}},function(e,t,n){var r=n(19),o=n(3),i=n(12),a="[object String]";e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&r(e)==a}},function(e,t,n){var r=n(39),o=n(252),i=n(45),a=n(100),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return s(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return p});var r=n(171),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function a(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var o;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var u=e,c=t,l=[],f=l,h=!1;function p(){f===l&&(f=l.slice())}function d(){if(h)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function y(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(h)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return p(),f.push(e),function(){if(t){if(h)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,p();var n=f.indexOf(e);f.splice(n,1)}}}function m(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,c=u(c,e)}finally{h=!1}for(var t=l=f,n=0;n<t.length;n++){(0,t[n])()}return e}return m({type:i.INIT}),(o={dispatch:m,subscribe:y,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,m({type:i.REPLACE})}})[r.a]=function(){var e,t=y;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e},o}function u(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"===typeof e[o]&&(n[o]=e[o])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:i.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:i.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+i.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(c){a=c}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,o={},i=0;i<s.length;i++){var c=s[i],l=n[c],f=e[c],h=l(f,t);if("undefined"===typeof h){var p=u(c,t);throw new Error(p)}o[c]=h,r=r||h!==f}return r?o:e}}function l(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"===typeof e)return l(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},o=0;o<n.length;o++){var i=n[o],a=e[i];"function"===typeof a&&(r[i]=l(a,t))}return r}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map(function(e){return e(o)});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}({},n,{dispatch:r=p.apply(void 0,i)(n.dispatch)})}}}},function(e,t,n){var r=n(299),o=n(304);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(76),o=n(42);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=i?i(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?o(n,c,l):r(n,c,l)}return n}},function(e,t,n){var r=n(359),o=n(128),i=n(360),a=n(205),s=n(181),u=n(19),c=n(183),l=c(r),f=c(o),h=c(i),p=c(a),d=c(s),y=u;(r&&"[object DataView]"!=y(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=y(new o)||i&&"[object Promise]"!=y(i.resolve())||a&&"[object Set]"!=y(new a)||s&&"[object WeakMap]"!=y(new s))&&(y=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return t}),e.exports=y},function(e,t,n){var r=n(3),o=n(141),i=n(213),a=n(36);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(142);e.exports=function(e){return null==e?"":r(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(224),o=n(396)(r);e.exports=o},function(e,t,n){e.exports=!n(21)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(13).Symbol;e.exports=r},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var o=typeof e;return!!(t=null==t?n:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(194);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(37),o=n(17),i=n(405),a=n(3);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pathToArr=p,t.getSlashStrPath=function(e){return(0,o.default)((0,i.default)(e,/[.]/g,"/"),"/")},t.getDotStrPath=function(e){return p(e).join(".")},t.combineReducers=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return Object.keys(e).reduce(function(r,o){return r[o]=e[o](t[o],n),r},{})}},t.pathFromMeta=function e(t){if(!t)throw new Error("Action meta is required to build path for reducers.");var n=t.collection,o=t.doc,i=t.subcollections,a=t.storeAs;if(a)return o?[a,o]:[a];if(t.path)return t.path.split("/");if(!n)throw new Error("Collection is required to construct reducer path.");var s=[n];o&&(s=[].concat(h(s),[o]));if(!i)return s;var u=i.map(e);return[].concat(h(s),h((0,r.default)(u)))},t.updateItemInArray=function(e,t,n){var r=!1,o=Array.isArray(e)?e.map(function(e){if(!e||e.id!==t)return e;r=!0;var o=n(e);return o}):[];r||o.push(n({id:t}));return o},t.createReducer=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return t.hasOwnProperty(r.type)?t[r.type](n,r):n}},t.preserveValuesFromState=function(e,t,n){if((0,u.default)(t))return n?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}({},e,n):e;if((0,c.default)(t))return t(e,n);if((0,s.default)(t))return(0,a.default)(e,t);throw new Error("Invalid preserve parameter. It must be an Object or an Array.")};var r=l(n(217)),o=l(n(418)),i=l(n(232)),a=l(n(92)),s=l(n(3)),u=l(n(234)),c=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e){return e?e.split(/\//).filter(function(e){return!!e}):[]}},function(e,t,n){var r=n(22);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(159),o=n(63);e.exports=function(e){return r(o(e))}},function(e,t,n){"use strict";e.exports=n(277)},function(e,t,n){"use strict";var r,o,i,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=_(n(0)),c=_(n(6)),l=_(n(67)),f=_(n(279)),h=_(n(280)),p=_(n(281)),d=_(n(282)),y=_(n(283)),m=_(n(284)),v=_(n(285)),g=_(n(286)),b=_(n(287)),w=n(288),E=_(n(289)),T=_(n(290));function _(e){return e&&e.__esModule?e:{default:e}}var S=(0,h.default)(r=(0,p.default)(r=(0,d.default)(r=(0,y.default)(r=(0,m.default)(r=(0,v.default)((i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={place:e.place||"top",desiredPlace:e.place||"top",type:"dark",effect:"float",show:!1,border:!1,offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:e.event||null,eventOff:e.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:(0,w.parseAria)(e),isEmptyTip:!1,disable:!1,originTooltip:null,isMultiline:!1},n.bind(["showTooltip","updateTooltip","hideTooltip","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),n.mount=!0,n.delayShowLoop=null,n.delayHideLoop=null,n.delayReshow=null,n.intervalUpdateContent=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),s(t,[{key:"bind",value:function(e){var t=this;e.forEach(function(e){t[e]=t[e].bind(t)})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.insecure,n=e.resizeHide;t&&this.setStyleHeader(),this.bindListener(),this.bindWindowEvents(n)}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.ariaProps,n=(0,w.parseAria)(e);Object.keys(n).some(function(e){return n[e]!==t[e]})&&this.setState({ariaProps:n})}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(),this.unbindWindowEvents()}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(e){var t=void 0;if(e){var n=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t=document.querySelectorAll('[data-tip][data-for="'+n+'"]')}else t=document.querySelectorAll("[data-tip]:not([data-for])");return(0,E.default)(t)}},{key:"bindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff,o=t.isCapture;this.getTargetArray(n).forEach(function(t){var n=e.isCapture(t),r=e.getEffect(t);null===t.getAttribute("currentItem")&&t.setAttribute("currentItem","false"),e.unbindBasicListener(t),e.isCustomEvent(t)?e.customBindListener(t):(t.addEventListener("mouseenter",e.showTooltip,n),"float"===r&&t.addEventListener("mousemove",e.updateTooltip,n),t.addEventListener("mouseleave",e.hideTooltip,n))}),r&&(window.removeEventListener(r,this.hideTooltip),window.addEventListener(r,this.hideTooltip,o)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff;this.getTargetArray(n).forEach(function(t){e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)}),r&&window.removeEventListener(r,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(e){var t=this.isCapture(e);e.removeEventListener("mouseenter",this.showTooltip,t),e.removeEventListener("mousemove",this.updateTooltip,t),e.removeEventListener("mouseleave",this.hideTooltip,t)}},{key:"getTooltipContent",value:function(){var e=this.props,t=e.getContent,n=e.children,r=void 0;return t&&(r=Array.isArray(t)?t[0]&&t[0](this.state.originTooltip):t(this.state.originTooltip)),(0,b.default)(this.state.originTooltip,n,r,this.state.isMultiline)}},{key:"isEmptyTip",value:function(e){return"string"===typeof e&&""===e||null===e}},{key:"showTooltip",value:function(e,t){if(t&&!this.getTargetArray(this.props.id).some(function(t){return t===e.currentTarget}))return;var n=this.props,r=n.multiline,o=n.getContent,i=e.currentTarget.getAttribute("data-tip"),a=e.currentTarget.getAttribute("data-multiline")||r||!1,s=e instanceof window.FocusEvent||t,u=!0;e.currentTarget.getAttribute("data-scroll-hide")?u="true"===e.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(u=this.props.scrollHide);var c=e.currentTarget.getAttribute("data-place")||this.props.place||"top",f=s?"solid":this.getEffect(e.currentTarget),h=e.currentTarget.getAttribute("data-offset")||this.props.offset||{},p=(0,g.default)(e,e.currentTarget,l.default.findDOMNode(this),c,c,f,h),d=p.isNewState?p.newState.place:c;this.clearTimer();var y=e.currentTarget,m=this.state.show?y.getAttribute("data-delay-update")||this.props.delayUpdate:0,v=this,w=function(){v.setState({originTooltip:i,isMultiline:a,desiredPlace:c,place:d,type:y.getAttribute("data-type")||v.props.type||"dark",effect:f,offset:h,html:y.getAttribute("data-html")?"true"===y.getAttribute("data-html"):v.props.html||!1,delayShow:y.getAttribute("data-delay-show")||v.props.delayShow||0,delayHide:y.getAttribute("data-delay-hide")||v.props.delayHide||0,delayUpdate:y.getAttribute("data-delay-update")||v.props.delayUpdate||0,border:y.getAttribute("data-border")?"true"===y.getAttribute("data-border"):v.props.border||!1,extraClass:y.getAttribute("data-class")||v.props.class||v.props.className||"",disable:y.getAttribute("data-tip-disable")?"true"===y.getAttribute("data-tip-disable"):v.props.disable||!1,currentTarget:y},function(){u&&v.addScrollListener(v.state.currentTarget),v.updateTooltip(e),o&&Array.isArray(o)&&(v.intervalUpdateContent=setInterval(function(){if(v.mount){var e=v.props.getContent,t=(0,b.default)(i,"",e[0](),a),n=v.isEmptyTip(t);v.setState({isEmptyTip:n}),v.updatePosition()}},o[1]))})};m?this.delayReshow=setTimeout(w,m):w()}},{key:"updateTooltip",value:function(e){var t=this,n=this.state,r=n.delayShow,o=n.disable,i=this.props.afterShow,a=this.getTooltipContent(),s=parseInt(r,10),u=e.currentTarget||e.target;if(!this.mouseOnToolTip()&&!this.isEmptyTip(a)&&!o){var c=function(){if(Array.isArray(a)&&a.length>0||a){var n=!t.state.show;t.setState({currentEvent:e,currentTarget:u,show:!0},function(){t.updatePosition(),n&&i&&i(e)})}};clearTimeout(this.delayShowLoop),r?this.delayShowLoop=setTimeout(c,s):c()}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(e,t){var n=this,r=this.state,o=r.delayHide,i=r.disable,a=this.props.afterHide,s=this.getTooltipContent();if(this.mount&&!this.isEmptyTip(s)&&!i){if(t)if(!this.getTargetArray(this.props.id).some(function(t){return t===e.currentTarget})||!this.state.show)return;var u=function(){var t=n.state.show;n.mouseOnToolTip()?n.listenForTooltipExit():(n.removeListenerForTooltipExit(),n.setState({show:!1},function(){n.removeScrollListener(),t&&a&&a(e)}))};this.clearTimer(),o?this.delayHideLoop=setTimeout(u,parseInt(o,10)):u()}}},{key:"addScrollListener",value:function(e){var t=this.isCapture(e);window.addEventListener("scroll",this.hideTooltip,t)}},{key:"removeScrollListener",value:function(){window.removeEventListener("scroll",this.hideTooltip)}},{key:"updatePosition",value:function(){var e=this,t=this.state,n=t.currentEvent,r=t.currentTarget,o=t.place,i=t.desiredPlace,a=t.effect,s=t.offset,u=l.default.findDOMNode(this),c=(0,g.default)(n,r,u,o,i,a,s);if(c.isNewState)return this.setState(c.newState,function(){e.updatePosition()});u.style.left=c.position.left+"px",u.style.top=c.position.top+"px"}},{key:"setStyleHeader",value:function(){var e=document.getElementsByTagName("head")[0];if(!e.querySelector('style[id="react-tooltip"]')){var t=document.createElement("style");t.id="react-tooltip",t.innerHTML=T.default,n.nc&&t.setAttribute("nonce",n.nc),e.insertBefore(t,e.firstChild)}}},{key:"clearTimer",value:function(){clearTimeout(this.delayShowLoop),clearTimeout(this.delayHideLoop),clearTimeout(this.delayReshow),clearInterval(this.intervalUpdateContent)}},{key:"render",value:function(){var e=this,n=this.state,r=n.extraClass,o=n.html,i=n.ariaProps,s=n.disable,c=this.getTooltipContent(),l=this.isEmptyTip(c),h=(0,f.default)("__react_component_tooltip",{show:this.state.show&&!s&&!l},{border:this.state.border},{"place-top":"top"===this.state.place},{"place-bottom":"bottom"===this.state.place},{"place-left":"left"===this.state.place},{"place-right":"right"===this.state.place},{"type-dark":"dark"===this.state.type},{"type-success":"success"===this.state.type},{"type-warning":"warning"===this.state.type},{"type-error":"error"===this.state.type},{"type-info":"info"===this.state.type},{"type-light":"light"===this.state.type},{allow_hover:this.props.delayUpdate},{allow_click:this.props.clickable}),p=this.props.wrapper;return t.supportedWrappers.indexOf(p)<0&&(p=t.defaultProps.wrapper),o?u.default.createElement(p,a({className:h+" "+r,id:this.props.id,ref:function(t){return e.tooltipRef=t}},i,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:c}})):u.default.createElement(p,a({className:h+" "+r,id:this.props.id},i,{ref:function(t){return e.tooltipRef=t},"data-id":"tooltip"}),c)}}]),t}(),o.propTypes={children:c.default.any,place:c.default.string,type:c.default.string,effect:c.default.string,offset:c.default.object,multiline:c.default.bool,border:c.default.bool,insecure:c.default.bool,class:c.default.string,className:c.default.string,id:c.default.string,html:c.default.bool,delayHide:c.default.number,delayUpdate:c.default.number,delayShow:c.default.number,event:c.default.string,eventOff:c.default.string,watchWindow:c.default.bool,isCapture:c.default.bool,globalEventOff:c.default.string,getContent:c.default.any,afterShow:c.default.func,afterHide:c.default.func,disable:c.default.bool,scrollHide:c.default.bool,resizeHide:c.default.bool,wrapper:c.default.string,clickable:c.default.bool},o.defaultProps={insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1},o.supportedWrappers=["div","span"],o.displayName="ReactTooltip",r=i))||r)||r)||r)||r)||r)||r;e.exports=S},function(e,t){e.exports={}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(19),o=n(12),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==i}},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(327),o=n(12),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t,n){(function(e){var r=n(13),o=n(328),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;e.exports=u}).call(this,n(125)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(50),o=n(218),i=n(121);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){var r=n(149);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},function(e,t,n){var r=n(79),o=n(34),i=n(24),a=n(29),s=n(412),u="[object Map]",c="[object Set]";e.exports=function(e){if(null==e)return 0;if(i(e))return a(e)?s(e):e.length;var t=o(e);return t==u||t==c?e.size:r(e).length}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringToDate=t.wrapDisplayName=t.getDisplayName=t.createCallable=t.getEventsFromInput=void 0;var r,o=n(9),i=(r=o)&&r.__esModule?r:{default:r},a=n(442);Object.defineProperty(t,"getEventsFromInput",{enumerable:!0,get:function(){return a.getEventsFromInput}});t.createCallable=function(e){return(0,i.default)(e)?e:function(){return e}};var s=t.getDisplayName=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":void 0};t.wrapDisplayName=function(e,t){return t+"("+s(e)+")"},t.stringToDate=function(e){try{return new Date(JSON.parse(e))}catch(t){return console.error("Error parsing string to date:",t.message||t),e}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(10),o=n(161),i=r["__core-js_shared__"]||o("__core-js_shared__",{});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.0.1",mode:n(101)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(30).f,o=n(18),i=n(15)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(271)},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"enhancer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"reduxFirestore",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"getFirestore",{enumerable:!0,get:function(){return r.getFirestore}}),Object.defineProperty(t,"reducer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"firestoreReducer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"actions",{enumerable:!0,get:function(){return i.firestoreActions}}),Object.defineProperty(t,"createFirestoreInstance",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"constants",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"actionTypes",{enumerable:!0,get:function(){return s.actionTypes}}),Object.defineProperty(t,"middleware",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"CALL_FIRESTORE",{enumerable:!0,get:function(){return u.CALL_FIRESTORE}}),t.default=t.version=void 0;var r=l(n(294)),o=c(n(416)),i=n(225),a=c(n(177)),s=l(n(16)),u=l(n(441));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}t.version="0.7.3";var f={version:"0.7.3",reducer:o.default,firestoreReducer:o.default,enhancer:r.default,reduxFirestore:r.default,createFirestoreInstance:a.default,actions:i.firestoreActions,getFirestore:r.getFirestore,constants:s.default,actionTypes:s.actionTypes,middleware:u.default,CALL_FIRESTORE:u.CALL_FIRESTORE};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(242),i=n(461),a=w(i),s=n(464),u=w(s),c=n(465),l=w(c),f=n(466),h=w(f),p=n(467),d=w(p),y=w(n(468)),m=n(14),v=w(m),g=n(158),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(247));function w(e){return e&&e.__esModule?e:{default:e}}t.default=r({firebase:a.default,createFirebaseInstance:o.createFirebaseInstance,firebaseConnect:a.default,createFirebaseConnect:i.createFirebaseConnect,firestoreConnect:u.default,createFirestoreConnect:s.createFirestoreConnect,withFirebase:l.default,createWithFirebase:c.createWithFirebase,withFirestore:h.default,createWithFirestore:f.createWithFirestore,reducer:y.default,firebaseReducer:y.default,firebaseStateReducer:y.default,reduxReactFirebase:d.default,reactReduxFirebase:d.default,reduxFirebase:d.default,constants:v.default,actionTypes:m.actionTypes,getFirebase:p.getFirebase,authIsReady:g.authIsReady,helpers:b},b),e.exports=t.default},function(e,t,n){var r=n(295),o=n(297);e.exports=function(e,t,n){return r(o,e,t,n)}},function(e,t,n){var r=n(74),o=n(4);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),i=e.apply(n,t);return o(i)?i:n}}},function(e,t,n){var r=n(4),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(42),o=n(54),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(329),o=n(78),i=n(127),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){var r=n(57),o=n(330),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(81),o=n(75),i=n(76),a=n(197),s=n(354),u=n(200),c=n(52),l=n(357),f=n(358),h=n(203),p=n(134),d=n(34),y=n(361),m=n(362),v=n(208),g=n(3),b=n(56),w=n(366),E=n(4),T=n(368),_=n(27),S=1,I=2,A=4,C="[object Arguments]",O="[object Function]",k="[object GeneratorFunction]",x="[object Object]",R={};R[C]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object DataView]"]=R["[object Boolean]"]=R["[object Date]"]=R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Map]"]=R["[object Number]"]=R[x]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object Symbol]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Error]"]=R[O]=R["[object WeakMap]"]=!1,e.exports=function e(t,n,P,N,D,L){var M,j=n&S,U=n&I,F=n&A;if(P&&(M=D?P(t,N,D,L):P(t)),void 0!==M)return M;if(!E(t))return t;var q=g(t);if(q){if(M=y(t),!j)return c(t,M)}else{var B=d(t),V=B==O||B==k;if(b(t))return u(t,j);if(B==x||B==C||V&&!D){if(M=U||V?{}:v(t),!j)return U?f(t,s(M,t)):l(t,a(M,t))}else{if(!R[B])return D?t:{};M=m(t,B,j)}}L||(L=new r);var W=L.get(t);if(W)return W;if(L.set(t,M),T(t))return t.forEach(function(r){M.add(e(r,n,P,r,t,L))}),M;if(w(t))return t.forEach(function(r,o){M.set(o,e(r,n,P,o,t,L))}),M;var z=F?U?p:h:U?keysIn:_,K=q?void 0:z(t);return o(K||t,function(r,o){K&&(r=t[o=r]),i(M,o,e(r,n,P,o,t,L))}),M}},function(e,t,n){var r=n(82),o=n(337),i=n(338),a=n(339),s=n(340),u=n(341);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},function(e,t,n){var r=n(332),o=n(333),i=n(334),a=n(335),s=n(336);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(54);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(32)(Object,"create");e.exports=r},function(e,t,n){var r=n(350);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(198),o=n(355),i=n(24);e.exports=function(e){return i(e)?r(e,!0):o(e)}},function(e,t,n){var r=n(35),o=n(28);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(132),o=n(390);e.exports=function e(t,n,i,a,s){var u=-1,c=t.length;for(i||(i=o),s||(s=[]);++u<c;){var l=t[u];n>0&&i(l)?n>1?e(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firestoreRef=O,t.getQueryName=R,t.getBaseQueryName=function(e){if((0,v.default)(e))return e;var t=e.collection,n=e.subcollections,r=E(e,["collection","subcollections"]);if(!t)throw new Error("Collection is required to build query name");var o=t;if(n){var i=n.map(function(e){return R(e)});o="".concat(o,"/").concat(i.join("/"))}var a=k(r);if(!(0,h.default)(a)){if(a.where&&!(0,m.default)(a.where))throw new Error("where parameter must be an array.");o=o.concat("?",x(a))}return o},t.listenerExists=function(e,t){P(e,t);var n=R(t);return!!e._.listeners[n]},t.attachListener=function(e,t,n,r){P(e,n);var o=R(n);e._.listeners[o]||(e._.listeners[o]=r);return t({type:g.actionTypes.SET_LISTENER,meta:n,payload:{name:o}}),e._.listeners},t.detachListener=function(e,t,n){var r=R(n);e._.listeners[r]&&(e._.listeners[r](),delete e._.listeners[r]);t({type:g.actionTypes.UNSET_LISTENER,meta:n,payload:{name:r}})},t.queryStrToObj=N,t.getQueryConfig=D,t.getQueryConfigs=function(e){if((0,m.default)(e))return e.map(D);if((0,v.default)(e))return N(e);if((0,d.default)(e))return[D(e)];throw new Error("Querie(s) must be an Array or a string.")},t.orderedFromSnap=L,t.dataByIdSnapshot=M,t.getPopulateChild=j,t.populateList=U,t.promisesForPopulate=q,t.dispatchListenerResponse=function(e){var t=e.dispatch,n=e.docData,o=e.meta,i=e.firebase._.config||{},a=i.mergeOrdered,s=i.mergeOrderedDocUpdates,u=i.mergeOrderedCollectionUpdates,c="function"===typeof n.docChanges?n.docChanges():n.docChanges;c&&c.length<n.size?c.forEach(function(e){t(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=T({},(0,r.default)(t),{path:e.doc.ref.path});t.subcollections&&!t.storeAs?n.subcollections[0]=T({},n.subcollections[0],{doc:e.doc.id}):n.doc=e.doc.id;return{type:B[e.type]||g.actionTypes.DOCUMENT_MODIFIED,meta:n,payload:{data:e.doc.data(),ordered:{oldIndex:e.oldIndex,newIndex:e.newIndex}}}}(e,o))}):t({type:g.actionTypes.LISTENER_RESPONSE,meta:o,payload:{data:M(n),ordered:L(n)},merge:{docs:a&&s,collections:a&&u}})},t.getPopulateActions=function(e){var t=e.firebase,n=e.docData,r=e.meta;return q(t,n.id,M(n),r.populates).then(function(e){return Object.keys(e).map(function(t){return{meta:{collection:t},payload:{data:e[t]},requesting:!1,requested:!0}})}).catch(function(e){return console.error("Error with populate:",e,r),Promise.reject(e)})};var r=b(n(403)),o=b(n(90)),i=b(n(60)),a=b(n(20)),s=b(n(43)),u=b(n(150)),c=b(n(91)),l=b(n(408)),f=b(n(61)),h=b(n(415)),p=b(n(231)),d=b(n(4)),y=b(n(9)),m=b(n(3)),v=b(n(29)),g=n(16);function b(e){return e&&e.__esModule?e:{default:e}}function w(e){return function(e){if(Array.isArray(e))return e}(e)||I(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_(e,t,n[t])})}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function I(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function A(e,t){if(!(0,m.default)(t))throw new Error("where parameter must be an array.");return(0,v.default)(t[0])?t.length>1?e.where.apply(e,S(t)):e.where(t[0]):t.reduce(function(e,t){return A(e,t)},e)}function C(e,t){if(!(0,m.default)(t)&&!(0,v.default)(t))throw new Error("orderBy parameter must be an array or string.");return(0,v.default)(t)?e.orderBy(t):(0,v.default)(t[0])?e.orderBy.apply(e,S(t)):t.reduce(function(e,t){return C(e,t)},e)}function O(e,t){if(!e.firestore)throw new Error("Firestore must be required and initalized.");var n=t.collection,r=t.doc,o=t.subcollections,i=t.where,a=t.orderBy,s=t.limit,u=t.startAt,l=t.startAfter,f=t.endAt,h=t.endBefore,p=e.firestore().collection(n);return r&&(p=p.doc(r)),p=function e(t,n){return n&&(0,c.default)(n,function(n){if(n.collection){if(!(0,y.default)(t.collection))throw new Error('Collection can only be run on a document. Check that query config for subcollection: "'.concat(n.collection,'" contains a doc parameter.'));t=t.collection(n.collection)}n.doc&&(t=t.doc(n.doc)),n.where&&(t=A(t,n.where)),n.orderBy&&(t=C(t,n.orderBy)),n.limit&&(t=t.limit(n.limit)),n.startAt&&(t=t.startAt(n.startAt)),n.startAfter&&(t=t.startAfter(n.startAfter)),n.endAt&&(t=t.endAt(n.endAt)),n.endBefore&&(t=t.endBefore(n.endBefore)),t=e(t,n.subcollections)}),t}(p,o),i&&(p=A(p,i)),a&&(p=C(p,a)),s&&(p=p.limit(s)),u&&(p=p.startAt(u)),l&&(p=p.startAfter(l)),f&&(p=p.endAt(f)),h&&(p=p.endBefore(h)),p}function k(e){return["where","orderBy","limit","startAfter","startAt","endAt","endBefore"].reduce(function(t,n){return e[n]?T({},t,_({},n,e[n])):t},{})}function x(e){return Object.keys(e).filter(function(t){return void 0!==e[t]}).map(function(t){return function e(t,n){return(0,v.default)(n)||(0,p.default)(n)?"".concat(t,"=").concat(n):(0,v.default)(n[0])?"".concat(t,"=").concat(n.join(":")):n&&n.toString?"".concat(t,"=").concat(n.toString()):n.map(function(n){return e(t,n)})}(t,e[t])}).join("&")}function R(e){if((0,v.default)(e))return e;var t=e.collection,n=e.doc,r=e.subcollections,o=e.storeAs,i=E(e,["collection","doc","subcollections","storeAs"]);if(!t)throw new Error("Collection is required to build query name");if(o)return o;var a=t;if(n&&(a=a.concat("/".concat(n))),r){var s=r.map(function(e){return R(e)});a="".concat(a,"/").concat(s.join("/"))}var u=k(i);if(!(0,h.default)(u)){if(u.where&&!(0,m.default)(u.where))throw new Error("where parameter must be an array.");a=a.concat("?",x(u))}return a}function P(e,t){if(!t)throw new Error("Meta data is required to attach listener.");if(!(0,u.default)(e,"_.listeners"))throw new Error("Internal Firebase object required to attach listener. Confirm that reduxFirestore enhancer was added when you were creating your store")}function N(e,t){var n=w(t||(0,l.default)(e,["/"]).split("/")),r=n[0],o=n[1],i=n.slice(2),a={};return r&&(a.collection=r),o&&(a.doc=o),i.length&&(a.subcollections=[N("",i)]),a}function D(e){if((0,v.default)(e))return N(e);if((0,d.default)(e)){if(!e.collection&&!e.doc)throw new Error("Collection and/or Doc are required parameters within query definition object.");return e}throw new Error("Invalid Path Definition: Only Strings and Objects are accepted.")}function L(e){var t=[];if(e.data&&e.exists){var n=(0,d.default)(e.data())?T({id:e.id},e.data()||e.data):{id:e.id,data:e.data()};t.push(n)}else e.forEach&&e.forEach(function(e){var n=(0,d.default)(e.data())?T({id:e.id},e.data()||e.data):{id:e.id,data:e.data()};t.push(n)});return t}function M(e){var t={};return e.data&&e.exists?t[e.id]=e.data():e.forEach&&e.forEach(function(e){t[e.id]=e.data()||e}),(0,f.default)(t)?t:null}function j(e,t,n){return O(e,{collection:t.root,doc:n}).get().then(function(e){return Object.assign({id:n},e.data())})}function U(e,t,n,r){return r[n.root]||(0,i.default)(r,n.root,{}),Promise.all((0,s.default)(t,function(t,o){var a=!0===t||n.populateByKey?o:t;return j(e,n,a).then(function(e){return e?(0,i.default)(r,"".concat(n.root,".").concat(a),e):r})}))}function F(e){if(!(0,v.default)(e))return e;var t=e.split(":");return{child:t[0],root:t[1]}}function q(e,t,n,r){var s,l=[],f={},h=(s=(0,y.default)(r)?r(t,n):r,(0,m.default)(s)?s.map(function(e){return(0,d.default)(e)?e:F(e)}):s);return(0,o.default)(h,function(e){return(0,u.default)(n,e.child)})?(0,c.default)(h,function(t){return(0,v.default)((0,a.default)(n,t.child))?l.push(j(e,t,(0,a.default)(n,t.child)).then(function(e){e&&(0,i.default)(f,"".concat(t.root,".").concat((0,a.default)(n,t.child)),e)})):l.push(U(e,(0,a.default)(n,t.child),t,f))}):(0,c.default)(n,function(t,n){var o=F((0,y.default)(r)?r(n,t):r);(0,c.default)(o,function(n){var r=(0,a.default)(t,n.child);if(r)return(0,v.default)(r)?l.push(j(e,n,r).then(function(e){return e&&(0,i.default)(f,"".concat(n.root,".").concat(r),e),f})):(0,m.default)(r)||(0,d.default)(r)?l.push(U(e,r,n,f)):void 0})}),Promise.all(l).then(function(){return f})}var B={added:g.actionTypes.DOCUMENT_ADDED,removed:g.actionTypes.DOCUMENT_REMOVED,modified:g.actionTypes.DOCUMENT_MODIFIED}},function(e,t,n){var r=n(210),o=n(17),i=n(404),a=n(3),s=n(147);e.exports=function(e,t,n){var u=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),u(e,o(t,3))}},function(e,t,n){var r=n(75),o=n(38),i=n(407),a=n(3);e.exports=function(e,t){return(a(e)?r:o)(e,i(t))}},function(e,t,n){var r=n(419),o=n(143)(function(e,t){return null==e?{}:r(e,t)});e.exports=o},function(e,t,n){var r=n(37),o=n(80),i=n(155),a=n(35),s=n(33),u=n(426),c=n(143),l=n(134),f=c(function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,function(t){return t=a(t,e),c||(c=t.length>1),t}),s(e,l(e),n),c&&(n=o(n,7,u));for(var f=t.length;f--;)i(n,t[f]);return n});e.exports=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promisesForPopulate=t.populateList=t.getPopulateChild=t.getPopulates=t.getPopulateObjs=t.getChildType=t.getPopulateObj=void 0;var r=d(n(90)),o=d(n(150)),i=d(n(60)),a=d(n(91)),s=d(n(20)),u=d(n(43)),c=d(n(4)),l=d(n(9)),f=d(n(3)),h=d(n(29)),p=d(n(243));function d(e){return e&&e.__esModule?e:{default:e}}var y=t.getPopulateObj=function(e){if(!(0,h.default)(e))return e;var t=e.split(":");return{child:t[0],root:t[1]}},m=(t.getChildType=function(e){return(0,h.default)(e)?"string":(0,f.default)(e)?"array":(0,c.default)(e)?"object":"other"},t.getPopulateObjs=function(e){return(0,f.default)(e)?e.map(function(e){return(0,c.default)(e)?e:y(e)}):e}),v=(t.getPopulates=function(e){var t=(0,p.default)(e,function(e){return-1!==e.indexOf("populate")||(0,c.default)(e)&&e.populates}).map(function(e){return e.split("=")[1]});return t.length?t.map(y):null},t.getPopulateChild=function(e,t,n){return e.database().ref().child(t.root+"/"+n).once("value").then(function(e){return e.val()})}),g=t.populateList=function(e,t,n,r){return r[n.root]||(0,i.default)(r,n.root,{}),Promise.all((0,u.default)(t,function(t,o){var a=!0===t||n.populateByKey?o:t;return v(e,n,a).then(function(e){return e?(0,i.default)(r,n.root+"."+a,e):r})}))},b=t.promisesForPopulate=function(e,t,n,u){var p=[],d={},b=m((0,l.default)(u)?u(t,n):u);return(0,r.default)(b,function(e){return(0,o.default)(n,e.child)})?(0,a.default)(b,function(t){return(0,h.default)((0,s.default)(n,t.child))?p.push(v(e,t,(0,s.default)(n,t.child)).then(function(e){e&&(0,i.default)(d,t.root+"."+(0,s.default)(n,t.child),e)})):p.push(g(e,(0,s.default)(n,t.child),t,d))}):(0,a.default)(n,function(t,n){var r=y((0,l.default)(u)?u(n,t):u);(0,a.default)(r,function(n){var r=(0,s.default)(t,n.child);if(r)return(0,h.default)(r)?p.push(v(e,n,r).then(function(e){return e&&(0,i.default)(d,n.root+"."+r,e),d})):(0,f.default)(r)||(0,c.default)(r)?p.push(g(e,r,n,d)):void 0})}),Promise.all(p).then(function(){return d})};t.default={promisesForPopulate:b}},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);e.exports=function e(t,n,f){if("string"!==typeof n){if(l){var h=c(n);h&&h!==l&&e(t,h,f)}var p=a(n);s&&(p=p.concat(s(n)));for(var d=0;d<p.length;++d){var y=p[d];if(!r[y]&&!o[y]&&(!f||!f[y])){var m=u(n,y);try{i(t,y,m)}catch(v){}}}return t}return t}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(63);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(99),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(22);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=!1},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(10),o=n(25),i=n(18),a=n(161),s=n(255),u=n(104),c=u.get,l=u.enforce,f=String(s).split("toString");n(64)("inspectSource",function(e){return s.call(e)}),(e.exports=function(e,t,n,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),l(n).source=f.join("string"==typeof t?t:"")),e!==r?(u?!h&&e[t]&&(c=!0):delete e[t],c?e[t]=n:o(e,t,n)):c?e[t]=n:a(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&c(this).source||s.call(this)})},function(e,t,n){var r,o,i,a=n(479),s=n(22),u=n(25),c=n(18),l=n(105),f=n(106),h=n(10).WeakMap;if(a){var p=new h,d=p.get,y=p.has,m=p.set;r=function(e,t){return m.call(p,e,t),t},o=function(e){return d.call(p,e)||{}},i=function(e){return y.call(p,e)}}else{var v=l("state");f[v]=!0,r=function(e,t){return u(e,v,t),t},o=function(e){return c(e,v)?e[v]:{}},i=function(e){return c(e,v)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(64)("keys"),o=n(162);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports={}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(257),o=n(165);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(10),o=n(250),i=Function.call;e.exports=function(e,t,n){return o(i,r[e].prototype[t],n)}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(262),i=n(542),a=((r={})["no-app"]="No Firebase App '{$name}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$name}",r["duplicate-app"]="Firebase App named '{$name}' already exists",r["app-deleted"]="Firebase App named '{$name}' already deleted",r["duplicate-service"]="Firebase service named '{$name}' already registered",r["invalid-app-argument"]="firebase.{$name}() takes either no argument or a Firebase App instance.",r),s=new i.ErrorFactory("app","Firebase",a);function u(e,t){throw s.create(e,t)}var c="[DEFAULT]",l=[],f=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=i.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){l.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){l=l.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,r=Object.keys(e.services_);n<r.length;n++)for(var o=r[n],i=0,a=Object.keys(e.services_[o]);i<a.length;i++){var s=a[i];t.push(e.services_[o][s])}return Promise.all(t.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=c),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==c?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;i.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(l.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),l=[])},e.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},e}();function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=!1;try{p="[object process]"===Object.prototype.toString.call(e.process)}catch(m){}if(p&&console.warn('\nWarning: This is a browser-targeted Firebase bundle but it appears it is being\nrun in a Node environment.  If running in a Node environment, make sure you\nare using the bundle specified by the "main" field in package.json.\n\nIf you are using Webpack, you can specify "main" as the first item in\n"resolve.mainFields":\nhttps://webpack.js.org/configuration/resolve/#resolvemainfields\n\nIf using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\nto false and "main" to true:\nhttps://github.com/rollup/rollup-plugin-node-resolve\n'),self&&"firebase"in self){console.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var d=self.firebase.SDK_VERSION;d&&d.indexOf("LITE")>=0&&console.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=function e(){var t=function(e){var t={},n={},r={},o={__esModule:!0,initializeApp:function(n,r){if(void 0===r&&(r={}),"object"!==typeof r||null===r){var i=r;r={name:i}}var a=r;void 0===a.name&&(a.name=c);var s=a.name;"string"===typeof s&&s||u("bad-app-name",{name:String(s)}),h(t,s)&&u("duplicate-app",{name:s});var f=new e(n,a,o);return t[s]=f,l(f,"create"),f},app:a,apps:null,Promise:Promise,SDK_VERSION:"5.11.0",INTERNAL:{registerService:function(t,c,l,f,h){function p(e){return void 0===e&&(e=a()),"function"!==typeof e[t]&&u("invalid-app-argument",{name:t}),e[t]()}return void 0===h&&(h=!1),n[t]&&u("duplicate-service",{name:t}),n[t]=c,f&&(r[t]=f,s().forEach(function(e){f("create",e)})),void 0!==l&&i.deepExtend(p,l),o[t]=p,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,h?e:[])},p},removeApp:function(e){l(t[e],"delete"),delete t[e]},factories:n,useAsService:f}};function a(e){return h(t,e=e||c)||u("no-app",{name:e}),t[e]}function s(){return Object.keys(t).map(function(e){return t[e]})}function l(e,t){for(var o=0,i=Object.keys(n);o<i.length;o++){var a=f(e,i[o]);if(null===a)return;r[a]&&r[a](t,e)}}function f(e,t){if("serverAuth"===t)return null;var n=t;return e.options,n}return i.patchProperty(o,"default",o),Object.defineProperty(o,"apps",{get:s}),i.patchProperty(a,"App",e),o}(f);return t.INTERNAL=o.__assign({},t.INTERNAL,{createFirebaseNamespace:e,extendNamespace:function(e){i.deepExtend(t,e)},createSubscribe:i.createSubscribe,ErrorFactory:i.ErrorFactory,deepExtend:i.deepExtend}),t}();t.default=y,t.firebase=y}).call(this,n(23))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var i=n(68);function a(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?Object(i.a)(e):t}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(u=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var r=n(179),o=n(305),i=n(306),a=n(184),s=n(322),u=n(188),c=n(323),l=n(191),f=n(193),h=n(196),p="Expected a function",d=1,y=2,m=8,v=16,g=32,b=64,w=Math.max;e.exports=function(e,t,n,E,T,_,S,I){var A=t&y;if(!A&&"function"!=typeof e)throw new TypeError(p);var C=E?E.length:0;if(C||(t&=~(g|b),E=T=void 0),S=void 0===S?S:w(h(S),0),I=void 0===I?I:h(I),C-=T?T.length:0,t&b){var O=E,k=T;E=T=void 0}var x=A?void 0:u(e),R=[e,t,n,E,T,O,k,_,S,I];if(x&&c(R,x),e=R[0],t=R[1],n=R[2],E=R[3],T=R[4],!(I=R[9]=void 0===R[9]?A?0:e.length:w(R[9]-C,0))&&t&(m|v)&&(t&=~(m|v)),t&&t!=d)P=t==m||t==v?i(e,t,I):t!=g&&t!=(d|g)||T.length?a.apply(void 0,R):s(e,t,n,E);else var P=o(e,t,n);return f((x?r:l)(P,R),e,t)}},function(e,t,n){var r=n(74),o=n(120),i=4294967295;function a(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=i,this.__views__=[]}a.prototype=r(o.prototype),a.prototype.constructor=a,e.exports=a},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(315),o=n(192)(r);e.exports=o},function(e,t,n){var r=n(123);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(318),o=n(319),i=n(320);e.exports=function(e,t,n){return t===t?i(e,t,n):r(e,o,n)}},function(e,t){var n="__lodash_placeholder__";e.exports=function(e,t){for(var r=-1,o=e.length,i=0,a=[];++r<o;){var s=e[r];s!==t&&s!==n||(e[r]=n,a[i++]=r)}return a}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){(function(e){var r=n(182),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s}).call(this,n(125)(e))},function(e,t,n){var r=n(32)(n(13),"Map");e.exports=r},function(e,t,n){var r=n(342),o=n(349),i=n(351),a=n(352),s=n(353);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(131),o=n(201),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return i.call(e,t)}))}:o;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(199)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(204),o=n(202),i=n(86);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(206);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(19),o=n(133),i=n(12),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,f=c.call(Object);e.exports=function(e){if(!i(e)||r(e)!=a)return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(e,t,n){var r=n(376),o=n(12);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!==t&&n!==n:r(t,n,i,a,e,s))}},function(e,t,n){var r=n(129),o=n(377),i=n(378);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t,n){var r=n(3),o=n(53),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var r=n(40),o=n(37),i=n(3),a=n(53),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},function(e,t,n){var r=n(217),o=n(218),i=n(121);e.exports=function(e){return i(o(e,void 0,r),e+"")}},function(e,t,n){var r=n(81),o=n(220),i=n(221),a=n(393),s=n(4),u=n(86),c=n(222);e.exports=function e(t,n,l,f,h){t!==n&&i(n,function(i,u){if(s(i))h||(h=new r),a(t,n,u,l,e,f,h);else{var p=f?f(c(t,u),i,u+"",t,n,h):void 0;void 0===p&&(p=i),o(t,u,p)}},u)}},function(e,t,n){var r=n(24),o=n(12);e.exports=function(e){return o(e)&&r(e)}},function(e,t,n){var r=n(58),o=n(147);e.exports=function(e){return r(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t})}},function(e,t,n){var r=n(54),o=n(24),i=n(41),a=n(4);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t,n){var r=n(42),o=n(224),i=n(17);e.exports=function(e,t){var n={};return t=i(t,3),o(e,function(e,o,i){r(n,o,t(e,o,i))}),n}},function(e,t,n){var r=n(76),o=n(35),i=n(41),a=n(4),s=n(28);e.exports=function(e,t,n,u){if(!a(e))return e;for(var c=-1,l=(t=o(t,e)).length,f=l-1,h=e;null!=h&&++c<l;){var p=s(t[c]),d=n;if(c!=f){var y=h[p];void 0===(d=u?u(y,p,h):void 0)&&(d=a(y)?y:i(t[c+1])?[]:{})}r(h,p,d),h=h[p]}return e}},function(e,t,n){var r=n(406),o=n(215);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t,n){var r=n(228);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},function(e,t,n){var r=n(410),o=n(153),i=n(411);e.exports=function(e){return o(e)?i(e):r(e)}},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t,n){var r=n(72)("assign",n(422));r.placeholder=n(49),e.exports=r},function(e,t,n){var r=n(35),o=n(59),i=n(227),a=n(28);e.exports=function(e,t){return t=r(t,e),null==(e=i(e,t))||delete e[a(o(t))]}},function(e,t,n){var r=n(137);e.exports=function(e,t){return r(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.recursiveUnset=t.preserveValuesFromState=t.combineReducers=void 0;var r=h(n(452)),o=h(n(3)),i=h(n(92)),a=h(n(234)),s=h(n(9)),u=h(n(61)),c=h(n(232)),l=h(n(20)),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function h(e){return e&&e.__esModule?e:{default:e}}function p(e){return e?e.split(/\//).filter(function(e){return!!e}):[]}t.pathToArr=p,t.getSlashStrPath=function(e){return p(e).join("/")},t.getDotStrPath=function(e){return p(e).join(".")};t.combineReducers=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];return Object.keys(e).reduce(function(r,o){return r[o]=e[o](t[o],n),r},{})}},t.preserveValuesFromState=function(e,t,n){if((0,s.default)(t))return t(e,n);if((0,a.default)(t)&&t)return n?f({},e,n):e;if((0,o.default)(t))return(0,i.default)(e,t);throw new Error("Invalid preserve parameter. It must be an Object or an Array")},t.recursiveUnset=function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return n;if((0,u.default)((0,l.default)(n,t))>0&&o)return n;var i=(0,r.default)(t,n);return e(t.match(/\./)?(0,c.default)(t,/\.[^.]*$/,""):"",i,!0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateProfileOnFirestore=t.updateProfileOnRTDB=t.createAuthIsReady=t.authIsReady=t.getLoginMethodAndParams=void 0;var r=u(n(9)),o=u(n(29)),i=u(n(3)),a=u(n(453));t.setupPresence=function(e,t){if(!t.database||!t.database.ServerValue)return;var n=t.database().ref(),o=t._,i=o.config,a=i.presence,u=i.sessions,c=o.authUid,l=n.child(".info/connected"),f=n.child((0,r.default)(a)?a(t.auth().currentUser,t):a).child(c),h=(0,r.default)(u)?u(t.auth().currentUser,t):u;h&&(h=n.child(u));l.on("value",function(n){if(n.val()){if(h){e({type:s.actionTypes.SESSION_START,payload:c});var o=h.push({startedAt:t.database.ServerValue.TIMESTAMP,user:c});(0,r.default)(o.setPriority)&&o.setPriority(c),o.child("endedAt").onDisconnect().set(t.database.ServerValue.TIMESTAMP,function(){e({type:s.actionTypes.SESSION_END})})}f.set(!0),f.onDisconnect().remove()}})};var s=n(14);function u(e){return e&&e.__esModule?e:{default:e}}t.getLoginMethodAndParams=function(e,t){var n=t.email,u=t.password,c=t.provider,l=t.type,f=t.token,h=t.scopes,p=t.phoneNumber,d=t.applicationVerifier,y=t.credential;if(y)return e.auth().signInAndRetrieveDataWithCredential?{method:"signInAndRetrieveDataWithCredential",params:[y]}:{method:"signInWithCredential",params:[y]};if(c){if(-1===s.supportedAuthProviders.indexOf(c.toLowerCase()))throw new Error(c+" is not a valid Auth Provider");if(f)throw new Error("provider with token no longer supported, use credential parameter instead");var m=function(e,t,n){var s=(0,a.default)(t)+"AuthProvider";if(!e.auth[s])throw new Error(t+" is not a valid auth provider for your firebase instance. If using react-native, use a RN specific auth library.");var u=new e.auth[s],c=e._.config.customAuthParameters;return c&&c[t]&&u.setCustomParameters(c[t]),"twitter"!==t.toLowerCase()&&(0,r.default)(u.addScope)?(u.addScope("email"),n&&((0,i.default)(n)&&n.forEach(function(e){u.addScope(e)}),(0,o.default)(n)&&u.addScope(n)),u):u}(e,c,h);return"popup"===l?{method:"signInWithPopup",params:[m]}:{method:"signInWithRedirect",params:[m]}}if(f)return e.auth().signInAndRetrieveDataWithCustomToken?{method:"signInAndRetrieveDataWithCustomToken",params:[f]}:{method:"signInWithCustomToken",params:[f]};if(p){if(!d)throw new Error("Application verifier is required for phone authentication");return{method:"signInWithPhoneNumber",params:[p,d]}}return e.auth().signInWithEmailAndPassword?{method:"signInWithEmailAndPassword",params:[n,u]}:{method:"signInAndRetrieveDataWithEmailAndPassword",params:[n,u]}};var c=function(e,t){var n=e.getState(),r=t?n[t]:n;if(!(r&&r.auth))throw new Error("The Firebase auth state could not be found in the store under the attribute '"+(t?t+".":"")+"auth'. Make sure your react-redux-firebase reducer is correctly set in the store");return r.auth.isLoaded},l=t.authIsReady=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"firebase";return new Promise(function(n){if(c(e,t))n();else var r=e.subscribe(function(){c(e,t)&&(r(),n())})})};t.createAuthIsReady=function(e,t){return(0,r.default)(t.authIsReady)?t.authIsReady(e,t):l(e,t.firebaseStateName)},t.updateProfileOnRTDB=function(e,t){var n=e.database,r=e._,o=r.config,i=r.authUid,a=n().ref(o.userProfile+"/"+i);return a.update(t).then(function(){return a.once("value")})},t.updateProfileOnFirestore=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.useSet,o=void 0===r||r,i=n.merge,a=void 0===i||i,s=e.firestore,u=e._,c=u.config,l=u.authUid,f=s().doc(c.userProfile+"/"+l);return(o?f.set(t,{merge:a}):f.update(t)).then(function(){return f.get()})}},function(e,t,n){var r=n(21),o=n(96),i="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(96);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(10),o=n(25);e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(39),o=n(102),i=n(65),a=n(46),s=n(100),u=n(18),c=n(252),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=s(t,!0),c)try{return l(e,t)}catch(n){}if(u(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t,n){var r=n(257),o=n(165).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r=n(15)("unscopables"),o=n(167),i=n(25),a=Array.prototype;void 0==a[r]&&i(a,r,o(null)),e.exports=function(e){a[r][e]=!0}},function(e,t,n){var r=n(45),o=n(484),i=n(165),a=n(485),s=n(253),u=n(105)("IE_PROTO"),c=function(){},l=function(){var e,t=s("iframe"),n=i.length;for(t.style.display="none",a.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[i[n]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(c.prototype=r(e),n=new c,c.prototype=null,n[u]=e):n=l(),void 0===t?n:o(n,t)},n(106)[u]=!0},function(e,t,n){e.exports=n(10)},function(e,t,n){t.f=n(15)},function(e,t){e.exports={}},function(e,t,n){"use strict";(function(e,r){var o,i=n(264);o="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var a=Object(i.a)(o);t.a=a}).call(this,n(23),n(278)(e))},function(e,t,n){e.exports=function e(t){"use strict";var n=/^\0+/g,r=/[\0\r\f]/g,o=/: */g,i=/zoo|gra/,a=/([,: ])(transform)/g,s=/,+\s*(?![^(]*[)])/g,u=/ +\s*(?![^(]*[)])/g,c=/ *[\0] */g,l=/,\r+?/g,f=/([\t\r\n ])*\f?&/g,h=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,p=/\W+/g,d=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,m=/:(read-only)/g,v=/\s+(?=[{\];=:>])/g,g=/([[}=:>])\s+/g,b=/(\{[^{]+?);(?=\})/g,w=/\s{2,}/g,E=/([^\(])(:+) */g,T=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,S=/([\s\S]*?);/g,I=/-self|flex-/g,A=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,O=/([^-])(image-set\()/,k="-webkit-",x="-moz-",R="-ms-",P=59,N=125,D=123,L=40,M=41,j=91,U=93,F=10,q=13,B=9,V=64,W=32,z=38,K=45,H=95,G=42,Q=44,X=58,Y=39,$=34,J=47,Z=62,ee=43,te=126,ne=0,re=12,oe=11,ie=107,ae=109,se=115,ue=112,ce=111,le=105,fe=99,he=100,pe=112,de=1,ye=1,me=0,ve=1,ge=1,be=1,we=0,Ee=0,Te=0,_e=[],Se=[],Ie=0,Ae=null,Ce=-2,Oe=-1,ke=0,xe=1,Re=2,Pe=3,Ne=0,De=1,Le="",Me="",je="";function Ue(e,t,o,i,a){for(var s,u,l=0,f=0,h=0,p=0,v=0,g=0,b=0,w=0,T=0,S=0,I=0,A=0,C=0,O=0,H=0,we=0,Se=0,Ae=0,Ce=0,Oe=o.length,qe=Oe-1,He="",Ge="",Qe="",Xe="",Ye="",$e="";H<Oe;){if(b=o.charCodeAt(H),H===qe&&f+p+h+l!==0&&(0!==f&&(b=f===J?F:J),p=h=l=0,Oe++,qe++),f+p+h+l===0){if(H===qe&&(we>0&&(Ge=Ge.replace(r,"")),Ge.trim().length>0)){switch(b){case W:case B:case P:case q:case F:break;default:Ge+=o.charAt(H)}b=P}if(1===Se)switch(b){case D:case N:case P:case $:case Y:case L:case M:case Q:Se=0;case B:case q:case F:case W:break;default:for(Se=0,Ce=H,v=b,H--,b=P;Ce<Oe;)switch(o.charCodeAt(Ce++)){case F:case q:case P:++H,b=v,Ce=Oe;break;case X:we>0&&(++H,b=v);case D:Ce=Oe}}switch(b){case D:for(v=(Ge=Ge.trim()).charCodeAt(0),I=1,Ce=++H;H<Oe;){switch(b=o.charCodeAt(H)){case D:I++;break;case N:I--;break;case J:switch(g=o.charCodeAt(H+1)){case G:case J:H=Ke(g,H,qe,o)}break;case j:b++;case L:b++;case $:case Y:for(;H++<qe&&o.charCodeAt(H)!==b;);}if(0===I)break;H++}switch(Qe=o.substring(Ce,H),v===ne&&(v=(Ge=Ge.replace(n,"").trim()).charCodeAt(0)),v){case V:switch(we>0&&(Ge=Ge.replace(r,"")),g=Ge.charCodeAt(1)){case he:case ae:case se:case K:s=t;break;default:s=_e}if(Ce=(Qe=Ue(t,s,Qe,g,a+1)).length,Te>0&&0===Ce&&(Ce=Ge.length),Ie>0&&(s=Fe(_e,Ge,Ae),u=ze(Pe,Qe,s,t,ye,de,Ce,g,a,i),Ge=s.join(""),void 0!==u&&0===(Ce=(Qe=u.trim()).length)&&(g=0,Qe="")),Ce>0)switch(g){case se:Ge=Ge.replace(_,We);case he:case ae:case K:Qe=Ge+"{"+Qe+"}";break;case ie:Qe=(Ge=Ge.replace(d,"$1 $2"+(De>0?Le:"")))+"{"+Qe+"}",Qe=1===ge||2===ge&&Ve("@"+Qe,3)?"@"+k+Qe+"@"+Qe:"@"+Qe;break;default:Qe=Ge+Qe,i===pe&&(Xe+=Qe,Qe="")}else Qe="";break;default:Qe=Ue(t,Fe(t,Ge,Ae),Qe,i,a+1)}Ye+=Qe,A=0,Se=0,O=0,we=0,Ae=0,C=0,Ge="",Qe="",b=o.charCodeAt(++H);break;case N:case P:if((Ce=(Ge=(we>0?Ge.replace(r,""):Ge).trim()).length)>1)switch(0===O&&((v=Ge.charCodeAt(0))===K||v>96&&v<123)&&(Ce=(Ge=Ge.replace(" ",":")).length),Ie>0&&void 0!==(u=ze(xe,Ge,t,e,ye,de,Xe.length,i,a,i))&&0===(Ce=(Ge=u.trim()).length)&&(Ge="\0\0"),v=Ge.charCodeAt(0),g=Ge.charCodeAt(1),v){case ne:break;case V:if(g===le||g===fe){$e+=Ge+o.charAt(H);break}default:if(Ge.charCodeAt(Ce-1)===X)break;Xe+=Be(Ge,v,g,Ge.charCodeAt(2))}A=0,Se=0,O=0,we=0,Ae=0,Ge="",b=o.charCodeAt(++H)}}switch(b){case q:case F:if(f+p+h+l+Ee===0)switch(S){case M:case Y:case $:case V:case te:case Z:case G:case ee:case J:case K:case X:case Q:case P:case D:case N:break;default:O>0&&(Se=1)}f===J?f=0:ve+A===0&&i!==ie&&Ge.length>0&&(we=1,Ge+="\0"),Ie*Ne>0&&ze(ke,Ge,t,e,ye,de,Xe.length,i,a,i),de=1,ye++;break;case P:case N:if(f+p+h+l===0){de++;break}default:switch(de++,He=o.charAt(H),b){case B:case W:if(p+l+f===0)switch(w){case Q:case X:case B:case W:He="";break;default:b!==W&&(He=" ")}break;case ne:He="\\0";break;case re:He="\\f";break;case oe:He="\\v";break;case z:p+f+l===0&&ve>0&&(Ae=1,we=1,He="\f"+He);break;case 108:if(p+f+l+me===0&&O>0)switch(H-O){case 2:w===ue&&o.charCodeAt(H-3)===X&&(me=w);case 8:T===ce&&(me=T)}break;case X:p+f+l===0&&(O=H);break;case Q:f+h+p+l===0&&(we=1,He+="\r");break;case $:case Y:0===f&&(p=p===b?0:0===p?b:p);break;case j:p+f+h===0&&l++;break;case U:p+f+h===0&&l--;break;case M:p+f+l===0&&h--;break;case L:if(p+f+l===0){if(0===A)switch(2*w+3*T){case 533:break;default:I=0,A=1}h++}break;case V:f+h+p+l+O+C===0&&(C=1);break;case G:case J:if(p+l+h>0)break;switch(f){case 0:switch(2*b+3*o.charCodeAt(H+1)){case 235:f=J;break;case 220:Ce=H,f=G}break;case G:b===J&&w===G&&Ce+2!==H&&(33===o.charCodeAt(Ce+2)&&(Xe+=o.substring(Ce,H+1)),He="",f=0)}}if(0===f){if(ve+p+l+C===0&&i!==ie&&b!==P)switch(b){case Q:case te:case Z:case ee:case M:case L:if(0===A){switch(w){case B:case W:case F:case q:He+="\0";break;default:He="\0"+He+(b===Q?"":"\0")}we=1}else switch(b){case L:O+7===H&&108===w&&(O=0),A=++I;break;case M:0==(A=--I)&&(we=1,He+="\0")}break;case B:case W:switch(w){case ne:case D:case N:case P:case Q:case re:case B:case W:case F:case q:break;default:0===A&&(we=1,He+="\0")}}Ge+=He,b!==W&&b!==B&&(S=b)}}T=w,w=b,H++}if(Ce=Xe.length,Te>0&&0===Ce&&0===Ye.length&&0===t[0].length==0&&(i!==ae||1===t.length&&(ve>0?Me:je)===t[0])&&(Ce=t.join(",").length+2),Ce>0){if(s=0===ve&&i!==ie?function(e){for(var t,n,o=0,i=e.length,a=Array(i);o<i;++o){for(var s=e[o].split(c),u="",l=0,f=0,h=0,p=0,d=s.length;l<d;++l)if(!(0===(f=(n=s[l]).length)&&d>1)){if(h=u.charCodeAt(u.length-1),p=n.charCodeAt(0),t="",0!==l)switch(h){case G:case te:case Z:case ee:case W:case L:break;default:t=" "}switch(p){case z:n=t+Me;case te:case Z:case ee:case W:case M:case L:break;case j:n=t+n+Me;break;case X:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(be>0){n=t+n.substring(8,f-1);break}default:(l<1||s[l-1].length<1)&&(n=t+Me+n)}break;case Q:t="";default:n=f>1&&n.indexOf(":")>0?t+n.replace(E,"$1"+Me+"$2"):t+n+Me}u+=n}a[o]=u.replace(r,"").trim()}return a}(t):t,Ie>0&&void 0!==(u=ze(Re,Xe,s,e,ye,de,Ce,i,a,i))&&0===(Xe=u).length)return $e+Xe+Ye;if(Xe=s.join(",")+"{"+Xe+"}",ge*me!=0){switch(2!==ge||Ve(Xe,2)||(me=0),me){case ce:Xe=Xe.replace(m,":"+x+"$1")+Xe;break;case ue:Xe=Xe.replace(y,"::"+k+"input-$1")+Xe.replace(y,"::"+x+"$1")+Xe.replace(y,":"+R+"input-$1")+Xe}me=0}}return $e+Xe+Ye}function Fe(e,t,n){var r=t.trim().split(l),o=r,i=r.length,a=e.length;switch(a){case 0:case 1:for(var s=0,u=0===a?"":e[0]+" ";s<i;++s)o[s]=qe(u,o[s],n,a).trim();break;default:s=0;var c=0;for(o=[];s<i;++s)for(var f=0;f<a;++f)o[c++]=qe(e[f]+" ",r[s],n,a).trim()}return o}function qe(e,t,n,r){var o=t,i=o.charCodeAt(0);switch(i<33&&(i=(o=o.trim()).charCodeAt(0)),i){case z:switch(ve+r){case 0:case 1:if(0===e.trim().length)break;default:return o.replace(f,"$1"+e.trim())}break;case X:switch(o.charCodeAt(1)){case 103:if(be>0&&ve>0)return o.replace(h,"$1").replace(f,"$1"+je);break;default:return e.trim()+o.replace(f,"$1"+e.trim())}default:if(n*ve>0&&o.indexOf("\f")>0)return o.replace(f,(e.charCodeAt(0)===X?"":"$1")+e.trim())}return e+o}function Be(e,t,n,r){var c,l=0,f=e+";",h=2*t+3*n+4*r;if(944===h)return function(e){var t=e.length,n=e.indexOf(":",9)+1,r=e.substring(0,n).trim(),o=e.substring(n,t-1).trim();switch(e.charCodeAt(9)*De){case 0:break;case K:if(110!==e.charCodeAt(10))break;default:for(var i=o.split((o="",s)),a=0,n=0,t=i.length;a<t;n=0,++a){for(var c=i[a],l=c.split(u);c=l[n];){var f=c.charCodeAt(0);if(1===De&&(f>V&&f<90||f>96&&f<123||f===H||f===K&&c.charCodeAt(1)!==K))switch(isNaN(parseFloat(c))+(-1!==c.indexOf("("))){case 1:switch(c){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:c+=Le}}l[n++]=c}o+=(0===a?"":",")+l.join(" ")}}return o=r+o+";",1===ge||2===ge&&Ve(o,1)?k+o+o:o}(f);if(0===ge||2===ge&&!Ve(f,1))return f;switch(h){case 1015:return 97===f.charCodeAt(10)?k+f+f:f;case 951:return 116===f.charCodeAt(3)?k+f+f:f;case 963:return 110===f.charCodeAt(5)?k+f+f:f;case 1009:if(100!==f.charCodeAt(4))break;case 969:case 942:return k+f+f;case 978:return k+f+x+f+f;case 1019:case 983:return k+f+x+f+R+f+f;case 883:return f.charCodeAt(8)===K?k+f+f:f.indexOf("image-set(",11)>0?f.replace(O,"$1"+k+"$2")+f:f;case 932:if(f.charCodeAt(4)===K)switch(f.charCodeAt(5)){case 103:return k+"box-"+f.replace("-grow","")+k+f+R+f.replace("grow","positive")+f;case 115:return k+f+R+f.replace("shrink","negative")+f;case 98:return k+f+R+f.replace("basis","preferred-size")+f}return k+f+R+f+f;case 964:return k+f+R+"flex-"+f+f;case 1023:if(99!==f.charCodeAt(8))break;return c=f.substring(f.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),k+"box-pack"+c+k+f+R+"flex-pack"+c+f;case 1005:return i.test(f)?f.replace(o,":"+k)+f.replace(o,":"+x)+f:f;case 1e3:switch(l=(c=f.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(l)){case 226:c=f.replace(T,"tb");break;case 232:c=f.replace(T,"tb-rl");break;case 220:c=f.replace(T,"lr");break;default:return f}return k+f+R+c+f;case 1017:if(-1===f.indexOf("sticky",9))return f;case 975:switch(l=(f=e).length-10,h=(c=(33===f.charCodeAt(l)?f.substring(0,l):f).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(c.charCodeAt(8)<111)break;case 115:f=f.replace(c,k+c)+";"+f;break;case 207:case 102:f=f.replace(c,k+(h>102?"inline-":"")+"box")+";"+f.replace(c,k+c)+";"+f.replace(c,R+c+"box")+";"+f}return f+";";case 938:if(f.charCodeAt(5)===K)switch(f.charCodeAt(6)){case 105:return c=f.replace("-items",""),k+f+k+"box-"+c+R+"flex-"+c+f;case 115:return k+f+R+"flex-item-"+f.replace(I,"")+f;default:return k+f+R+"flex-line-pack"+f.replace("align-content","").replace(I,"")+f}break;case 973:case 989:if(f.charCodeAt(3)!==K||122===f.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?Be(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):f.replace(c,k+c)+f.replace(c,x+c.replace("fill-",""))+f;break;case 962:if(f=k+f+(102===f.charCodeAt(5)?R+f:"")+f,n+r===211&&105===f.charCodeAt(13)&&f.indexOf("transform",10)>0)return f.substring(0,f.indexOf(";",27)+1).replace(a,"$1"+k+"$2")+f}return f}function Ve(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10),o=e.substring(n+1,e.length-1);return Ae(2!==t?r:r.replace(A,"$1"),o,t)}function We(e,t){var n=Be(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(S," or ($1)").substring(4):"("+t+")"}function ze(e,t,n,r,o,i,a,s,u,c){for(var l,f=0,h=t;f<Ie;++f)switch(l=Se[f].call(Ge,e,h,n,r,o,i,a,s,u,c)){case void 0:case!1:case!0:case null:break;default:h=l}if(h!==t)return h}function Ke(e,t,n,r){for(var o=t+1;o<n;++o)switch(r.charCodeAt(o)){case J:if(e===G&&r.charCodeAt(o-1)===G&&t+2!==o)return o+1;break;case F:if(e===J)return o+1}return o}function He(e){for(var t in e){var n=e[t];switch(t){case"keyframe":De=0|n;break;case"global":be=0|n;break;case"cascade":ve=0|n;break;case"compress":we=0|n;break;case"semicolon":Ee=0|n;break;case"preserve":Te=0|n;break;case"prefix":Ae=null,n?"function"!=typeof n?ge=1:(ge=2,Ae=n):ge=0}}return He}function Ge(t,n){if(void 0!==this&&this.constructor===Ge)return e(t);var o=t,i=o.charCodeAt(0);i<33&&(i=(o=o.trim()).charCodeAt(0)),De>0&&(Le=o.replace(p,i===j?"":"-")),i=1,1===ve?je=o:Me=o;var a,s=[je];Ie>0&&void 0!==(a=ze(Oe,n,s,s,ye,de,0,0,0,0))&&"string"==typeof a&&(n=a);var u=Ue(_e,s,n,0,0);return Ie>0&&void 0!==(a=ze(Ce,u,s,s,ye,de,u.length,0,0,0))&&"string"!=typeof(u=a)&&(i=0),Le="",je="",Me="",me=0,ye=1,de=1,we*i==0?u:u.replace(r,"").replace(v,"").replace(g,"$1").replace(b,"$1").replace(w," ")}return Ge.use=function e(t){switch(t){case void 0:case null:Ie=Se.length=0;break;default:if("function"==typeof t)Se[Ie++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else Ne=0|!!t}return e},Ge.set=He,void 0!==t&&He(t),Ge}(null)},function(e,t,n){"use strict";function r(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}t.a=function(e,t){var n;void 0===t&&(t=r);var o,i=[],a=!1;return function(){for(var r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];return a&&n===this&&t(s,i)?o:(o=e.apply(this,s),a=!0,n=this,i=s,o)}}},function(e,t,n){"use strict";n(470);var r,o=(r=n(110))&&"object"===typeof r&&"default"in r?r.default:r;e.exports=o},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))o.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)i.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={GLOBAL:{HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var u={listeners:{},config:c({},s.defaultConfig,t)};e._=(0,r.default)(u,e._);var f=[{action:i.firestoreActions.deleteRef,name:"delete"},{action:i.firestoreActions.setListener,name:"onSnapshot"}],h=(0,a.mapWithFirebaseAndDispatch)(e,n,i.firestoreActions,f),p=(0,o.default)(s.methodsToAddFromFirestore,function(t,n){return e.firestore&&"function"===typeof e.firestore()[n]?c({},t,l({},n,e.firestore()[n].bind(e.firestore()))):t},{});return Object.assign(p,e.firestore,{_:e._},t.helpersNamespace?l({},t.helpersNamespace,h):h)};var r=u(n(178)),o=u(n(223)),i=n(225),a=n(229),s=n(16);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(72)("merge",n(219));r.placeholder=n(49),e.exports=r},function(e,t,n){var r=n(50),o=n(180),i=o?function(e,t){return o.set(e,t),e}:r;e.exports=i},function(e,t,n){var r=n(181),o=r&&new r;e.exports=o},function(e,t,n){var r=n(32)(n(13),"WeakMap");e.exports=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(23))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){var r=n(185),o=n(186),i=n(307),a=n(73),s=n(187),u=n(195),c=n(321),l=n(124),f=n(13),h=1,p=2,d=8,y=16,m=128,v=512;e.exports=function e(t,n,g,b,w,E,T,_,S,I){var A=n&m,C=n&h,O=n&p,k=n&(d|y),x=n&v,R=O?void 0:a(t);return function h(){for(var p=arguments.length,d=Array(p),y=p;y--;)d[y]=arguments[y];if(k)var m=u(h),v=i(d,m);if(b&&(d=r(d,b,w,k)),E&&(d=o(d,E,T,k)),p-=v,k&&p<I){var P=l(d,m);return s(t,n,e,h.placeholder,g,d,P,_,S,I-p)}var N=C?g:this,D=O?N[t]:t;return p=d.length,_?d=c(d,_):x&&p>1&&d.reverse(),A&&S<p&&(d.length=S),this&&this!==f&&this instanceof h&&(D=R||a(D)),D.apply(N,d)}}},function(e,t){var n=Math.max;e.exports=function(e,t,r,o){for(var i=-1,a=e.length,s=r.length,u=-1,c=t.length,l=n(a-s,0),f=Array(c+l),h=!o;++u<c;)f[u]=t[u];for(;++i<s;)(h||i<a)&&(f[r[i]]=e[i]);for(;l--;)f[u++]=e[i++];return f}},function(e,t){var n=Math.max;e.exports=function(e,t,r,o){for(var i=-1,a=e.length,s=-1,u=r.length,c=-1,l=t.length,f=n(a-u,0),h=Array(f+l),p=!o;++i<f;)h[i]=e[i];for(var d=i;++c<l;)h[d+c]=t[c];for(;++s<u;)(p||i<a)&&(h[d+r[s]]=e[i++]);return h}},function(e,t,n){var r=n(308),o=n(191),i=n(193),a=1,s=2,u=4,c=8,l=32,f=64;e.exports=function(e,t,n,h,p,d,y,m,v,g){var b=t&c;t|=b?l:f,(t&=~(b?f:l))&u||(t&=~(a|s));var w=[e,t,p,b?d:void 0,b?y:void 0,b?void 0:d,b?void 0:y,m,v,g],E=n.apply(void 0,w);return r(e)&&o(E,w),E.placeholder=h,i(E,e,t)}},function(e,t,n){var r=n(180),o=n(189),i=r?function(e){return r.get(e)}:o;e.exports=i},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(74),o=n(120);function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},function(e,t,n){var r=n(179),o=n(192)(r);e.exports=o},function(e,t){var n=800,r=16,o=Date.now;e.exports=function(e){var t=0,i=0;return function(){var a=o(),s=r-(a-i);if(i=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(313),o=n(314),i=n(121),a=n(317);e.exports=function(e,t,n){var s=t+"";return i(e,o(s,a(r(s),n)))}},function(e,t,n){var r=n(32),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},function(e,t){e.exports=function(e){return e.placeholder}},function(e,t,n){var r=n(324);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},function(e,t,n){var r=n(33),o=n(27);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(326),o=n(55),i=n(3),a=n(56),s=n(41),u=n(77),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),f=!n&&!l&&a(e),h=!n&&!l&&!f&&u(e),p=n||l||f||h,d=p?r(e.length,String):[],y=d.length;for(var m in e)!t&&!c.call(e,m)||p&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,y))||d.push(m);return d}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){(function(e){var r=n(13),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(125)(e))},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(132),o=n(133),i=n(130),a=n(201),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},function(e,t,n){var r=n(204),o=n(130),i=n(27);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(132),o=n(3);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},function(e,t,n){var r=n(32)(n(13),"Set");e.exports=r},function(e,t,n){var r=n(13).Uint8Array;e.exports=r},function(e,t,n){var r=n(135);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(74),o=n(133),i=n(57);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(138),o=n(210),i=n(139),a=1,s=2;e.exports=function(e,t,n,u,c,l){var f=n&a,h=e.length,p=t.length;if(h!=p&&!(f&&p>h))return!1;var d=l.get(e);if(d&&l.get(t))return d==t;var y=-1,m=!0,v=n&s?new r:void 0;for(l.set(e,t),l.set(t,e);++y<h;){var g=e[y],b=t[y];if(u)var w=f?u(b,g,y,t,e,l):u(g,b,y,e,t,l);if(void 0!==w){if(w)continue;m=!1;break}if(v){if(!o(t,function(e,t){if(!i(v,t)&&(g===e||c(g,e,n,u,l)))return v.push(t)})){m=!1;break}}else if(g!==b&&!c(g,b,n,u,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(4);e.exports=function(e){return e===e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){var r=n(384),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)}),t});e.exports=a},function(e,t,n){var r=n(386),o=n(215);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t,n){var r=n(35),o=n(55),i=n(3),a=n(41),s=n(126),u=n(28);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var h=u(t[c]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&a(h,l)&&(i(e)||o(e))}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(88);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},function(e,t,n){var r=n(51),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),u=Array(s);++a<s;)u[a]=i[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=i[a];return c[t]=n(u),r(e,this,c)}}},function(e,t,n){var r=n(144),o=n(146)(function(e,t,n){r(e,t,n)});e.exports=o},function(e,t,n){var r=n(42),o=n(54);e.exports=function(e,t,n){(void 0===n||o(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(392)();e.exports=r},function(e,t){e.exports=function(e,t){if("__proto__"!=t)return e[t]}},function(e,t,n){var r=n(395),o=n(38),i=n(17),a=n(397),s=n(3);e.exports=function(e,t,n){var u=s(e)?r:a,c=arguments.length<3;return u(e,i(t,4),n,c,o)}},function(e,t,n){var r=n(221),o=n(27);e.exports=function(e,t){return e&&r(e,t,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firestoreActions=t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(398));t.firestoreActions=r;var o={firestoreActions:r};t.default=o},function(e,t,n){var r=n(399),o=n(400),i=n(17),a=n(3),s=n(147);e.exports=function(e,t,n){var u=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),u(e,i(t,3))}},function(e,t,n){var r=n(87),o=n(228);e.exports=function(e,t){return t.length<2?e:r(e,o(t,0,-1))}},function(e,t){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapInDispatch=function(e,t){var n=t.ref,r=t.meta,o=void 0===r?{}:r,a=t.method,s=t.args,u=void 0===s?[]:s,l=(d=t.types,y=3,function(e){if(Array.isArray(e))return e}(d)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(d,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),f=l[0],h=l[1],p=l[2];var d,y;return e({type:(0,i.default)(f)?f.type:f,meta:o,payload:(0,i.default)(f)?f.payload:{args:u}}),n[a].apply(n,function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(u)).then(function(t){var n=(0,i.default)(h),r={type:n?h.type:h,meta:o,payload:n&&h.payload?c(h,t):{args:u}};return n&&h.preserve&&(r.preserve=h.preserve),n&&h.merge&&(r.merge=h.merge),e(r),t}).catch(function(t){return e({type:p,meta:o,payload:t}),Promise.reject(t)})},t.mapWithFirebaseAndDispatch=function(e,t,n,o){var i=function(e,t){return function(n){return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n.apply(e,[e,t].concat(o))}}}(e,t);return s({},(0,r.default)(n,i),o.reduce(function(e,t){var n=t.action,r=t.name;return s({},e,u({},r,i(n)))},{}))};var r=a(n(148)),o=a(n(9)),i=a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=e.payload;return(0,o.default)(n)?n(t):n}},function(e,t,n){var r=n(123);e.exports=function(e,t){for(var n=-1,o=e.length;++n<o&&r(t,e[n],0)>-1;);return n}},function(e,t,n){var r=n(19),o=n(12),i="[object Number]";e.exports=function(e){return"number"==typeof e||o(e)&&r(e)==i}},function(e,t,n){var r=n(36);e.exports=function(){var e=arguments,t=r(e[0]);return e.length<3?t:t.replace(e[1],e[2])}},function(e,t,n){var r=n(87),o=n(149),i=n(35);e.exports=function(e,t,n){for(var a=-1,s=t.length,u={};++a<s;){var c=t[a],l=r(e,c);n(l,c)&&o(u,i(c,e),l)}return u}},function(e,t,n){var r=n(19),o=n(12),i="[object Boolean]";e.exports=function(e){return!0===e||!1===e||o(e)&&r(e)==i}},function(e,t,n){var r=n(72)("setWith",n(423));r.placeholder=n(49),e.exports=r},function(e,t,n){var r=n(429),o=n(430),i=n(17),a=n(3);e.exports=function(e,t){return function(n,s){var u=a(n)?r:o,c=t?t():{};return u(n,e,i(s,2),c)}}},function(e,t,n){var r=n(38);e.exports=function(e,t){var n=[];return r(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}},function(e,t){var n="Expected a function";e.exports=function(e){if("function"!=typeof e)throw new TypeError(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},function(e,t){e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){var r=n(155);e.exports=function(e,t){return null==e||r(e,t)}},function(e,t,n){"use strict";n.r(t),function(e){function r(e,t,n,r,o,i){n&&(Array.isArray(o)?function(e,t,n,r,o,i){for(var a=Math.min(o.length,i.length),s=0;s<a;s++)if(e.assigned[s]&&o[s]!==i[s]){var u=t.concat(s);n.push({op:"replace",path:u,value:i[s]}),r.push({op:"replace",path:u,value:o[s]})}if(a<i.length){for(var c=a;c<i.length;c++){var l=t.concat(c);n.push({op:"add",path:l,value:i[c]})}r.push({op:"replace",path:t.concat("length"),value:o.length})}else if(a<o.length){n.push({op:"replace",path:t.concat("length"),value:i.length});for(var f=a;f<o.length;f++){var h=t.concat(f);r.push({op:"add",path:h,value:o[f]})}}}(e,t,n,r,o,i):function(e,t,n,r,o,i){m(e.assigned,function(e,a){var s=o[e],u=i[e],c=a?e in o?"replace":"add":"remove";if(s!==o||"replace"!==c){var l=t.concat(e);n.push("remove"===c?{op:c,path:l}:{op:c,path:l,value:u}),r.push("add"===c?{op:"remove",path:l}:"remove"===c?{op:"add",path:l,value:s}:{op:"replace",path:l,value:s})}})}(e,t,n,r,o,i))}n.d(t,"produce",function(){return j}),n.d(t,"applyPatches",function(){return U}),n.d(t,"setAutoFreeze",function(){return c}),n.d(t,"setUseProxies",function(){return l});var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="undefined"!==typeof Symbol?Symbol("immer-proxy-state"):"__$immer_state",a="An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.";var s=!("undefined"!==typeof e||"verifyMinified"!==function(){}.name),u="undefined"!==typeof Proxy;function c(e){s=e}function l(e){u=e}function f(e){return!!e&&!!e[i]}function h(e){if(!e)return!1;if("object"!==("undefined"===typeof e?"undefined":o(e)))return!1;if(Array.isArray(e))return!0;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function p(e){return s&&Object.freeze(e),e}var d=Object.assign||function(e,t){for(var n in t)v(t,n)&&(e[n]=t[n]);return e};function y(e){if(Array.isArray(e))return e.slice();var t=void 0===e.__proto__?Object.create(null):{};return d(t,e)}function m(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(n,e[n]);else for(var r in e)t(r,e[r])}function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function g(e,t,n,o){if(f(e)){var a=e[i];if(!0===a.modified){if(!0===a.finalized)return a.copy;a.finalized=!0;var s=function(e,t,n,r,o){var i=t.base;return m(e,function(a,s){if(s!==i[a]){var u=r&&!v(t.assigned,a);e[a]=g(s,u&&n.concat(a),u&&r,o)}}),p(e)}(u?a.copy:a.copy=y(e),a,t,n,o);return r(a,t,n,o,a.base,s),s}return a.base}return function e(t){if(!h(t))return;if(Object.isFrozen(t))return;m(t,function(n,r){f(r)?t[n]=g(r):e(r)});p(t)}(e),e}function b(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var w=null,E={get:function(e,t){if(t===i)return e;if(e.modified){var n=e.copy[t];return n===e.base[t]&&h(n)?e.copy[t]=I(e,n):n}if(v(e.proxies,t))return e.proxies[t];var r=e.base[t];return!f(r)&&h(r)?e.proxies[t]=I(e,r):r},has:function(e,t){return t in _(e)},ownKeys:function(e){return Reflect.ownKeys(_(e))},set:function(e,t,n){if(e.assigned[t]=!0,!e.modified){if(t in e.base&&b(e.base[t],n)||v(e.proxies,t)&&e.proxies[t]===n)return!0;S(e)}return e.copy[t]=n,!0},deleteProperty:function(e,t){return e.assigned[t]=!1,S(e),delete e.copy[t],!0},getOwnPropertyDescriptor:function(e,t){var n=e.modified?e.copy:v(e.proxies,t)?e.proxies:e.base,r=Reflect.getOwnPropertyDescriptor(n,t);!r||Array.isArray(n)&&"length"===t||(r.configurable=!0);return r},defineProperty:function(){throw new Error("Immer does not support defining properties on draft objects.")},setPrototypeOf:function(){throw new Error("Immer does not support `setPrototypeOf()`.")}},T={};function _(e){return!0===e.modified?e.copy:e.base}function S(e){e.modified||(e.modified=!0,e.copy=y(e.base),Object.assign(e.copy,e.proxies),e.parent&&S(e.parent))}function I(e,t,n){if(f(t))throw new Error("Immer bug. Plz report.");var r=function(e,t){return{modified:!1,assigned:{},finalized:!1,parent:e,base:t,copy:void 0,proxies:{}}}(e,t),o=Array.isArray(t)?Proxy.revocable([r],T):Proxy.revocable(r,E);return w.push(o),o.proxy}m(E,function(e,t){T[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});var A={},C=null;function O(e){return e.hasCopy?e.copy:e.base}function k(e){e.modified||(e.modified=!0,e.parent&&k(e.parent))}function x(e){e.hasCopy||(e.hasCopy=!0,e.copy=y(e.base))}function R(e,t){var n=y(t);m(t,function(e){var t;Object.defineProperty(n,""+e,A[t=""+e]||(A[t]={configurable:!0,enumerable:!0,get:function(){return function(e,t){P(e);var n=O(e)[t];return!e.finalizing&&n===e.base[t]&&h(n)?(x(e),e.copy[t]=R(e,n)):n}(this[i],t)},set:function(e){!function(e,t,n){if(P(e),e.assigned[t]=!0,!e.modified){if(b(O(e)[t],n))return;k(e),x(e)}e.copy[t]=n}(this[i],t,e)}}))});var r,o,a,s=function(e,t,n){return{modified:!1,assigned:{},hasCopy:!1,parent:e,base:n,proxy:t,copy:void 0,finished:!1,finalizing:!1,finalized:!1}}(e,n,t);return r=n,o=i,a=s,Object.defineProperty(r,o,{value:a,enumerable:!1,writable:!0}),C.push(s),n}function P(e){if(!0===e.finished)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(e.copy||e.base))}function N(e){if(e&&"object"===("undefined"===typeof e?"undefined":o(e))){var t=e[i];if(t){var n=t.proxy,r=t.base;if(Array.isArray(e)){if(L(t)){if(k(t),t.assigned.length=!0,n.length<r.length)for(var a=n.length;a<r.length;a++)t.assigned[a]=!1;else for(var s=r.length;s<n.length;s++)t.assigned[s]=!0;m(n,function(e,n){t.assigned[e]||N(n)})}}else{var u=function(e,t){var n=Object.keys(e),r=Object.keys(t);return{added:r.filter(function(e){return-1===n.indexOf(e)}),removed:n.filter(function(e){return-1===r.indexOf(e)})}}(r,n),c=u.added,l=u.removed;(c.length>0||l.length>0)&&k(t),m(c,function(e,n){t.assigned[n]=!0}),m(l,function(e,n){t.assigned[n]=!1}),m(n,function(e,n){t.assigned[e]||N(n)})}}}}function D(e){return!function(e,t){if(b(e,t))return!0;if("object"!==("undefined"===typeof e?"undefined":o(e))||null===e||"object"!==("undefined"===typeof t?"undefined":o(t))||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!hasOwnProperty.call(t,n[i])||!b(e[n[i]],t[n[i]]))return!1;return!0}(Object.keys(e.base),Object.keys(e.proxy))}function L(e){var t=e.proxy;if(t.length!==e.base.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}function M(e,t,n){if(f(e)){var r=t.call(e,e);return void 0===r?e:r}var o=C;C=[];var s=n&&[],u=n&&[];try{var c=R(void 0,e),l=t.call(c,c);m(C,function(e,t){t.finalizing=!0});var h=void 0;if(void 0!==l&&l!==c){if(c[i].modified)throw new Error(a);h=g(l),s&&(s.push({op:"replace",path:[],value:h}),u.push({op:"replace",path:[],value:e}))}else n&&N(c),function(){for(var e=C.length-1;e>=0;e--){var t=C[e];!1===t.modified&&(Array.isArray(t.base)?L(t)&&k(t):D(t)&&k(t))}}(),h=g(c,[],s,u);return m(C,function(e,t){t.finished=!0}),n&&n(s,u),h}finally{C=o}}function j(e,t,n){if(arguments.length<1||arguments.length>3)throw new Error("produce expects 1 to 3 arguments, got "+arguments.length);if("function"===typeof e){if("function"===typeof t)throw new Error("if first argument is a function (curried invocation), the second argument to produce cannot be a function");var r=t,s=e;return function(){var e=arguments;return j(void 0===e[0]&&void 0!==r?r:e[0],function(t){return e[0]=t,s.apply(t,e)})}}if("function"!==typeof t)throw new Error("if first argument is not a function, the second argument to produce should be a function");if(void 0!==n&&"function"!==typeof n)throw new Error("the third argument of a producer should not be set or a function");if("object"!==("undefined"===typeof e?"undefined":o(e))||null===e){var c=t(e);return void 0===c?e:c}if(!h(e))throw new Error("the first argument to an immer producer should be a primitive, plain object or array, got "+("undefined"===typeof e?"undefined":o(e))+': "'+e+'"');return u?function(e,t,n){if(f(e)){var r=t.call(e,e);return void 0===r?e:r}var o=w;w=[];var s=n&&[],u=n&&[];try{var c=I(void 0,e),l=t.call(c,c),h=void 0;if(void 0!==l&&l!==c){if(c[i].modified)throw new Error(a);h=g(l),s&&(s.push({op:"replace",path:[],value:h}),u.push({op:"replace",path:[],value:e}))}else h=g(c,[],s,u);return m(w,function(e,t){return t.revoke()}),n&&n(s,u),h}finally{w=o}}(e,t,n):M(e,t,n)}var U=j(function(e,t){for(var n=function(n){var r=t[n];if(0===r.path.length&&"replace"===r.op)e=r.value;else{var o=r.path.slice(),i=o.pop(),a=o.reduce(function(e,t){if(!e)throw new Error("Cannot apply patch, path doesn't resolve: "+r.path.join("/"));return e[t]},e);if(!a)throw new Error("Cannot apply patch, path doesn't resolve: "+r.path.join("/"));switch(r.op){case"replace":case"add":a[i]=r.value;break;case"remove":if(Array.isArray(a)){if(i!==a.length-1)throw new Error("Remove can only remove the last key of an array, index: "+i+", length: "+a.length);a.length-=1}else delete a[i];break;default:throw new Error("Unsupported patch operation: "+r.op)}}},r=0;r<t.length;r++)n(r);return e});t.default=j}.call(this,n(117))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFirebaseInstance=void 0;var r,o=n(4),i=(r=o)&&r.__esModule?r:{default:r},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(62),u=n(245),c=n(246);t.createFirebaseInstance=function(e,t,n){t.enableLogging&&e.database&&"function"===typeof e.database.enableLogging&&e.database.enableLogging(t.enableLogging);var r={watchers:{},listeners:{},callbacks:{},queries:{},config:t,authUid:null};Object.defineProperty(e,"_",{value:r,writable:!0,enumerable:!0,configurable:!0});var o=function(t,n,r,o){if((0,i.default)(r)){var s="update"===t?"updated":"created",u=a({},r,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},s+"At",e.database.ServerValue.TIMESTAMP));return e.auth().currentUser&&(u[s+"By"]=e.auth().currentUser.uid),e.database().ref(n)[t](u,o)}return e.database().ref(n)[t](r,o)},l=(0,u.mapWithFirebaseAndDispatch)(e,n,{signInWithPhoneNumber:c.authActions.signInWithPhoneNumber}),f=a({ref:function(t){return e.database().ref(t)},set:function(t,n,r){return e.database().ref(t).set(n,r)},setWithMeta:function(e,t,n){return o("set",e,t,n)},uniqueSet:function(t,n,r){return e.database().ref(t).transaction(function(e){return null===e?n:void 0}).then(function(e){var t=e.committed,n=e.snapshot;if(!t){var o=new Error("Path already exists.");return r&&r(o),Promise.reject(o)}return r&&r(n),n})},push:function(t,n,r){return e.database().ref(t).push(n,r)},pushWithMeta:function(e,t,n){return o("push",e,t,n)},remove:function(t,r,o){return c.queryActions.remove(e,n,t,o).then(function(){return"function"===typeof r&&r(),t})},update:function(t,n,r){return e.database().ref(t).update(n,r)},updateWithMeta:function(e,t,n){return o("update",e,t,n)},login:function(t){return c.authActions.login(n,e,t)},logout:function(){return c.authActions.logout(n,e)},updateAuth:function(t,r){return c.authActions.updateAuth(n,e,t,r)},updateEmail:function(t,r){return c.authActions.updateEmail(n,e,t,r)},updateProfile:function(t,r){return c.authActions.updateProfile(n,e,t,r)},uploadFile:function(t,r,o,i){return c.storageActions.uploadFile(n,e,{path:t,file:r,dbPath:o,options:i})},uploadFiles:function(t,r,o,i){return c.storageActions.uploadFiles(n,e,{path:t,files:r,dbPath:o,options:i})},deleteFile:function(t,r){return c.storageActions.deleteFile(n,e,{path:t,dbPath:r})},createUser:function(t,r){return c.authActions.createUser(n,e,t,r)},resetPassword:function(t){return c.authActions.resetPassword(n,e,t)},confirmPasswordReset:function(t,r){return c.authActions.confirmPasswordReset(n,e,t,r)},verifyPasswordResetCode:function(t){return c.authActions.verifyPasswordResetCode(n,e,t)},watchEvent:function(t,r,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return c.queryActions.watchEvent(e,n,a({type:t,path:r,storeAs:o},i))},unWatchEvent:function(t,r,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return c.queryActions.unWatchEvent(e,n,a({type:t,path:r,queryId:o},i))},reloadAuth:function(){return c.authActions.reloadAuth(n,e)},linkWithCredential:function(t){return c.authActions.linkWithCredential(n,e,t)},promiseEvents:function(t,r){var o=(0,s.createCallable)(t)(r,e),i=(0,s.getEventsFromInput)(o);return Promise.all(i.map(function(t){return c.queryActions.watchEvent(e,n,t)}))}},l);return a(e,f,{helpers:f})}},function(e,t,n){var r=n(131),o=n(237),i=n(17),a=n(3);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.populateAndDispatch=t.orderedFromSnapshot=t.applyParamsToQuery=t.unsetWatcher=t.getWatcherCount=t.setWatcher=t.getQueryIdFromPath=t.getWatchPath=void 0;var r=c(n(29)),o=c(n(61)),i=c(n(91)),a=c(n(446)),s=n(14),u=n(94);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=Number(e);return(0,a.default)(t)?e:t},f=t.getWatchPath=function(e,t){if(!e||""===e||!t)throw new Error("Event and path are required");return e+":"+("/"===t.substring(0,1)?"":"/")+t},h=t.getQueryIdFromPath=function(e,t){if(!(0,r.default)(e))throw new Error("Query path must be a string");var n=e,o=e.split("#");e=o[0];var i=o.length>1,a=i?o[1].split("&"):[],s=i?a.map(function(e){var t=e.split("=");if("queryId"===t[0])return t[1]}).filter(function(e){return e}):void 0;return s&&s.length>0?t?t+":/"+s:s[0]:i?n:void 0},p=(t.setWatcher=function(e,t,n,r,o){var i=o||h(r,n)||f(n,r);return e._.watchers[i]?e._.watchers[i]++:e._.watchers[i]=1,t({type:s.actionTypes.SET_LISTENER,path:r,payload:{id:i}}),e._.watchers[i]},t.getWatcherCount=function(e,t,n,r){var o=r||h(n,t)||f(t,n);return e._.watchers[o]},t.unsetWatcher=function(e,t,n,r,o){var i=o||h(r,n)||f(n,r);r=r.split("#")[0];var a=e._.watchers;a[i]<=1?(delete a[i],"first_child"!==n&&"once"!==n&&e.database().ref().child(r).off(n)):a[i]&&a[i]--,t({type:s.actionTypes.UNSET_LISTENER,path:r,payload:{id:i}})},t.applyParamsToQuery=function(e,t){var n=!1;return e&&e.forEach(function(e){switch((e=e.split("="))[0]){case"orderByValue":t=t.orderByValue(),n=!0;break;case"orderByPriority":t=t.orderByPriority(),n=!0;break;case"orderByKey":t=t.orderByKey(),n=!0;break;case"orderByChild":t=t.orderByChild(e[1]);break;case"limitToFirst":t=t.limitToFirst(parseInt(e[1],10));break;case"limitToLast":t=t.limitToLast(parseInt(e[1],10));break;case"notParsed":n=!0;break;case"parsed":n=!1;break;case"equalTo":var r=n?e[1]:l(e[1]);r="true"===(r="false"!==(r="null"===r?null:r)&&r)||r,t=3===e.length?t.equalTo(r,e[2]):t.equalTo(r);break;case"startAt":var o=n?e[1]:l(e[1]);o="null"===o?null:o,t=3===e.length?t.startAt(o,e[2]):t.startAt(o);break;case"endAt":var i=n?e[1]:l(e[1]);i="null"===i?null:i,t=3===e.length?t.endAt(i,e[2]):t.endAt(i)}}),t},t.orderedFromSnapshot=function(e){if(e.hasChildren&&!e.hasChildren())return null;var t=[];return e.forEach&&e.forEach(function(e){t.push({key:e.key,value:e.val()})}),(0,o.default)(t)?t:null});t.populateAndDispatch=function(e,t,n){var r=n.data,o=n.populates,a=n.snapshot,c=n.path,l=n.storeAs;return(0,u.promisesForPopulate)(e,a.key,r,o).then(function(e){return(0,i.default)(e,function(e,n){t({type:s.actionTypes.MERGE,path:n,data:e})}),t({type:s.actionTypes.SET,path:l||c,data:r,ordered:p(a)}),e}).catch(function(e){return t({type:s.actionTypes.ERROR,payload:e}),Promise.reject(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapWithFirebaseAndDispatch=t.wrapInDispatch=void 0;var r=s(n(148)),o=s(n(4)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function s(e){return e&&e.__esModule?e:{default:e}}t.wrapInDispatch=function(e,t){t.ref;var n=t.meta,r=t.method,i=t.args,s=void 0===i?[]:i,u=t.types,c=a(u,3),l=c[0],f=c[1],h=c[2];return e({type:(0,o.default)(l)?l.type:l,meta:n,payload:(0,o.default)(l)?l.payload:{args:s}}),r.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(s)).then(function(t){return e({type:(0,o.default)(f)?f.type:f,meta:n,payload:(0,o.default)(f)?f.payload:t}),t}).catch(function(t){return e({type:h,meta:n,payload:t}),Promise.reject(t)})},t.mapWithFirebaseAndDispatch=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=function(e,t,n){return function(r){return function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r.apply(e,n?[t,e].concat(i):[e,t].concat(i))}}}(e,t);return i({},(0,r.default)(n,a),o.reduce(function(e,t){var n,r,o,s=t.action,u=t.name;return i({},e,(n={},r=u,o=a(s),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n))},{}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storageActions=t.queryActions=t.authActions=void 0;var r=a(n(447)),o=a(n(248)),i=a(n(456));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.authActions=r,t.queryActions=o,t.storageActions=i,t.default={authActions:r,queryActions:o,storageActions:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.populate=t.fixPath=t.isEmpty=t.isLoaded=t.getVal=void 0;var r=T(n(9)),o=T(n(3)),i=T(n(90)),a=T(n(448)),s=T(n(29)),u=T(n(449)),c=T(n(223)),l=T(n(226)),f=T(n(148)),h=T(n(43)),p=T(n(59)),d=T(n(150)),y=T(n(20)),m=T(n(60)),v=T(n(61)),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=n(14),w=n(94),E=n(157);function T(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.getVal=function(e,t,n){if(!e)return n;var r=(0,E.getDotStrPath)(t);return(0,y.default)(e,r,n)},t.isLoaded=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t||!t.length||(0,l.default)(t,function(e){return void 0!==e&&!1!==(0,y.default)(e,"isLoaded")})},t.isEmpty=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.default)(t,function(e){return!(e&&(0,v.default)(e))||!0===e.isEmpty})},t.fixPath=function(e){return("/"===e.substring(0,1)?"":"/")+e};var S=function(e,t,n){var r=(0,y.default)(t,n.child);if(!t||!r)return null;if((0,s.default)(r)){var o=[(0,a.default)(n.root.split("/")).join("."),r];n.childParam&&o.push(n.childParam);var i=o.join("."),u=(0,y.default)(e.data,i);return u?(0,m.default)({},n.childAlias||n.child,n.keyProp?g(_({},n.keyProp,r),u):u):t}return(0,m.default)({},n.childAlias||n.child,function(e,t,n){return(0,f.default)(t,function(t,r){var o=t;(!0===t||n.populateByKey)&&(o=r);var i=[(0,a.default)(n.root.split("/")).join("."),o];n.childParam&&i.push(n.childParam);var s=i.join(".");return(0,y.default)(e.data,s)?n.keyProp?g(_({},n.keyProp,o),(0,y.default)(e.data,s)):(0,y.default)(e.data,s):!0===t||n.populateByKey?t:o})}(e,r,n))};t.populate=function(e,t,n,s){var l=(0,a.default)(t.split("/")),m=-1===b.topLevelPaths.indexOf(l[0])?["data"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(l)):l,v=m.join("."),g=(0,y.default)(e,v,s);if(!e||g===s)return s;if(null===g)return null;var E=(0,w.getPopulateObjs)((0,r.default)(n)?n((0,p.default)(m),g):n);if((0,o.default)(g)){return(0,i.default)(E,function(e){return(t=g,function(e){return(0,i.default)(t,function(t){return(0,d.default)(t,e)})})(["value",e.child]);var t})?g.map(function(t){var n=t.key,r=t.value;return{key:n,value:E.map(function(t){return S(e,r,t)}).reduce(function(e,t){return(0,u.default)(t,e)},r)}}):g}return(0,i.default)(E,function(e){return(0,d.default)(g,e.child)})?E.map(function(t){return S(e,g,t)}).reduce(function(e,t){return(0,u.default)(t,e)},g):-1!==m.indexOf("profile")?g:(0,f.default)(g,function(t,o){var a="ordered"===m[0]?t.key:o,s=(0,w.getPopulateObjs)((0,r.default)(n)?n(a,t):n);return(0,i.default)(s,function(e){return(0,d.default)(t,e.child)})?(0,c.default)((0,h.default)(s,function(n){return S(e,t,n)}),function(e,t){return(0,u.default)(t,e)},t):t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove=t.unWatchEvents=t.watchEvents=t.unWatchEvent=t.watchEvent=void 0;var r,o=n(3),i=(r=o)&&r.__esModule?r:{default:r},a=n(14),s=n(244);var u=t.watchEvent=function(e,t,n){if(!e.database||"function"!==typeof e.database)throw new Error("Firebase database is required to create watchers");var r=n.type,o=n.path,i=n.populates,u=n.queryParams,c=n.queryId,l=n.isQuery,f=n.storeAs,h=e._.config.logErrors,p=f?o+"@"+f:o,d=c||(0,s.getQueryIdFromPath)(o);if((0,s.getWatcherCount)(e,r,p,d)>0&&d&&(0,s.unsetWatcher)(e,t,r,o,d),(0,s.setWatcher)(e,t,r,p,d),"first_child"===r)return e.database().ref().child(o).orderByKey().limitToFirst(1).once("value").then(function(e){return null===e.val()&&t({type:a.actionTypes.NO_VALUE,path:f||o}),e}).catch(function(e){return t({type:a.actionTypes.ERROR,path:f||o,payload:e}),Promise.reject(e)});var y=e.database().ref().child(o);if(l&&(y=(0,s.applyParamsToQuery)(u,y)),t({type:a.actionTypes.START,path:f||o}),"once"===r)return y.once("value").then(function(n){return null===n.val()?t({type:a.actionTypes.NO_VALUE,path:f||o}):i?(0,s.populateAndDispatch)(e,t,{path:o,storeAs:f,snapshot:n,data:n.val(),populates:i}):t({type:a.actionTypes.SET,path:f||o,data:n.val(),ordered:(0,s.orderedFromSnapshot)(n)})}).catch(function(e){return t({type:a.actionTypes.UNAUTHORIZED_ERROR,payload:e}),Promise.reject(e)});y.on(r,function(n){var u="child_removed"===r?void 0:n.val(),c=f||"value"===r?o:o+"/"+n.key;if(!i){var l="child_added"===r?[{key:n.key,value:n.val()}]:(0,s.orderedFromSnapshot)(n);return t({type:a.actionTypes.SET,path:f||c,data:u,ordered:l})}return(0,s.populateAndDispatch)(e,t,{path:o,storeAs:f,snapshot:n,data:n.val(),populates:i})},function(e){h&&console.log("RRF: Error retrieving data for path: "+o+", storeAs: "+f+". Firebase:",e),t({type:a.actionTypes.ERROR,storeAs:f,path:o,payload:e})})},c=t.unWatchEvent=function(e,t,n){var r=n.type,o=n.path,i=n.storeAs,a=n.queryId,u=i?o+"@"+i:o;(0,s.unsetWatcher)(e,t,r,u,a)},l=t.watchEvents=function(e,t,n){if(!(0,i.default)(n))throw new Error("Events config must be an Array");return n.map(function(n){return u(e,t,n)})},f=t.unWatchEvents=function(e,t,n){return n.forEach(function(n){return c(e,t,n)})},h=t.remove=function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).dispatchAction,o=void 0===r||r,i=e._.config.dispatchRemoveAction;return e.database().ref(n).remove().then(function(){return i&&o&&t({type:a.actionTypes.REMOVE,path:n}),n}).catch(function(e){return t({type:a.actionTypes.ERROR,payload:e}),Promise.reject(e)})};t.default={watchEvents:l,unWatchEvents:f,remove:h}},function(e,t,n){var r=n(250),o=n(159),i=n(97),a=n(98),s=n(251);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,f=6==e,h=5==e||f,p=t||s;return function(t,s,d){for(var y,m,v=i(t),g=o(v),b=r(s,d,3),w=a(g.length),E=0,T=n?p(t,w):u?p(t,0):void 0;w>E;E++)if((h||E in g)&&(m=b(y=g[E],E,v),e))if(n)T[E]=m;else if(m)switch(e){case 3:return!0;case 5:return y;case 6:return E;case 2:T.push(y)}else if(l)return!1;return f?-1:c||l?l:T}}},function(e,t,n){var r=n(478);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(22),o=n(160),i=n(15)("species");e.exports=function(e,t){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){e.exports=!n(39)&&!n(21)(function(){return 7!=Object.defineProperty(n(253)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(22),o=n(10).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){e.exports=!n(21)(function(){return!String(Symbol())})},function(e,t,n){e.exports=n(64)("native-function-to-string",Function.toString)},function(e,t,n){var r=n(18),o=n(480),i=n(163),a=n(30);e.exports=function(e,t){for(var n=o(t),s=a.f,u=i.f,c=0;c<n.length;c++){var l=n[c];r(e,l)||s(e,l,u(t,l))}}},function(e,t,n){var r=n(18),o=n(46),i=n(481)(!1),a=n(106);e.exports=function(e,t){var n,s=o(e),u=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){n(11)("iterator")},function(e,t,n){"use strict";var r=n(26),o=n(535),i=n(261),a=n(537),s=n(66),u=n(25),c=n(103),l=n(101),f=n(15)("iterator"),h=n(170),p=n(260),d=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,m=function(){return this};e.exports=function(e,t,n,p,v,g,b){o(n,t,p);var w,E,T,_=function(e){if(e===v&&O)return O;if(!y&&e in A)return A[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},S=t+" Iterator",I=!1,A=e.prototype,C=A[f]||A["@@iterator"]||v&&A[v],O=!y&&C||_(v),k="Array"==t&&A.entries||C;if(k&&(w=i(k.call(new e)),d!==Object.prototype&&w.next&&(l||i(w)===d||(a?a(w,d):"function"!=typeof w[f]&&u(w,f,m)),s(w,S,!0,!0),l&&(h[S]=m))),"values"==v&&C&&"values"!==C.name&&(I=!0,O=function(){return C.call(this)}),l&&!b||A[f]===O||u(A,f,O),h[t]=O,v)if(E={values:_("values"),keys:g?O:_("keys"),entries:_("entries")},b)for(T in E)!y&&!I&&T in A||c(A,T,E[T]);else r({target:t,proto:!0,forced:y||I},E);return E}},function(e,t,n){"use strict";var r,o,i,a=n(261),s=n(25),u=n(18),c=n(101),l=n(15)("iterator"),f=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):f=!0),void 0==r&&(r={}),c||u(r,l)||s(r,l,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(e,t,n){var r=n(18),o=n(97),i=n(105)("IE_PROTO"),a=n(536),s=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return o}),n.d(t,"__assign",function(){return i}),n.d(t,"__rest",function(){return a}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return u}),n.d(t,"__metadata",function(){return c}),n.d(t,"__awaiter",function(){return l}),n.d(t,"__generator",function(){return f}),n.d(t,"__exportStar",function(){return h}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return d}),n.d(t,"__spread",function(){return y}),n.d(t,"__await",function(){return m}),n.d(t,"__asyncGenerator",function(){return v}),n.d(t,"__asyncDelegator",function(){return g}),n.d(t,"__asyncValues",function(){return b}),n.d(t,"__makeTemplateObject",function(){return w}),n.d(t,"__importStar",function(){return E}),n.d(t,"__importDefault",function(){return T});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function h(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function d(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{(n=o[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(r){l(i[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function g(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,o,(t=e[n](t)).done,t.value)})}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";var r=n(47),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(d){var o=p(n);o&&o!==d&&e(t,o,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),y=u(n),m=0;m<a.length;++m){var v=a[m];if(!i[v]&&(!r||!r[v])&&(!y||!y[v])&&(!s||!s[v])){var g=h(n,v);try{c(t,v,g)}catch(b){}}}return t}return t}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},function(e,t,n){e.exports=function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(n){}}return function(n,r,o,i,a,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(o[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}}()},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"===typeof o?o(n,r,e):t(o)}}}}var o=r();o.withExtraArgument=r,t.a=o},function(e,t,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});t.a=o},,function(e,t,n){"use strict";var r=n(175),o="function"===typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,f=o?Symbol.for("react.context"):60110,h=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,d=o?Symbol.for("react.suspense"):60113,y=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,o,i,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;(e=Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function E(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}function T(){}function _(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}E.prototype.isReactComponent={},E.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&g("85"),this.updater.enqueueSetState(this,e,t,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},T.prototype=E.prototype;var S=_.prototype=new T;S.constructor=_,r(S,E.prototype),S.isPureReactComponent=!0;var I={current:null},A={current:null},C=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r=void 0,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,r)&&!O.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:A.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var R=/\/+/g,P=[];function N(e,t,n,r){if(P.length){var o=P.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function L(e,t,n){return null==e?0:function e(t,n,r,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case a:u=!0}}if(u)return r(o,t,""===n?"."+M(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+M(s=t[c],c);u+=e(s,l,r,o)}else if(l=null===t||"object"!==typeof t?null:"function"===typeof(l=v&&t[v]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=n+M(s,c++),r,o);else"object"===s&&g("31","[object Object]"===(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return u}(e,"",t,n)}function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function j(e,t){e.func.call(e.context,t,e.count++)}function U(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,function(e){return e}):null!=e&&(x(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(R,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(R,"$&/")+"/"),L(e,U,t=N(t,i,r,o)),D(t)}function q(){var e=I.current;return null===e&&g("321"),e}var B={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;L(e,j,t=N(null,null,t,n)),D(t)},count:function(e){return L(e,function(){return null},null)},toArray:function(e){var t=[];return F(e,t,null,function(e){return e}),t},only:function(e){return x(e)||g("143"),e}},createRef:function(){return{current:null}},Component:E,PureComponent:_,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:p,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:y,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return q().useCallback(e,t)},useContext:function(e,t){return q().useContext(e,t)},useEffect:function(e,t){return q().useEffect(e,t)},useImperativeHandle:function(e,t,n){return q().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return q().useLayoutEffect(e,t)},useMemo:function(e,t){return q().useMemo(e,t)},useReducer:function(e,t,n){return q().useReducer(e,t,n)},useRef:function(e){return q().useRef(e)},useState:function(e){return q().useState(e)},Fragment:s,StrictMode:u,Suspense:d,createElement:k,cloneElement:function(e,t,n){(null===e||void 0===e)&&g("267",e);var o=void 0,a=r({},e.props),s=e.key,u=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,c=A.current),void 0!==t.key&&(s=""+t.key);var l=void 0;for(o in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)C.call(t,o)&&!O.hasOwnProperty(o)&&(a[o]=void 0===t[o]&&void 0!==l?l[o]:t[o])}if(1===(o=arguments.length-2))a.children=n;else if(1<o){l=Array(o);for(var f=0;f<o;f++)l[f]=arguments[f+2];a.children=l}return{$$typeof:i,type:e.type,key:s,ref:u,props:a,_owner:c}},createFactory:function(e){var t=k.bind(null,e);return t.type=e,t},isValidElement:x,version:"16.8.6",unstable_ConcurrentMode:h,unstable_Profiler:c,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:I,ReactCurrentOwner:A,assign:r}},V={default:B},W=V&&B||V;e.exports=W.default||W},function(e,t,n){"use strict";var r=n(0),o=n(175),i=n(272);function a(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,o,i,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;(e=Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||a("227");var s=!1,u=null,c=!1,l=null,f={onError:function(e){s=!0,u=e}};function h(e,t,n,r,o,i,a,c,l){s=!1,u=null,function(e,t,n,r,o,i,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}.apply(f,arguments)}var p=null,d={};function y(){if(p)for(var e in d){var t=d[e],n=p.indexOf(e);if(-1<n||a("96",e),!v[n])for(var r in t.extractEvents||a("97",e),v[n]=t,n=t.eventTypes){var o=void 0,i=n[r],s=t,u=r;g.hasOwnProperty(u)&&a("99",u),g[u]=i;var c=i.phasedRegistrationNames;if(c){for(o in c)c.hasOwnProperty(o)&&m(c[o],s,u);o=!0}else i.registrationName?(m(i.registrationName,s,u),o=!0):o=!1;o||a("98",r,e)}}}function m(e,t,n){b[e]&&a("100",e),b[e]=t,w[e]=t.eventTypes[n].dependencies}var v=[],g={},b={},w={},E=null,T=null,_=null;function S(e,t,n){var r=e.type||"unknown-event";e.currentTarget=_(n),function(e,t,n,r,o,i,f,p,d){if(h.apply(this,arguments),s){if(s){var y=u;s=!1,u=null}else a("198"),y=void 0;c||(c=!0,l=y)}}(r,t,void 0,e),e.currentTarget=null}function I(e,t){return null==t&&a("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function A(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var C=null;function O(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)S(e,t[r],n[r]);else t&&S(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var k={injectEventPluginOrder:function(e){p&&a("101"),p=Array.prototype.slice.call(e),y()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];d.hasOwnProperty(t)&&d[t]===r||(d[t]&&a("102",t),d[t]=r,n=!0)}n&&y()}};function x(e,t){var n=e.stateNode;if(!n)return null;var r=E(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!==typeof n&&a("231",t,typeof n),n)}function R(e){if(null!==e&&(C=I(C,e)),e=C,C=null,e&&(A(e,O),C&&a("95"),c))throw e=l,c=!1,l=null,e}var P=Math.random().toString(36).slice(2),N="__reactInternalInstance$"+P,D="__reactEventHandlers$"+P;function L(e){if(e[N])return e[N];for(;!e[N];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[N]).tag||6===e.tag?e:null}function M(e){return!(e=e[N])||5!==e.tag&&6!==e.tag?null:e}function j(e){if(5===e.tag||6===e.tag)return e.stateNode;a("33")}function U(e){return e[D]||null}function F(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function q(e,t,n){(t=x(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=I(n._dispatchListeners,t),n._dispatchInstances=I(n._dispatchInstances,e))}function B(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=F(t);for(t=n.length;0<t--;)q(n[t],"captured",e);for(t=0;t<n.length;t++)q(n[t],"bubbled",e)}}function V(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=x(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=I(n._dispatchListeners,t),n._dispatchInstances=I(n._dispatchInstances,e))}function W(e){e&&e.dispatchConfig.registrationName&&V(e._targetInst,null,e)}function z(e){A(e,B)}var K=!("undefined"===typeof window||!window.document||!window.document.createElement);function H(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var G={animationend:H("Animation","AnimationEnd"),animationiteration:H("Animation","AnimationIteration"),animationstart:H("Animation","AnimationStart"),transitionend:H("Transition","TransitionEnd")},Q={},X={};function Y(e){if(Q[e])return Q[e];if(!G[e])return e;var t,n=G[e];for(t in n)if(n.hasOwnProperty(t)&&t in X)return Q[e]=n[t];return e}K&&(X=document.createElement("div").style,"AnimationEvent"in window||(delete G.animationend.animation,delete G.animationiteration.animation,delete G.animationstart.animation),"TransitionEvent"in window||delete G.transitionend.transition);var $=Y("animationend"),J=Y("animationiteration"),Z=Y("animationstart"),ee=Y("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,re=null,oe=null;function ie(){if(oe)return oe;var e,t,n=re,r=n.length,o="value"in ne?ne.value:ne.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return oe=o.slice(e,1<t?1-t:void 0)}function ae(){return!0}function se(){return!1}function ue(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ae:se,this.isPropagationStopped=se,this}function ce(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function le(e){e instanceof this||a("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function fe(e){e.eventPool=[],e.getPooled=ce,e.release=le}o(ue.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),ue.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ue.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,fe(n),n},fe(ue);var he=ue.extend({data:null}),pe=ue.extend({data:null}),de=[9,13,27,32],ye=K&&"CompositionEvent"in window,me=null;K&&"documentMode"in document&&(me=document.documentMode);var ve=K&&"TextEvent"in window&&!me,ge=K&&(!ye||me&&8<me&&11>=me),be=String.fromCharCode(32),we={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ee=!1;function Te(e,t){switch(e){case"keyup":return-1!==de.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function _e(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Se=!1;var Ie={eventTypes:we,extractEvents:function(e,t,n,r){var o=void 0,i=void 0;if(ye)e:{switch(e){case"compositionstart":o=we.compositionStart;break e;case"compositionend":o=we.compositionEnd;break e;case"compositionupdate":o=we.compositionUpdate;break e}o=void 0}else Se?Te(e,n)&&(o=we.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=we.compositionStart);return o?(ge&&"ko"!==n.locale&&(Se||o!==we.compositionStart?o===we.compositionEnd&&Se&&(i=ie()):(re="value"in(ne=r)?ne.value:ne.textContent,Se=!0)),o=he.getPooled(o,t,n,r),i?o.data=i:null!==(i=_e(n))&&(o.data=i),z(o),i=o):i=null,(e=ve?function(e,t){switch(e){case"compositionend":return _e(t);case"keypress":return 32!==t.which?null:(Ee=!0,be);case"textInput":return(e=t.data)===be&&Ee?null:e;default:return null}}(e,n):function(e,t){if(Se)return"compositionend"===e||!ye&&Te(e,t)?(e=ie(),oe=re=ne=null,Se=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ge&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=pe.getPooled(we.beforeInput,t,n,r)).data=e,z(t)):t=null,null===i?t:null===t?i:[i,t]}},Ae=null,Ce=null,Oe=null;function ke(e){if(e=T(e)){"function"!==typeof Ae&&a("280");var t=E(e.stateNode);Ae(e.stateNode,e.type,t)}}function xe(e){Ce?Oe?Oe.push(e):Oe=[e]:Ce=e}function Re(){if(Ce){var e=Ce,t=Oe;if(Oe=Ce=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Pe(e,t){return e(t)}function Ne(e,t,n){return e(t,n)}function De(){}var Le=!1;function Me(e,t){if(Le)return e(t);Le=!0;try{return Pe(e,t)}finally{Le=!1,(null!==Ce||null!==Oe)&&(De(),Re())}}var je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!je[e.type]:"textarea"===t}function Fe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function qe(e){if(!K)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}function Be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ve(e){e._valueTracker||(e._valueTracker=function(e){var t=Be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function We(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var ze=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;ze.hasOwnProperty("ReactCurrentDispatcher")||(ze.ReactCurrentDispatcher={current:null});var Ke=/^(.*)[\\\/]/,He="function"===typeof Symbol&&Symbol.for,Ge=He?Symbol.for("react.element"):60103,Qe=He?Symbol.for("react.portal"):60106,Xe=He?Symbol.for("react.fragment"):60107,Ye=He?Symbol.for("react.strict_mode"):60108,$e=He?Symbol.for("react.profiler"):60114,Je=He?Symbol.for("react.provider"):60109,Ze=He?Symbol.for("react.context"):60110,et=He?Symbol.for("react.concurrent_mode"):60111,tt=He?Symbol.for("react.forward_ref"):60112,nt=He?Symbol.for("react.suspense"):60113,rt=He?Symbol.for("react.memo"):60115,ot=He?Symbol.for("react.lazy"):60116,it="function"===typeof Symbol&&Symbol.iterator;function at(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=it&&e[it]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case et:return"ConcurrentMode";case Xe:return"Fragment";case Qe:return"Portal";case $e:return"Profiler";case Ye:return"StrictMode";case nt:return"Suspense"}if("object"===typeof e)switch(e.$$typeof){case Ze:return"Context.Consumer";case Je:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case rt:return st(e.type);case ot:if(e=1===e._status?e._result:null)return st(e)}return null}function ut(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,o=e._debugSource,i=st(e.type);n=null,r&&(n=st(r.type)),r=i,i="",o?i=" (at "+o.fileName.replace(Ke,"")+":"+o.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}var ct=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lt=Object.prototype.hasOwnProperty,ft={},ht={};function pt(e,t,n,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dt[e]=new pt(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];dt[t]=new pt(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){dt[e]=new pt(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){dt[e]=new pt(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dt[e]=new pt(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){dt[e]=new pt(e,3,!0,e,null)}),["capture","download"].forEach(function(e){dt[e]=new pt(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){dt[e]=new pt(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){dt[e]=new pt(e,5,!1,e.toLowerCase(),null)});var yt=/[\-:]([a-z])/g;function mt(e){return e[1].toUpperCase()}function vt(e,t,n,r){var o=dt.hasOwnProperty(t)?dt[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!lt.call(ht,e)||!lt.call(ft,e)&&(ct.test(e)?ht[e]=!0:(ft[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function gt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function bt(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function wt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=gt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Et(e,t){null!=(t=t.checked)&&vt(e,"checked",t,!1)}function Tt(e,t){Et(e,t);var n=gt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?St(e,t.type,n):t.hasOwnProperty("defaultValue")&&St(e,t.type,gt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function _t(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function St(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yt,mt);dt[t]=new pt(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yt,mt);dt[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yt,mt);dt[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){dt[e]=new pt(e,1,!1,e.toLowerCase(),null)});var It={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function At(e,t,n){return(e=ue.getPooled(It.change,e,t,n)).type="change",xe(n),z(e),e}var Ct=null,Ot=null;function kt(e){R(e)}function xt(e){if(We(j(e)))return e}function Rt(e,t){if("change"===e)return t}var Pt=!1;function Nt(){Ct&&(Ct.detachEvent("onpropertychange",Dt),Ot=Ct=null)}function Dt(e){"value"===e.propertyName&&xt(Ot)&&Me(kt,e=At(Ot,e,Fe(e)))}function Lt(e,t,n){"focus"===e?(Nt(),Ot=n,(Ct=t).attachEvent("onpropertychange",Dt)):"blur"===e&&Nt()}function Mt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return xt(Ot)}function jt(e,t){if("click"===e)return xt(t)}function Ut(e,t){if("input"===e||"change"===e)return xt(t)}K&&(Pt=qe("input")&&(!document.documentMode||9<document.documentMode));var Ft={eventTypes:It,_isInputEventSupported:Pt,extractEvents:function(e,t,n,r){var o=t?j(t):window,i=void 0,a=void 0,s=o.nodeName&&o.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===o.type?i=Rt:Ue(o)?Pt?i=Ut:(i=Mt,a=Lt):(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(i=jt),i&&(i=i(e,t)))return At(i,n,r);a&&a(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&St(o,"number",o.value)}},qt=ue.extend({view:null,detail:null}),Bt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Bt[e])&&!!t[e]}function Wt(){return Vt}var zt=0,Kt=0,Ht=!1,Gt=!1,Qt=qt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Wt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=zt;return zt=e.screenX,Ht?"mousemove"===e.type?e.screenX-t:0:(Ht=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Kt;return Kt=e.screenY,Gt?"mousemove"===e.type?e.screenY-t:0:(Gt=!0,0)}}),Xt=Qt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Yt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},$t={eventTypes:Yt,extractEvents:function(e,t,n,r){var o="mouseover"===e||"pointerover"===e,i="mouseout"===e||"pointerout"===e;if(o&&(n.relatedTarget||n.fromElement)||!i&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,i?(i=t,t=(t=n.relatedTarget||n.toElement)?L(t):null):i=null,i===t)return null;var a=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(a=Qt,s=Yt.mouseLeave,u=Yt.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Xt,s=Yt.pointerLeave,u=Yt.pointerEnter,c="pointer");var l=null==i?o:j(i);if(o=null==t?o:j(t),(e=a.getPooled(s,i,n,r)).type=c+"leave",e.target=l,e.relatedTarget=o,(n=a.getPooled(u,t,n,r)).type=c+"enter",n.target=o,n.relatedTarget=l,r=t,i&&r)e:{for(o=r,c=0,a=t=i;a;a=F(a))c++;for(a=0,u=o;u;u=F(u))a++;for(;0<c-a;)t=F(t),c--;for(;0<a-c;)o=F(o),a--;for(;c--;){if(t===o||t===o.alternate)break e;t=F(t),o=F(o)}t=null}else t=null;for(o=t,t=[];i&&i!==o&&(null===(c=i.alternate)||c!==o);)t.push(i),i=F(i);for(i=[];r&&r!==o&&(null===(c=r.alternate)||c!==o);)i.push(r),r=F(r);for(r=0;r<t.length;r++)V(t[r],"bubbled",e);for(r=i.length;0<r--;)V(i[r],"captured",n);return[e,n]}};function Jt(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var Zt=Object.prototype.hasOwnProperty;function en(e,t){if(Jt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Zt.call(t,n[r])||!Jt(e[n[r]],t[n[r]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(0!==(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function nn(e){2!==tn(e)&&a("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&a("188"),1===t?null:e;for(var n=e,r=t;;){var o=n.return,i=o?o.alternate:null;if(!o||!i)break;if(o.child===i.child){for(var s=o.child;s;){if(s===n)return nn(o),e;if(s===r)return nn(o),t;s=s.sibling}a("188")}if(n.return!==r.return)n=o,r=i;else{s=!1;for(var u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}s||a("189")}}n.alternate!==r&&a("190")}return 3!==n.tag&&a("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var on=ue.extend({animationName:null,elapsedTime:null,pseudoElement:null}),an=ue.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sn=qt.extend({relatedTarget:null});function un(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn=qt.extend({key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=un(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ln[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Wt,charCode:function(e){return"keypress"===e.type?un(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?un(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),hn=Qt.extend({dataTransfer:null}),pn=qt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Wt}),dn=ue.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),yn=Qt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),mn=[["abort","abort"],[$,"animationEnd"],[J,"animationIteration"],[Z,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],vn={},gn={};function bn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},vn[e]=t,gn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){bn(e,!0)}),mn.forEach(function(e){bn(e,!1)});var wn={eventTypes:vn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=gn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var o=gn[e];if(!o)return null;switch(e){case"keypress":if(0===un(n))return null;case"keydown":case"keyup":e=fn;break;case"blur":case"focus":e=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Qt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=pn;break;case $:case J:case Z:e=on;break;case ee:e=dn;break;case"scroll":e=qt;break;case"wheel":e=yn;break;case"copy":case"cut":case"paste":e=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Xt;break;default:e=ue}return z(t=e.getPooled(o,t,n,r)),t}},En=wn.isInteractiveTopLevelEventType,Tn=[];function _n(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=L(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=Fe(e.nativeEvent);r=e.topLevelType;for(var i=e.nativeEvent,a=null,s=0;s<v.length;s++){var u=v[s];u&&(u=u.extractEvents(r,t,i,o))&&(a=I(a,u))}R(a)}}var Sn=!0;function In(e,t){if(!t)return null;var n=(En(e)?Cn:On).bind(null,e);t.addEventListener(e,n,!1)}function An(e,t){if(!t)return null;var n=(En(e)?Cn:On).bind(null,e);t.addEventListener(e,n,!0)}function Cn(e,t){Ne(On,e,t)}function On(e,t){if(Sn){var n=Fe(t);if(null===(n=L(n))||"number"!==typeof n.tag||2===tn(n)||(n=null),Tn.length){var r=Tn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Me(_n,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Tn.length&&Tn.push(e)}}}var kn={},xn=0,Rn="_reactListenersID"+(""+Math.random()).slice(2);function Pn(e){return Object.prototype.hasOwnProperty.call(e,Rn)||(e[Rn]=xn++,kn[e[Rn]]={}),kn[e[Rn]]}function Nn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ln(e,t){var n,r=Dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dn(r)}}function Mn(){for(var e=window,t=Nn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Nn((e=t.contentWindow).document)}return t}function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Un(e){var t=Mn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&jn(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Ln(n,i);var a=Ln(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fn=K&&"documentMode"in document&&11>=document.documentMode,qn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Bn=null,Vn=null,Wn=null,zn=!1;function Kn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return zn||null==Bn||Bn!==Nn(n)?null:("selectionStart"in(n=Bn)&&jn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wn&&en(Wn,n)?null:(Wn=n,(e=ue.getPooled(qn.select,Vn,e,t)).type="select",e.target=Bn,z(e),e))}var Hn={eventTypes:qn,extractEvents:function(e,t,n,r){var o,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(o=!i)){e:{i=Pn(i),o=w.onSelect;for(var a=0;a<o.length;a++){var s=o[a];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break e}}i=!0}o=!i}if(o)return null;switch(i=t?j(t):window,e){case"focus":(Ue(i)||"true"===i.contentEditable)&&(Bn=i,Vn=t,Wn=null);break;case"blur":Wn=Vn=Bn=null;break;case"mousedown":zn=!0;break;case"contextmenu":case"mouseup":case"dragend":return zn=!1,Kn(n,r);case"selectionchange":if(Fn)break;case"keydown":case"keyup":return Kn(n,r)}return null}};function Gn(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Qn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Xn(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&a("92"),Array.isArray(t)&&(1>=t.length||a("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:gt(n)}}function $n(e,t){var n=gt(t.value),r=gt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Jn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}k.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E=U,T=M,_=j,k.injectEventPluginsByName({SimpleEventPlugin:wn,EnterLeaveEventPlugin:$t,ChangeEventPlugin:Ft,SelectEventPlugin:Hn,BeforeInputEventPlugin:Ie});var Zn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function er(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?er(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var nr,rr=void 0,or=(nr=function(e,t){if(e.namespaceURI!==Zn.svg||"innerHTML"in e)e.innerHTML=t;else{for((rr=rr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=rr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return nr(e,t)})}:nr);function ir(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ar={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sr=["Webkit","ms","Moz","O"];function ur(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ar.hasOwnProperty(e)&&ar[e]?(""+t).trim():t+"px"}function cr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ur(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(ar).forEach(function(e){sr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ar[t]=ar[e]})});var lr=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fr(e,t){t&&(lr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&a("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&a("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||a("61")),null!=t.style&&"object"!==typeof t.style&&a("62",""))}function hr(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function pr(e,t){var n=Pn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=w[t];for(var r=0;r<t.length;r++){var o=t[r];if(!n.hasOwnProperty(o)||!n[o]){switch(o){case"scroll":An("scroll",e);break;case"focus":case"blur":An("focus",e),An("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":qe(o)&&An(o,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(o)&&In(o,e)}n[o]=!0}}}function dr(){}var yr=null,mr=null;function vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function gr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var br="function"===typeof setTimeout?setTimeout:void 0,wr="function"===typeof clearTimeout?clearTimeout:void 0,Er=i.unstable_scheduleCallback,Tr=i.unstable_cancelCallback;function _r(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Sr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Ir=[],Ar=-1;function Cr(e){0>Ar||(e.current=Ir[Ar],Ir[Ar]=null,Ar--)}function Or(e,t){Ir[++Ar]=e.current,e.current=t}var kr={},xr={current:kr},Rr={current:!1},Pr=kr;function Nr(e,t){var n=e.type.contextTypes;if(!n)return kr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Dr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lr(e){Cr(Rr),Cr(xr)}function Mr(e){Cr(Rr),Cr(xr)}function jr(e,t,n){xr.current!==kr&&a("168"),Or(xr,t),Or(Rr,n)}function Ur(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())i in e||a("108",st(t)||"Unknown",i);return o({},n,r)}function Fr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||kr,Pr=xr.current,Or(xr,t),Or(Rr,Rr.current),!0}function qr(e,t,n){var r=e.stateNode;r||a("169"),n?(t=Ur(e,t,Pr),r.__reactInternalMemoizedMergedChildContext=t,Cr(Rr),Cr(xr),Or(xr,t)):Cr(Rr),Or(Rr,n)}var Br=null,Vr=null;function Wr(e){return function(t){try{return e(t)}catch(n){}}}function zr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Kr(e,t,n,r){return new zr(e,t,n,r)}function Hr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gr(e,t){var n=e.alternate;return null===n?((n=Kr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qr(e,t,n,r,o,i){var s=2;if(r=e,"function"===typeof e)Hr(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case Xe:return Xr(n.children,o,i,t);case et:return Yr(n,3|o,i,t);case Ye:return Yr(n,2|o,i,t);case $e:return(e=Kr(12,n,t,4|o)).elementType=$e,e.type=$e,e.expirationTime=i,e;case nt:return(e=Kr(13,n,t,o)).elementType=nt,e.type=nt,e.expirationTime=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Je:s=10;break e;case Ze:s=9;break e;case tt:s=11;break e;case rt:s=14;break e;case ot:s=16,r=null;break e}a("130",null==e?e:typeof e,"")}return(t=Kr(s,n,t,o)).elementType=e,t.type=r,t.expirationTime=i,t}function Xr(e,t,n,r){return(e=Kr(7,e,r,t)).expirationTime=n,e}function Yr(e,t,n,r){return e=Kr(8,e,r,t),t=0===(1&t)?Ye:et,e.elementType=t,e.type=t,e.expirationTime=n,e}function $r(e,t,n){return(e=Kr(6,e,null,t)).expirationTime=n,e}function Jr(e,t,n){return(t=Kr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zr(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),no(t,e)}function eo(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),no(t,e)}function to(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function no(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,o=t.earliestPendingTime,i=t.latestPingedTime;0===(o=0!==o?o:i)&&(0===e||r<e)&&(o=r),0!==(e=o)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=o,t.expirationTime=e}function ro(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var oo=(new r.Component).refs;function io(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var ao={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Ts(),o=Yi(r=Xa(r,e));o.payload=t,void 0!==n&&null!==n&&(o.callback=n),Wa(),Ji(e,o),Ja(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Ts(),o=Yi(r=Xa(r,e));o.tag=zi,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),Wa(),Ji(e,o),Ja(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ts(),r=Yi(n=Xa(n,e));r.tag=Ki,void 0!==t&&null!==t&&(r.callback=t),Wa(),Ji(e,r),Ja(e,n)}};function so(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,r)||!en(o,i))}function uo(e,t,n){var r=!1,o=kr,i=t.contextType;return"object"===typeof i&&null!==i?i=Vi(i):(o=Dr(t)?Pr:xr.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Nr(e,o):kr),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function co(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function lo(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=oo;var i=t.contextType;"object"===typeof i&&null!==i?o.context=Vi(i):(i=Dr(t)?Pr:xr.current,o.context=Nr(e,i)),null!==(i=e.updateQueue)&&(na(e,i,n,o,r),o.state=e.memoizedState),"function"===typeof(i=t.getDerivedStateFromProps)&&(io(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&ao.enqueueReplaceState(o,o.state,null),null!==(i=e.updateQueue)&&(na(e,i,n,o,r),o.state=e.memoizedState)),"function"===typeof o.componentDidMount&&(e.effectTag|=4)}var fo=Array.isArray;function ho(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&a("309"),r=n.stateNode),r||a("147",e);var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===oo&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}"string"!==typeof e&&a("284"),n._owner||a("290",e)}return e}function po(e,t){"textarea"!==e.type&&a("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function yo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return(e=Gr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=$r(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=ho(e,t,n),r.return=e,r):((r=Qr(n.type,n.key,n.props,null,e.mode,r)).ref=ho(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Xr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$r(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Ge:return(n=Qr(t.type,t.key,t.props,null,e.mode,n)).ref=ho(e,null,t),n.return=e,n;case Qe:return(t=Jr(t,e.mode,n)).return=e,t}if(fo(t)||at(t))return(t=Xr(t,e.mode,n,null)).return=e,t;po(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Ge:return n.key===o?n.type===Xe?f(e,t,n.props.children,r,o):c(e,t,n,r):null;case Qe:return n.key===o?l(e,t,n,r):null}if(fo(n)||at(n))return null!==o?null:f(e,t,n,r,null);po(e,n)}return null}function d(e,t,n,r,o){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Ge:return e=e.get(null===r.key?n:r.key)||null,r.type===Xe?f(t,e,r.props.children,o,r.key):c(t,e,r,o);case Qe:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(fo(r)||at(r))return f(t,e=e.get(n)||null,r,o,null);po(t,r)}return null}function y(o,a,s,u){for(var c=null,l=null,f=a,y=a=0,m=null;null!==f&&y<s.length;y++){f.index>y?(m=f,f=null):m=f.sibling;var v=p(o,f,s[y],u);if(null===v){null===f&&(f=m);break}e&&f&&null===v.alternate&&t(o,f),a=i(v,a,y),null===l?c=v:l.sibling=v,l=v,f=m}if(y===s.length)return n(o,f),c;if(null===f){for(;y<s.length;y++)(f=h(o,s[y],u))&&(a=i(f,a,y),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(o,f);y<s.length;y++)(m=d(f,o,y,s[y],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?y:m.key),a=i(m,a,y),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach(function(e){return t(o,e)}),c}function m(o,s,u,c){var l=at(u);"function"!==typeof l&&a("150"),null==(u=l.call(u))&&a("151");for(var f=l=null,y=s,m=s=0,v=null,g=u.next();null!==y&&!g.done;m++,g=u.next()){y.index>m?(v=y,y=null):v=y.sibling;var b=p(o,y,g.value,c);if(null===b){y||(y=v);break}e&&y&&null===b.alternate&&t(o,y),s=i(b,s,m),null===f?l=b:f.sibling=b,f=b,y=v}if(g.done)return n(o,y),l;if(null===y){for(;!g.done;m++,g=u.next())null!==(g=h(o,g.value,c))&&(s=i(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(y=r(o,y);!g.done;m++,g=u.next())null!==(g=d(y,o,m,g.value,c))&&(e&&null!==g.alternate&&y.delete(null===g.key?m:g.key),s=i(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&y.forEach(function(e){return t(o,e)}),l}return function(e,r,i,u){var c="object"===typeof i&&null!==i&&i.type===Xe&&null===i.key;c&&(i=i.props.children);var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case Ge:e:{for(l=i.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?i.type===Xe:c.elementType===i.type){n(e,c.sibling),(r=o(c,i.type===Xe?i.props.children:i.props)).ref=ho(e,c,i),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}i.type===Xe?((r=Xr(i.props.children,e.mode,u,i.key)).return=e,e=r):((u=Qr(i.type,i.key,i.props,null,e.mode,u)).ref=ho(e,r,i),u.return=e,e=u)}return s(e);case Qe:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Jr(i,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=$r(i,e.mode,u)).return=e,e=r),s(e);if(fo(i))return y(e,r,i,u);if(at(i))return m(e,r,i,u);if(l&&po(e,i),"undefined"===typeof i&&!c)switch(e.tag){case 1:case 0:a("152",(u=e.type).displayName||u.name||"Component")}return n(e,r)}}var mo=yo(!0),vo=yo(!1),go={},bo={current:go},wo={current:go},Eo={current:go};function To(e){return e===go&&a("174"),e}function _o(e,t){Or(Eo,t),Or(wo,e),Or(bo,go);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tr(null,"");break;default:t=tr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Cr(bo),Or(bo,t)}function So(e){Cr(bo),Cr(wo),Cr(Eo)}function Io(e){To(Eo.current);var t=To(bo.current),n=tr(t,e.type);t!==n&&(Or(wo,e),Or(bo,n))}function Ao(e){wo.current===e&&(Cr(bo),Cr(wo))}var Co=0,Oo=2,ko=4,xo=8,Ro=16,Po=32,No=64,Do=128,Lo=ze.ReactCurrentDispatcher,Mo=0,jo=null,Uo=null,Fo=null,qo=null,Bo=null,Vo=null,Wo=0,zo=null,Ko=0,Ho=!1,Go=null,Qo=0;function Xo(){a("321")}function Yo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jt(e[n],t[n]))return!1;return!0}function $o(e,t,n,r,o,i){if(Mo=i,jo=t,Fo=null!==e?e.memoizedState:null,Lo.current=null===Fo?li:fi,t=n(r,o),Ho){do{Ho=!1,Qo+=1,Fo=null!==e?e.memoizedState:null,Vo=qo,zo=Bo=Uo=null,Lo.current=fi,t=n(r,o)}while(Ho);Go=null,Qo=0}return Lo.current=ci,(e=jo).memoizedState=qo,e.expirationTime=Wo,e.updateQueue=zo,e.effectTag|=Ko,e=null!==Uo&&null!==Uo.next,Mo=0,Vo=Bo=qo=Fo=Uo=jo=null,Wo=0,zo=null,Ko=0,e&&a("300"),t}function Jo(){Lo.current=ci,Mo=0,Vo=Bo=qo=Fo=Uo=jo=null,Wo=0,zo=null,Ko=0,Ho=!1,Go=null,Qo=0}function Zo(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Bo?qo=Bo=e:Bo=Bo.next=e,Bo}function ei(){if(null!==Vo)Vo=(Bo=Vo).next,Fo=null!==(Uo=Fo)?Uo.next:null;else{null===Fo&&a("310");var e={memoizedState:(Uo=Fo).memoizedState,baseState:Uo.baseState,queue:Uo.queue,baseUpdate:Uo.baseUpdate,next:null};Bo=null===Bo?qo=e:Bo.next=e,Fo=Uo.next}return Bo}function ti(e,t){return"function"===typeof t?t(e):t}function ni(e){var t=ei(),n=t.queue;if(null===n&&a("311"),n.lastRenderedReducer=e,0<Qo){var r=n.dispatch;if(null!==Go){var o=Go.get(n);if(void 0!==o){Go.delete(n);var i=t.memoizedState;do{i=e(i,o.action),o=o.next}while(null!==o);return Jt(i,t.memoizedState)||(Ti=!0),t.memoizedState=i,t.baseUpdate===n.last&&(t.baseState=i),n.lastRenderedState=i,[i,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(i=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var u=o=null,c=r,l=!1;do{var f=c.expirationTime;f<Mo?(l||(l=!0,u=s,o=i),f>Wo&&(Wo=f)):i=c.eagerReducer===e?c.eagerState:e(i,c.action),s=c,c=c.next}while(null!==c&&c!==r);l||(u=s,o=i),Jt(i,t.memoizedState)||(Ti=!0),t.memoizedState=i,t.baseUpdate=u,t.baseState=o,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function ri(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===zo?(zo={lastEffect:null}).lastEffect=e.next=e:null===(t=zo.lastEffect)?zo.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,zo.lastEffect=e),e}function oi(e,t,n,r){var o=Zo();Ko|=e,o.memoizedState=ri(t,n,void 0,void 0===r?null:r)}function ii(e,t,n,r){var o=ei();r=void 0===r?null:r;var i=void 0;if(null!==Uo){var a=Uo.memoizedState;if(i=a.destroy,null!==r&&Yo(r,a.deps))return void ri(Co,n,i,r)}Ko|=e,o.memoizedState=ri(t,n,i,r)}function ai(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function si(){}function ui(e,t,n){25>Qo||a("301");var r=e.alternate;if(e===jo||null!==r&&r===jo)if(Ho=!0,e={expirationTime:Mo,action:n,eagerReducer:null,eagerState:null,next:null},null===Go&&(Go=new Map),void 0===(n=Go.get(t)))Go.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{Wa();var o=Ts(),i={expirationTime:o=Xa(o,e),action:n,eagerReducer:null,eagerState:null,next:null},s=t.last;if(null===s)i.next=i;else{var u=s.next;null!==u&&(i.next=u),s.next=i}if(t.last=i,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var c=t.lastRenderedState,l=r(c,n);if(i.eagerReducer=r,i.eagerState=l,Jt(l,c))return}catch(f){}Ja(e,o)}}var ci={readContext:Vi,useCallback:Xo,useContext:Xo,useEffect:Xo,useImperativeHandle:Xo,useLayoutEffect:Xo,useMemo:Xo,useReducer:Xo,useRef:Xo,useState:Xo,useDebugValue:Xo},li={readContext:Vi,useCallback:function(e,t){return Zo().memoizedState=[e,void 0===t?null:t],e},useContext:Vi,useEffect:function(e,t){return oi(516,Do|No,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,oi(4,ko|Po,ai.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oi(4,ko|Po,e,t)},useMemo:function(e,t){var n=Zo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ui.bind(null,jo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Zo().memoizedState=e},useState:function(e){var t=Zo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:ti,lastRenderedState:e}).dispatch=ui.bind(null,jo,e),[t.memoizedState,e]},useDebugValue:si},fi={readContext:Vi,useCallback:function(e,t){var n=ei();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Vi,useEffect:function(e,t){return ii(516,Do|No,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ii(4,ko|Po,ai.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ii(4,ko|Po,e,t)},useMemo:function(e,t){var n=ei();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:ni,useRef:function(){return ei().memoizedState},useState:function(e){return ni(ti)},useDebugValue:si},hi=null,pi=null,di=!1;function yi(e,t){var n=Kr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function mi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function vi(e){if(di){var t=pi;if(t){var n=t;if(!mi(e,t)){if(!(t=_r(n))||!mi(e,t))return e.effectTag|=2,di=!1,void(hi=e);yi(hi,n)}hi=e,pi=Sr(t)}else e.effectTag|=2,di=!1,hi=e}}function gi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;hi=e}function bi(e){if(e!==hi)return!1;if(!di)return gi(e),di=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!gr(t,e.memoizedProps))for(t=pi;t;)yi(e,t),t=_r(t);return gi(e),pi=hi?_r(e.stateNode):null,!0}function wi(){pi=hi=null,di=!1}var Ei=ze.ReactCurrentOwner,Ti=!1;function _i(e,t,n,r){t.child=null===e?vo(t,null,n,r):mo(t,e.child,n,r)}function Si(e,t,n,r,o){n=n.render;var i=t.ref;return Bi(t,o),r=$o(e,t,n,r,i,o),null===e||Ti?(t.effectTag|=1,_i(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Ni(e,t,o))}function Ii(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!==typeof a||Hr(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Qr(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ai(e,t,a,r,o,i))}return a=e.child,o<i&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:en)(o,r)&&e.ref===t.ref)?Ni(e,t,i):(t.effectTag|=1,(e=Gr(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ai(e,t,n,r,o,i){return null!==e&&en(e.memoizedProps,r)&&e.ref===t.ref&&(Ti=!1,o<i)?Ni(e,t,i):Oi(e,t,n,r,i)}function Ci(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Oi(e,t,n,r,o){var i=Dr(n)?Pr:xr.current;return i=Nr(t,i),Bi(t,o),n=$o(e,t,n,r,i,o),null===e||Ti?(t.effectTag|=1,_i(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Ni(e,t,o))}function ki(e,t,n,r,o){if(Dr(n)){var i=!0;Fr(t)}else i=!1;if(Bi(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),uo(t,n,r),lo(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Vi(c):c=Nr(t,c=Dr(n)?Pr:xr.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&co(t,a,r,c),Gi=!1;var h=t.memoizedState;u=a.state=h;var p=t.updateQueue;null!==p&&(na(t,p,r,a,o),u=t.memoizedState),s!==r||h!==u||Rr.current||Gi?("function"===typeof l&&(io(t,n,l,r),u=t.memoizedState),(s=Gi||so(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:ro(t.type,s),u=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=Vi(c):c=Nr(t,c=Dr(n)?Pr:xr.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&co(t,a,r,c),Gi=!1,u=t.memoizedState,h=a.state=u,null!==(p=t.updateQueue)&&(na(t,p,r,a,o),h=t.memoizedState),s!==r||u!==h||Rr.current||Gi?("function"===typeof l&&(io(t,n,l,r),h=t.memoizedState),(l=Gi||so(t,n,s,r,u,h,c))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return xi(e,t,n,r,i,o)}function xi(e,t,n,r,o,i){Ci(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return o&&qr(t,n,!1),Ni(e,t,i);r=t.stateNode,Ei.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=mo(t,e.child,null,i),t.child=mo(t,null,s,i)):_i(e,t,s,i),t.memoizedState=r.state,o&&qr(t,n,!0),t.child}function Ri(e){var t=e.stateNode;t.pendingContext?jr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&jr(0,t.context,!1),_o(e,t.containerInfo)}function Pi(e,t,n){var r=t.mode,o=t.pendingProps,i=t.memoizedState;if(0===(64&t.effectTag)){i=null;var a=!1}else i={timedOutAt:null!==i?i.timedOutAt:0},a=!0,t.effectTag&=-65;if(null===e)if(a){var s=o.fallback;e=Xr(null,r,0,null),0===(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=Xr(s,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=vo(t,null,o.children,n);else null!==e.memoizedState?(s=(r=e.child).sibling,a?(n=o.fallback,o=Gr(r,r.pendingProps),0===(1&t.mode)&&((a=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(o.child=a)),r=o.sibling=Gr(s,n,s.expirationTime),n=o,o.childExpirationTime=0,n.return=r.return=t):n=r=mo(t,r.child,o.children,n)):(s=e.child,a?(a=o.fallback,(o=Xr(null,r,0,null)).child=s,0===(1&t.mode)&&(o.child=null!==t.memoizedState?t.child.child:t.child),(r=o.sibling=Xr(a,r,n,null)).effectTag|=2,n=o,o.childExpirationTime=0,n.return=r.return=t):r=n=mo(t,s,o.children,n)),t.stateNode=e.stateNode;return t.memoizedState=i,t.child=n,r}function Ni(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&a("153"),null!==t.child){for(n=Gr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Di(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Rr.current)Ti=!0;else if(r<n){switch(Ti=!1,t.tag){case 3:Ri(t),wi();break;case 5:Io(t);break;case 1:Dr(t.type)&&Fr(t);break;case 4:_o(t,t.stateNode.containerInfo);break;case 10:Fi(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Pi(e,t,n):null!==(t=Ni(e,t,n))?t.sibling:null}return Ni(e,t,n)}}else Ti=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var o=Nr(t,xr.current);if(Bi(t,n),o=$o(null,t,r,e,o,n),t.effectTag|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(t.tag=1,Jo(),Dr(r)){var i=!0;Fr(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var s=r.getDerivedStateFromProps;"function"===typeof s&&io(t,r,s,e),o.updater=ao,t.stateNode=o,o._reactInternalFiber=t,lo(t,r,e,n),t=xi(null,t,r,!0,i,n)}else t.tag=0,_i(null,t,o,n),t=t.child;return t;case 16:switch(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),i=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(o),t.type=e,o=t.tag=function(e){if("function"===typeof e)return Hr(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===tt)return 11;if(e===rt)return 14}return 2}(e),i=ro(e,i),s=void 0,o){case 0:s=Oi(null,t,e,i,n);break;case 1:s=ki(null,t,e,i,n);break;case 11:s=Si(null,t,e,i,n);break;case 14:s=Ii(null,t,e,ro(e.type,i),r,n);break;default:a("306",e,"")}return s;case 0:return r=t.type,o=t.pendingProps,Oi(e,t,r,o=t.elementType===r?o:ro(r,o),n);case 1:return r=t.type,o=t.pendingProps,ki(e,t,r,o=t.elementType===r?o:ro(r,o),n);case 3:return Ri(t),null===(r=t.updateQueue)&&a("282"),o=null!==(o=t.memoizedState)?o.element:null,na(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===o?(wi(),t=Ni(e,t,n)):(o=t.stateNode,(o=(null===e||null===e.child)&&o.hydrate)&&(pi=Sr(t.stateNode.containerInfo),hi=t,o=di=!0),o?(t.effectTag|=2,t.child=vo(t,null,r,n)):(_i(e,t,r,n),wi()),t=t.child),t;case 5:return Io(t),null===e&&vi(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,gr(r,o)?s=null:null!==i&&gr(r,i)&&(t.effectTag|=16),Ci(e,t),1!==n&&1&t.mode&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(_i(e,t,s,n),t=t.child),t;case 6:return null===e&&vi(t),null;case 13:return Pi(e,t,n);case 4:return _o(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=mo(t,null,r,n):_i(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Si(e,t,r,o=t.elementType===r?o:ro(r,o),n);case 7:return _i(e,t,t.pendingProps,n),t.child;case 8:case 12:return _i(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,Fi(t,i=o.value),null!==s){var u=s.value;if(0===(i=Jt(u,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,i):1073741823))){if(s.children===o.children&&!Rr.current){t=Ni(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.contextDependencies;if(null!==c){s=u.child;for(var l=c.first;null!==l;){if(l.context===r&&0!==(l.observedBits&i)){1===u.tag&&((l=Yi(n)).tag=Ki,Ji(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),l=n;for(var f=u.return;null!==f;){var h=f.alternate;if(f.childExpirationTime<l)f.childExpirationTime=l,null!==h&&h.childExpirationTime<l&&(h.childExpirationTime=l);else{if(!(null!==h&&h.childExpirationTime<l))break;h.childExpirationTime=l}f=f.return}c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}_i(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,Bi(t,n),r=r(o=Vi(o,i.unstable_observedBits)),t.effectTag|=1,_i(e,t,r,n),t.child;case 14:return i=ro(o=t.type,t.pendingProps),Ii(e,t,o,i=ro(o.type,i),r,n);case 15:return Ai(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ro(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Dr(r)?(e=!0,Fr(t)):e=!1,Bi(t,n),uo(t,r,o),lo(t,r,o,n),xi(null,t,r,!0,e,n)}a("156")}var Li={current:null},Mi=null,ji=null,Ui=null;function Fi(e,t){var n=e.type._context;Or(Li,n._currentValue),n._currentValue=t}function qi(e){var t=Li.current;Cr(Li),e.type._context._currentValue=t}function Bi(e,t){Mi=e,Ui=ji=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(Ti=!0),e.contextDependencies=null}function Vi(e,t){return Ui!==e&&!1!==t&&0!==t&&("number"===typeof t&&1073741823!==t||(Ui=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ji?(null===Mi&&a("308"),ji=t,Mi.contextDependencies={first:t,expirationTime:0}):ji=ji.next=t),e._currentValue}var Wi=0,zi=1,Ki=2,Hi=3,Gi=!1;function Qi(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Xi(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Yi(e){return{expirationTime:e,tag:Wi,payload:null,callback:null,next:null,nextEffect:null}}function $i(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Ji(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,o=null;null===r&&(r=e.updateQueue=Qi(e.memoizedState))}else r=e.updateQueue,o=n.updateQueue,null===r?null===o?(r=e.updateQueue=Qi(e.memoizedState),o=n.updateQueue=Qi(n.memoizedState)):r=e.updateQueue=Xi(o):null===o&&(o=n.updateQueue=Xi(r));null===o||r===o?$i(r,t):null===r.lastUpdate||null===o.lastUpdate?($i(r,t),$i(o,t)):($i(r,t),o.lastUpdate=t)}function Zi(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Qi(e.memoizedState):ea(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function ea(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Xi(t)),t}function ta(e,t,n,r,i,a){switch(n.tag){case zi:return"function"===typeof(e=n.payload)?e.call(a,r,i):e;case Hi:e.effectTag=-2049&e.effectTag|64;case Wi:if(null===(i="function"===typeof(e=n.payload)?e.call(a,r,i):e)||void 0===i)break;return o({},r,i);case Ki:Gi=!0}return r}function na(e,t,n,r,o){Gi=!1;for(var i=(t=ea(e,t)).baseState,a=null,s=0,u=t.firstUpdate,c=i;null!==u;){var l=u.expirationTime;l<o?(null===a&&(a=u,i=c),s<l&&(s=l)):(c=ta(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<o?(null===l&&(l=u,null===a&&(i=c)),s<f&&(s=f)):(c=ta(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(i=c),t.baseState=i,t.firstUpdate=a,t.firstCapturedUpdate=l,e.expirationTime=s,e.memoizedState=c}function ra(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),oa(t.firstEffect,n),t.firstEffect=t.lastEffect=null,oa(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function oa(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!==typeof n&&a("191",n),n.call(r)}e=e.nextEffect}}function ia(e,t){return{value:e,source:t,stack:ut(t)}}function aa(e){e.effectTag|=4}var sa=void 0,ua=void 0,ca=void 0,la=void 0;sa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ua=function(){},ca=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var s=t.stateNode;switch(To(bo.current),e=null,n){case"input":a=bt(s,a),r=bt(s,r),e=[];break;case"option":a=Gn(s,a),r=Gn(s,r),e=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),e=[];break;case"textarea":a=Xn(s,a),r=Xn(s,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(s.onclick=dr)}fr(n,r),s=n=void 0;var u=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var c=a[n];for(s in c)c.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(b.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var l=r[n];if(c=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&l!==c&&(null!=l||null!=c))if("style"===n)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(u||(u={}),u[s]=l[s])}else u||(e||(e=[]),e.push(n,u)),u=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(n,""+l)):"children"===n?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(b.hasOwnProperty(n)?(null!=l&&pr(i,n),e||c===l||(e=[])):(e=e||[]).push(n,l))}u&&(e=e||[]).push("style",u),i=e,(t.updateQueue=i)&&aa(t)}},la=function(e,t,n,r){n!==r&&aa(t)};var fa="function"===typeof WeakSet?WeakSet:Set;function ha(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ut(n)),null!==n&&st(n.type),t=t.value,null!==e&&1===e.tag&&st(e.type);try{console.error(t)}catch(o){setTimeout(function(){throw o})}}function pa(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Qa(e,n)}else t.current=null}function da(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==Co){var o=r.destroy;r.destroy=void 0,void 0!==o&&o()}(r.tag&t)!==Co&&(o=r.create,r.destroy=o()),r=r.next}while(r!==n)}}function ya(e){switch("function"===typeof Vr&&Vr(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var o=e;try{r()}catch(i){Qa(o,i)}}n=n.next}while(n!==t)}break;case 1:if(pa(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(i){Qa(e,i)}break;case 5:pa(e);break;case 4:ga(e)}}function ma(e){return 5===e.tag||3===e.tag||4===e.tag}function va(e){e:{for(var t=e.return;null!==t;){if(ma(t)){var n=t;break e}t=t.return}a("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:a("161")}16&n.effectTag&&(ir(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ma(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){if(5===o.tag||6===o.tag)if(n)if(r){var i=t,s=o.stateNode,u=n;8===i.nodeType?i.parentNode.insertBefore(s,u):i.insertBefore(s,u)}else t.insertBefore(o.stateNode,n);else r?(s=t,u=o.stateNode,8===s.nodeType?(i=s.parentNode).insertBefore(u,s):(i=s).appendChild(u),null!==(s=s._reactRootContainer)&&void 0!==s||null!==i.onclick||(i.onclick=dr)):t.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function ga(e){for(var t=e,n=!1,r=void 0,o=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&a("160"),n.tag){case 5:r=n.stateNode,o=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,o=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var i=t,s=i;;)if(ya(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===i)break;for(;null===s.sibling;){if(null===s.return||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}o?(i=r,s=t.stateNode,8===i.nodeType?i.parentNode.removeChild(s):i.removeChild(s)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,o=!0,t.child.return=t,t=t.child;continue}}else if(ya(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function ba(e,t){switch(t.tag){case 0:case 11:case 14:case 15:da(ko,xo,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var o=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&function(e,t,n,r,o){e[D]=o,"input"===n&&"radio"===o.type&&null!=o.name&&Et(e,o),hr(n,r),r=hr(n,o);for(var i=0;i<t.length;i+=2){var a=t[i],s=t[i+1];"style"===a?cr(e,s):"dangerouslySetInnerHTML"===a?or(e,s):"children"===a?ir(e,s):vt(e,a,s,r)}switch(n){case"input":Tt(e,o);break;case"textarea":$n(e,o);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!o.multiple,null!=(n=o.value)?Qn(e,!!o.multiple,n,!1):t!==!!o.multiple&&(null!=o.defaultValue?Qn(e,!!o.multiple,o.defaultValue,!0):Qn(e,!!o.multiple,o.multiple?[]:"",!1))}}(n,i,o,e,r)}break;case 6:null===t.stateNode&&a("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=Ts())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,r.style.display=ur("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new fa),n.forEach(function(e){var n=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=Xa(t=Ts(),e),null!==(e=$a(e,t))&&(Zr(e,t),0!==(t=e.expirationTime)&&_s(e,t))}.bind(null,t,e);s.has(e)||(s.add(e),e.then(n,n))})}break;case 17:break;default:a("163")}}var wa="function"===typeof WeakMap?WeakMap:Map;function Ea(e,t,n){(n=Yi(n)).tag=Hi,n.payload={element:null};var r=t.value;return n.callback=function(){Ps(r),ha(e,t)},n}function Ta(e,t,n){(n=Yi(n)).tag=Hi;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ua?Ua=new Set([this]):Ua.add(this));var n=t.value,o=t.stack;ha(e,t),this.componentDidCatch(n,{componentStack:null!==o?o:""})}),n}function _a(e){switch(e.tag){case 1:Dr(e.type)&&Lr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return So(),Mr(),0!==(64&(t=e.effectTag))&&a("285"),e.effectTag=-2049&t|64,e;case 5:return Ao(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return So(),null;case 10:return qi(e),null;default:return null}}var Sa=ze.ReactCurrentDispatcher,Ia=ze.ReactCurrentOwner,Aa=1073741822,Ca=!1,Oa=null,ka=null,xa=0,Ra=-1,Pa=!1,Na=null,Da=!1,La=null,Ma=null,ja=null,Ua=null;function Fa(){if(null!==Oa)for(var e=Oa.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!==n&&void 0!==n&&Lr();break;case 3:So(),Mr();break;case 5:Ao(t);break;case 4:So();break;case 10:qi(t)}e=e.return}ka=null,xa=0,Ra=-1,Pa=!1,Oa=null}function qa(){for(;null!==Na;){var e=Na.effectTag;if(16&e&&ir(Na.stateNode,""),128&e){var t=Na.alternate;null!==t&&(null!==(t=t.ref)&&("function"===typeof t?t(null):t.current=null))}switch(14&e){case 2:va(Na),Na.effectTag&=-3;break;case 6:va(Na),Na.effectTag&=-3,ba(Na.alternate,Na);break;case 4:ba(Na.alternate,Na);break;case 8:ga(e=Na),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Na=Na.nextEffect}}function Ba(){for(;null!==Na;){if(256&Na.effectTag)e:{var e=Na.alternate,t=Na;switch(t.tag){case 0:case 11:case 15:da(Oo,Co,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ro(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:a("163")}}Na=Na.nextEffect}}function Va(e,t){for(;null!==Na;){var n=Na.effectTag;if(36&n){var r=Na.alternate,o=Na,i=t;switch(o.tag){case 0:case 11:case 15:da(Ro,Po,o);break;case 1:var s=o.stateNode;if(4&o.effectTag)if(null===r)s.componentDidMount();else{var u=o.elementType===o.type?r.memoizedProps:ro(o.type,r.memoizedProps);s.componentDidUpdate(u,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(r=o.updateQueue)&&ra(0,r,s);break;case 3:if(null!==(r=o.updateQueue)){if(s=null,null!==o.child)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}ra(0,r,s)}break;case 5:i=o.stateNode,null===r&&4&o.effectTag&&vr(o.type,o.memoizedProps)&&i.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}128&n&&(null!==(o=Na.ref)&&(i=Na.stateNode,"function"===typeof o?o(i):o.current=i)),512&n&&(La=e),Na=Na.nextEffect}}function Wa(){null!==Ma&&Tr(Ma),null!==ja&&ja()}function za(e,t){Da=Ca=!0,e.current===t&&a("177");var n=e.pendingCommitExpirationTime;0===n&&a("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,o=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?Zr(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Zr(e,t)):t>n&&Zr(e,t)}no(0,e)}(e,o>r?o:r),Ia.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,yr=Sn,mr=function(){var e=Mn();if(jn(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{t.nodeType,o.nodeType}catch(p){t=null;break e}var i=0,a=-1,s=-1,u=0,c=0,l=e,f=null;t:for(;;){for(var h;l!==t||0!==r&&3!==l.nodeType||(a=i+r),l!==o||0!==n&&3!==l.nodeType||(s=i+n),3===l.nodeType&&(i+=l.nodeValue.length),null!==(h=l.firstChild);)f=l,l=h;for(;;){if(l===e)break t;if(f===t&&++u===r&&(a=i),f===o&&++c===n&&(s=i),null!==(h=l.nextSibling))break;f=(l=f).parentNode}l=h}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),Sn=!1,Na=r;null!==Na;){o=!1;var s=void 0;try{Ba()}catch(c){o=!0,s=c}o&&(null===Na&&a("178"),Qa(Na,s),null!==Na&&(Na=Na.nextEffect))}for(Na=r;null!==Na;){o=!1,s=void 0;try{qa()}catch(c){o=!0,s=c}o&&(null===Na&&a("178"),Qa(Na,s),null!==Na&&(Na=Na.nextEffect))}for(Un(mr),mr=null,Sn=!!yr,yr=null,e.current=t,Na=r;null!==Na;){o=!1,s=void 0;try{Va(e,n)}catch(c){o=!0,s=c}o&&(null===Na&&a("178"),Qa(Na,s),null!==Na&&(Na=Na.nextEffect))}if(null!==r&&null!==La){var u=function(e,t){ja=Ma=La=null;var n=os;os=!0;do{if(512&t.effectTag){var r=!1,o=void 0;try{var i=t;da(Do,Co,i),da(Co,No,i)}catch(u){r=!0,o=u}r&&Qa(t,o)}t=t.nextEffect}while(null!==t);os=n,0!==(n=e.expirationTime)&&_s(e,n),ls||os||Os(1073741823,!1)}.bind(null,e,r);Ma=i.unstable_runWithPriority(i.unstable_NormalPriority,function(){return Er(u)}),ja=u}Ca=Da=!1,"function"===typeof Br&&Br(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(Ua=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function Ka(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0===(1024&e.effectTag)){Oa=e;e:{var i=t,s=xa,u=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Dr(t.type)&&Lr();break;case 3:So(),Mr(),(u=t.stateNode).pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==i&&null!==i.child||(bi(t),t.effectTag&=-3),ua(t);break;case 5:Ao(t);var c=To(Eo.current);if(s=t.type,null!==i&&null!=t.stateNode)ca(i,t,s,u,c),i.ref!==t.ref&&(t.effectTag|=128);else if(u){var l=To(bo.current);if(bi(t)){i=(u=t).stateNode;var f=u.type,h=u.memoizedProps,p=c;switch(i[N]=u,i[D]=h,s=void 0,c=f){case"iframe":case"object":In("load",i);break;case"video":case"audio":for(f=0;f<te.length;f++)In(te[f],i);break;case"source":In("error",i);break;case"img":case"image":case"link":In("error",i),In("load",i);break;case"form":In("reset",i),In("submit",i);break;case"details":In("toggle",i);break;case"input":wt(i,h),In("invalid",i),pr(p,"onChange");break;case"select":i._wrapperState={wasMultiple:!!h.multiple},In("invalid",i),pr(p,"onChange");break;case"textarea":Yn(i,h),In("invalid",i),pr(p,"onChange")}for(s in fr(c,h),f=null,h)h.hasOwnProperty(s)&&(l=h[s],"children"===s?"string"===typeof l?i.textContent!==l&&(f=["children",l]):"number"===typeof l&&i.textContent!==""+l&&(f=["children",""+l]):b.hasOwnProperty(s)&&null!=l&&pr(p,s));switch(c){case"input":Ve(i),_t(i,h,!0);break;case"textarea":Ve(i),Jn(i);break;case"select":case"option":break;default:"function"===typeof h.onClick&&(i.onclick=dr)}s=f,u.updateQueue=s,(u=null!==s)&&aa(t)}else{h=t,p=s,i=u,f=9===c.nodeType?c:c.ownerDocument,l===Zn.html&&(l=er(p)),l===Zn.html?"script"===p?((i=f.createElement("div")).innerHTML="<script><\/script>",f=i.removeChild(i.firstChild)):"string"===typeof i.is?f=f.createElement(p,{is:i.is}):(f=f.createElement(p),"select"===p&&(p=f,i.multiple?p.multiple=!0:i.size&&(p.size=i.size))):f=f.createElementNS(l,p),(i=f)[N]=h,i[D]=u,sa(i,t,!1,!1),p=i;var d=c,y=hr(f=s,h=u);switch(f){case"iframe":case"object":In("load",p),c=h;break;case"video":case"audio":for(c=0;c<te.length;c++)In(te[c],p);c=h;break;case"source":In("error",p),c=h;break;case"img":case"image":case"link":In("error",p),In("load",p),c=h;break;case"form":In("reset",p),In("submit",p),c=h;break;case"details":In("toggle",p),c=h;break;case"input":wt(p,h),c=bt(p,h),In("invalid",p),pr(d,"onChange");break;case"option":c=Gn(p,h);break;case"select":p._wrapperState={wasMultiple:!!h.multiple},c=o({},h,{value:void 0}),In("invalid",p),pr(d,"onChange");break;case"textarea":Yn(p,h),c=Xn(p,h),In("invalid",p),pr(d,"onChange");break;default:c=h}fr(f,c),l=void 0;var m=f,v=p,g=c;for(l in g)if(g.hasOwnProperty(l)){var w=g[l];"style"===l?cr(v,w):"dangerouslySetInnerHTML"===l?null!=(w=w?w.__html:void 0)&&or(v,w):"children"===l?"string"===typeof w?("textarea"!==m||""!==w)&&ir(v,w):"number"===typeof w&&ir(v,""+w):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(b.hasOwnProperty(l)?null!=w&&pr(d,l):null!=w&&vt(v,l,w,y))}switch(f){case"input":Ve(p),_t(p,h,!1);break;case"textarea":Ve(p),Jn(p);break;case"option":null!=h.value&&p.setAttribute("value",""+gt(h.value));break;case"select":(c=p).multiple=!!h.multiple,null!=(p=h.value)?Qn(c,!!h.multiple,p,!1):null!=h.defaultValue&&Qn(c,!!h.multiple,h.defaultValue,!0);break;default:"function"===typeof c.onClick&&(p.onclick=dr)}(u=vr(s,u))&&aa(t),t.stateNode=i}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&a("166");break;case 6:i&&null!=t.stateNode?la(i,t,i.memoizedProps,u):("string"!==typeof u&&(null===t.stateNode&&a("166")),i=To(Eo.current),To(bo.current),bi(t)?(s=(u=t).stateNode,i=u.memoizedProps,s[N]=u,(u=s.nodeValue!==i)&&aa(t)):(s=t,(u=(9===i.nodeType?i:i.ownerDocument).createTextNode(u))[N]=t,s.stateNode=u));break;case 11:break;case 13:if(u=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=s,Oa=t;break e}u=null!==u,s=null!==i&&null!==i.memoizedState,null!==i&&!u&&s&&(null!==(i=i.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=i,i.nextEffect=c):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),(u||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:So(),ua(t);break;case 10:qi(t);break;case 9:case 14:break;case 17:Dr(t.type)&&Lr();break;case 18:break;default:a("156")}Oa=null}if(t=e,1===xa||1!==t.childExpirationTime){for(u=0,s=t.child;null!==s;)(i=s.expirationTime)>u&&(u=i),(c=s.childExpirationTime)>u&&(u=c),s=s.sibling;t.childExpirationTime=u}if(null!==Oa)return Oa;null!==n&&0===(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=_a(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Ha(e){var t=Di(e.alternate,e,xa);return e.memoizedProps=e.pendingProps,null===t&&(t=Ka(e)),Ia.current=null,t}function Ga(e,t){Ca&&a("243"),Wa(),Ca=!0;var n=Sa.current;Sa.current=ci;var r=e.nextExpirationTimeToWorkOn;r===xa&&e===ka&&null!==Oa||(Fa(),xa=r,Oa=Gr((ka=e).current,null),e.pendingCommitExpirationTime=0);for(var o=!1;;){try{if(t)for(;null!==Oa&&!As();)Oa=Ha(Oa);else for(;null!==Oa;)Oa=Ha(Oa)}catch(v){if(Ui=ji=Mi=null,Jo(),null===Oa)o=!0,Ps(v);else{null===Oa&&a("271");var i=Oa,s=i.return;if(null!==s){e:{var u=e,c=s,l=i,f=v;if(s=xa,l.effectTag|=1024,l.firstEffect=l.lastEffect=null,null!==f&&"object"===typeof f&&"function"===typeof f.then){var h=f;f=c;var p=-1,d=-1;do{if(13===f.tag){var y=f.alternate;if(null!==y&&null!==(y=y.memoizedState)){d=10*(1073741822-y.timedOutAt);break}"number"===typeof(y=f.pendingProps.maxDuration)&&(0>=y?p=0:(-1===p||y<p)&&(p=y))}f=f.return}while(null!==f);f=c;do{if((y=13===f.tag)&&(y=void 0!==f.memoizedProps.fallback&&null===f.memoizedState),y){if(null===(c=f.updateQueue)?((c=new Set).add(h),f.updateQueue=c):c.add(h),0===(1&f.mode)){f.effectTag|=64,l.effectTag&=-1957,1===l.tag&&(null===l.alternate?l.tag=17:((s=Yi(1073741823)).tag=Ki,Ji(l,s))),l.expirationTime=1073741823;break e}c=s;var m=(l=u).pingCache;null===m?(m=l.pingCache=new wa,y=new Set,m.set(h,y)):void 0===(y=m.get(h))&&(y=new Set,m.set(h,y)),y.has(c)||(y.add(c),l=Ya.bind(null,l,h,c),h.then(l,l)),-1===p?u=1073741823:(-1===d&&(d=10*(1073741822-to(u,s))-5e3),u=d+p),0<=u&&Ra<u&&(Ra=u),f.effectTag|=2048,f.expirationTime=s;break e}f=f.return}while(null!==f);f=Error((st(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ut(l))}Pa=!0,f=ia(f,l),u=c;do{switch(u.tag){case 3:u.effectTag|=2048,u.expirationTime=s,Zi(u,s=Ea(u,f,s));break e;case 1:if(p=f,d=u.type,l=u.stateNode,0===(64&u.effectTag)&&("function"===typeof d.getDerivedStateFromError||null!==l&&"function"===typeof l.componentDidCatch&&(null===Ua||!Ua.has(l)))){u.effectTag|=2048,u.expirationTime=s,Zi(u,s=Ta(u,p,s));break e}}u=u.return}while(null!==u)}Oa=Ka(i);continue}o=!0,Ps(v)}}break}if(Ca=!1,Sa.current=n,Ui=ji=Mi=null,Jo(),o)ka=null,e.finishedWork=null;else if(null!==Oa)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&a("281"),ka=null,Pa){if(o=e.latestPendingTime,i=e.latestSuspendedTime,s=e.latestPingedTime,0!==o&&o<r||0!==i&&i<r||0!==s&&s<r)return eo(e,r),void Es(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void Es(e,n,r,t,-1)}t&&-1!==Ra?(eo(e,r),(t=10*(1073741822-to(e,r)))<Ra&&(Ra=t),t=10*(1073741822-Ts()),t=Ra-t,Es(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function Qa(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ua||!Ua.has(r)))return Ji(n,e=Ta(n,e=ia(t,e),1073741823)),void Ja(n,1073741823);break;case 3:return Ji(n,e=Ea(n,e=ia(t,e),1073741823)),void Ja(n,1073741823)}n=n.return}3===e.tag&&(Ji(e,n=Ea(e,n=ia(t,e),1073741823)),Ja(e,1073741823))}function Xa(e,t){var n=i.unstable_getCurrentPriorityLevel(),r=void 0;if(0===(1&t.mode))r=1073741823;else if(Ca&&!Da)r=xa;else{switch(n){case i.unstable_ImmediatePriority:r=1073741823;break;case i.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case i.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case i.unstable_LowPriority:case i.unstable_IdlePriority:r=1;break;default:a("313")}null!==ka&&r===xa&&--r}return n===i.unstable_UserBlockingPriority&&(0===ss||r<ss)&&(ss=r),r}function Ya(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==ka&&xa===n?ka=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),no(n,e),0!==(n=e.expirationTime)&&_s(e,n)))}function $a(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return o}function Ja(e,t){null!==(e=$a(e,t))&&(!Ca&&0!==xa&&t>xa&&Fa(),Zr(e,t),Ca&&!Da&&ka===e||_s(e,e.expirationTime),vs>ms&&(vs=0,a("185")))}function Za(e,t,n,r,o){return i.unstable_runWithPriority(i.unstable_ImmediatePriority,function(){return e(t,n,r,o)})}var es=null,ts=null,ns=0,rs=void 0,os=!1,is=null,as=0,ss=0,us=!1,cs=null,ls=!1,fs=!1,hs=null,ps=i.unstable_now(),ds=1073741822-(ps/10|0),ys=ds,ms=50,vs=0,gs=null;function bs(){ds=1073741822-((i.unstable_now()-ps)/10|0)}function ws(e,t){if(0!==ns){if(t<ns)return;null!==rs&&i.unstable_cancelCallback(rs)}ns=t,e=i.unstable_now()-ps,rs=i.unstable_scheduleCallback(Cs,{timeout:10*(1073741822-t)-e})}function Es(e,t,n,r,o){e.expirationTime=r,0!==o||As()?0<o&&(e.timeoutHandle=br(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,bs(),ys=ds,ks(e,n)}.bind(null,e,t,n),o)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function Ts(){return os?ys:(Ss(),0!==as&&1!==as||(bs(),ys=ds),ys)}function _s(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===ts?(es=ts=e,e.nextScheduledRoot=e):(ts=ts.nextScheduledRoot=e).nextScheduledRoot=es):t>e.expirationTime&&(e.expirationTime=t),os||(ls?fs&&(is=e,as=1073741823,xs(e,1073741823,!1)):1073741823===t?Os(1073741823,!1):ws(e,t))}function Ss(){var e=0,t=null;if(null!==ts)for(var n=ts,r=es;null!==r;){var o=r.expirationTime;if(0===o){if((null===n||null===ts)&&a("244"),r===r.nextScheduledRoot){es=ts=r.nextScheduledRoot=null;break}if(r===es)es=o=r.nextScheduledRoot,ts.nextScheduledRoot=o,r.nextScheduledRoot=null;else{if(r===ts){(ts=n).nextScheduledRoot=es,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(o>e&&(e=o,t=r),r===ts)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}is=t,as=e}var Is=!1;function As(){return!!Is||!!i.unstable_shouldYield()&&(Is=!0)}function Cs(){try{if(!As()&&null!==es){bs();var e=es;do{var t=e.expirationTime;0!==t&&ds<=t&&(e.nextExpirationTimeToWorkOn=ds),e=e.nextScheduledRoot}while(e!==es)}Os(0,!0)}finally{Is=!1}}function Os(e,t){if(Ss(),t)for(bs(),ys=ds;null!==is&&0!==as&&e<=as&&!(Is&&ds>as);)xs(is,as,ds>as),Ss(),bs(),ys=ds;else for(;null!==is&&0!==as&&e<=as;)xs(is,as,!1),Ss();if(t&&(ns=0,rs=null),0!==as&&ws(is,as),vs=0,gs=null,null!==hs)for(e=hs,hs=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(r){us||(us=!0,cs=r)}}if(us)throw e=cs,cs=null,us=!1,e}function ks(e,t){os&&a("253"),is=e,as=t,xs(e,t,!1),Os(1073741823,!1)}function xs(e,t,n){if(os&&a("245"),os=!0,n){var r=e.finishedWork;null!==r?Rs(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,wr(r)),Ga(e,n),null!==(r=e.finishedWork)&&(As()?e.finishedWork=r:Rs(e,r,t)))}else null!==(r=e.finishedWork)?Rs(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,wr(r)),Ga(e,n),null!==(r=e.finishedWork)&&Rs(e,r,t));os=!1}function Rs(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===hs?hs=[r]:hs.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===gs?vs++:(gs=e,vs=0),i.unstable_runWithPriority(i.unstable_ImmediatePriority,function(){za(e,t)})}function Ps(e){null===is&&a("246"),is.expirationTime=0,us||(us=!0,cs=e)}function Ns(e,t){var n=ls;ls=!0;try{return e(t)}finally{(ls=n)||os||Os(1073741823,!1)}}function Ds(e,t){if(ls&&!fs){fs=!0;try{return e(t)}finally{fs=!1}}return e(t)}function Ls(e,t,n){ls||os||0===ss||(Os(ss,!1),ss=0);var r=ls;ls=!0;try{return i.unstable_runWithPriority(i.unstable_UserBlockingPriority,function(){return e(t,n)})}finally{(ls=r)||os||Os(1073741823,!1)}}function Ms(e,t,n,r,o){var i=t.current;e:if(n){t:{2===tn(n=n._reactInternalFiber)&&1===n.tag||a("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Dr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===n.tag){var u=n.type;if(Dr(u)){n=Ur(n,u,s);break e}}n=s}else n=kr;return null===t.context?t.context=n:t.pendingContext=n,t=o,(o=Yi(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(o.callback=t),Wa(),Ji(i,o),Ja(i,r),r}function js(e,t,n,r){var o=t.current;return Ms(e,t,n,o=Xa(Ts(),o),r)}function Us(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fs(e){var t=1073741822-25*(1+((1073741822-Ts()+500)/25|0));t>=Aa&&(t=Aa-1),this._expirationTime=Aa=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function qs(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Bs(e,t,n){e={current:t=Kr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Vs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ws(e,t,n,r,o){var i=n._reactRootContainer;if(i){if("function"===typeof o){var a=o;o=function(){var e=Us(i._internalRoot);a.call(e)}}null!=e?i.legacy_renderSubtreeIntoContainer(e,t,o):i.render(t,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Bs(e,!1,t)}(n,r),"function"===typeof o){var s=o;o=function(){var e=Us(i._internalRoot);s.call(e)}}Ds(function(){null!=e?i.legacy_renderSubtreeIntoContainer(e,t,o):i.render(t,o)})}return Us(i._internalRoot)}function zs(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Vs(t)||a("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Qe,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ae=function(e,t,n){switch(t){case"input":if(Tt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=U(r);o||a("90"),We(r),Tt(r,o)}}}break;case"textarea":$n(e,n);break;case"select":null!=(t=n.value)&&Qn(e,!!n.multiple,t,!1)}},Fs.prototype.render=function(e){this._defer||a("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new qs;return Ms(e,t,null,n,r._onCommit),r},Fs.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Fs.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||a("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,o=t;o!==this;)r=o,o=o._next;null===r&&a("251"),r._next=o._next,this._next=t,e.firstBatch=this}this._defer=!1,ks(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Fs.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},qs.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},qs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!==typeof n&&a("191",n),n()}}},Bs.prototype.render=function(e,t){var n=this._internalRoot,r=new qs;return null!==(t=void 0===t?null:t)&&r.then(t),js(e,n,null,r._onCommit),r},Bs.prototype.unmount=function(e){var t=this._internalRoot,n=new qs;return null!==(e=void 0===e?null:e)&&n.then(e),js(null,t,null,n._onCommit),n},Bs.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,o=new qs;return null!==(n=void 0===n?null:n)&&o.then(n),js(t,r,e,o._onCommit),o},Bs.prototype.createBatch=function(){var e=new Fs(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Pe=Ns,Ne=Ls,De=function(){os||0===ss||(Os(ss,!1),ss=0)};var Ks={createPortal:zs,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"===typeof e.render?a("188"):a("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return Vs(t)||a("200"),Ws(null,e,t,!0,n)},render:function(e,t,n){return Vs(t)||a("200"),Ws(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return Vs(n)||a("200"),(null==e||void 0===e._reactInternalFiber)&&a("38"),Ws(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Vs(e)||a("40"),!!e._reactRootContainer&&(Ds(function(){Ws(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return zs.apply(void 0,arguments)},unstable_batchedUpdates:Ns,unstable_interactiveUpdates:Ls,flushSync:function(e,t){os&&a("187");var n=ls;ls=!0;try{return Za(e,t)}finally{ls=n,Os(1073741823,!1)}},unstable_createRoot:function(e,t){return Vs(e)||a("299","unstable_createRoot"),new Bs(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=ls;ls=!0;try{Za(e)}finally{(ls=t)||os||Os(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[M,j,U,k.injectEventPluginsByName,g,z,function(e){A(e,W)},xe,Re,On,R]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Br=Wr(function(e){return t.onCommitFiberRoot(n,e)}),Vr=Wr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(r){}})(o({},e,{overrideProps:null,currentDispatcherRef:ze.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:L,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var Hs={default:Ks},Gs=Hs&&Ks||Hs;e.exports=Gs.default||Gs},function(e,t,n){"use strict";e.exports=n(273)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=null,r=!1,o=3,i=-1,a=-1,s=!1,u=!1;function c(){if(!s){var e=n.expirationTime;u?_():u=!0,T(h,e)}}function l(){var e=n,t=n.next;if(n===t)n=null;else{var r=n.previous;n=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var i=o,s=a;o=e,a=t;try{var u=r()}finally{o=i,a=s}if("function"===typeof u)if(u={callback:u,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=u.next=u.previous=u;else{r=null,e=n;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==n);null===r?r=n:r===n&&(n=u,c()),(t=r.previous).next=r.previous=u,u.next=r,u.previous=t}}function f(){if(-1===i&&null!==n&&1===n.priorityLevel){s=!0;try{do{l()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?c():u=!1}}}function h(e){s=!0;var o=r;r=e;try{if(e)for(;null!==n;){var i=t.unstable_now();if(!(n.expirationTime<=i))break;do{l()}while(null!==n&&n.expirationTime<=i)}else if(null!==n)do{l()}while(null!==n&&!S())}finally{s=!1,r=o,null!==n?c():u=!1,f()}}var p,d,y=Date,m="function"===typeof setTimeout?setTimeout:void 0,v="function"===typeof clearTimeout?clearTimeout:void 0,g="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function w(e){p=g(function(t){v(d),e(t)}),d=m(function(){b(p),e(t.unstable_now())},100)}if("object"===typeof performance&&"function"===typeof performance.now){var E=performance;t.unstable_now=function(){return E.now()}}else t.unstable_now=function(){return y.now()};var T,_,S,I=null;if("undefined"!==typeof window?I=window:"undefined"!==typeof e&&(I=e),I&&I._schedMock){var A=I._schedMock;T=A[0],_=A[1],S=A[2],t.unstable_now=A[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var C=null,O=function(e){if(null!==C)try{C(e)}finally{C=null}};T=function(e){null!==C?setTimeout(T,0,e):(C=e,setTimeout(O,0,!1))},_=function(){C=null},S=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof g&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var k=null,x=!1,R=-1,P=!1,N=!1,D=0,L=33,M=33;S=function(){return D<=t.unstable_now()};var j=new MessageChannel,U=j.port2;j.port1.onmessage=function(){x=!1;var e=k,n=R;k=null,R=-1;var r=t.unstable_now(),o=!1;if(0>=D-r){if(!(-1!==n&&n<=r))return P||(P=!0,w(F)),k=e,void(R=n);o=!0}if(null!==e){N=!0;try{e(o)}finally{N=!1}}};var F=function e(t){if(null!==k){w(e);var n=t-D+M;n<M&&L<M?(8>n&&(n=8),M=n<L?L:n):L=n,D=t+M,x||(x=!0,U.postMessage(void 0))}else P=!1};T=function(e,t){k=e,R=t,N||0>t?U.postMessage(void 0):P||(P=!0,w(F))},_=function(){k=null,x=!1,R=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=o,a=i;o=e,i=t.unstable_now();try{return n()}finally{o=r,i=a,f()}},t.unstable_next=function(e){switch(o){case 1:case 2:case 3:var n=3;break;default:n=o}var r=o,a=i;o=n,i=t.unstable_now();try{return e()}finally{o=r,i=a,f()}},t.unstable_scheduleCallback=function(e,r){var a=-1!==i?i:t.unstable_now();if("object"===typeof r&&null!==r&&"number"===typeof r.timeout)r=a+r.timeout;else switch(o){case 1:r=a+-1;break;case 2:r=a+250;break;case 5:r=a+1073741823;break;case 4:r=a+1e4;break;default:r=a+5e3}if(e={callback:e,priorityLevel:o,expirationTime:r,next:null,previous:null},null===n)n=e.next=e.previous=e,c();else{a=null;var s=n;do{if(s.expirationTime>r){a=s;break}s=s.next}while(s!==n);null===a?a=n:a===n&&(n=e,c()),(r=a.previous).next=a.previous=e,e.next=a,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var r=e.previous;r.next=t,t.previous=r}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=o;return function(){var r=o,a=i;o=n,i=t.unstable_now();try{return e.apply(this,arguments)}finally{o=r,i=a,f()}}},t.unstable_getCurrentPriorityLevel=function(){return o},t.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<a||S())},t.unstable_continueExecution=function(){null!==n&&c()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(23))},,function(e,t,n){"use strict";var r=n(276);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case h:case a:case u:case s:case d:return e;default:switch(e=e&&e.$$typeof){case l:case p:case c:return e;default:return t}}case m:case y:case i:return t}}}function g(e){return v(e)===h}t.typeOf=v,t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=m,t.Memo=y,t.Portal=i,t.Profiler=u,t.StrictMode=s,t.Suspense=d,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===u||e===s||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p)},t.isAsyncMode=function(e){return g(e)||v(e)===f},t.isConcurrentMode=g,t.isContextConsumer=function(e){return v(e)===l},t.isContextProvider=function(e){return v(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return v(e)===p},t.isFragment=function(e){return v(e)===a},t.isLazy=function(e){return v(e)===m},t.isMemo=function(e){return v(e)===y},t.isPortal=function(e){return v(e)===i},t.isProfiler=function(e){return v(e)===u},t.isStrictMode=function(e){return v(e)===s},t.isSuspense=function(e){return v(e)===d}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.hide=function(e){a(i.default.GLOBAL.HIDE,{target:e})},e.rebuild=function(){a(i.default.GLOBAL.REBUILD)},e.show=function(e){a(i.default.GLOBAL.SHOW,{target:e})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(e){if(this.mount){var t={currentTarget:e.detail.target};this.showTooltip(t,!0)}},e.prototype.globalHide=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.hideTooltip({currentTarget:t&&e.detail.target},t)}}};var r,o=n(176),i=(r=o)&&r.__esModule?r:{default:r};var a=function(e,t){var n=void 0;"function"===typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):((n=document.createEvent("Event")).initEvent(e,!1,!0),n.detail=t),window.dispatchEvent(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.bindWindowEvents=function(e){window.removeEventListener(i.default.GLOBAL.HIDE,this.globalHide),window.addEventListener(i.default.GLOBAL.HIDE,this.globalHide,!1),window.removeEventListener(i.default.GLOBAL.REBUILD,this.globalRebuild),window.addEventListener(i.default.GLOBAL.REBUILD,this.globalRebuild,!1),window.removeEventListener(i.default.GLOBAL.SHOW,this.globalShow),window.addEventListener(i.default.GLOBAL.SHOW,this.globalShow,!1),e&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(i.default.GLOBAL.HIDE,this.globalHide),window.removeEventListener(i.default.GLOBAL.REBUILD,this.globalRebuild),window.removeEventListener(i.default.GLOBAL.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}};var r,o=n(176),i=(r=o)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.isCustomEvent=function(e){return this.state.event||!!e.getAttribute("data-event")},e.prototype.customBindListener=function(e){var t=this,n=this.state,o=n.event,a=n.eventOff,s=e.getAttribute("data-event")||o,u=e.getAttribute("data-event-off")||a;s.split(" ").forEach(function(n){e.removeEventListener(n,i.get(e,n));var o=r.bind(t,u);i.set(e,n,o),e.addEventListener(n,o,!1)}),u&&u.split(" ").forEach(function(n){e.removeEventListener(n,t.hideTooltip),e.addEventListener(n,t.hideTooltip,!1)})},e.prototype.customUnbindListener=function(e){var t=this.state,n=t.event,r=t.eventOff,o=n||e.getAttribute("data-event"),a=r||e.getAttribute("data-event-off");e.removeEventListener(o,i.get(e,n)),a&&e.removeEventListener(a,this.hideTooltip)}};var r=function(e,t){var n=this.state.show,r=this.props.id,i=t.currentTarget.getAttribute("data-iscapture"),a=i&&"true"===i||this.props.isCapture,s=t.currentTarget.getAttribute("currentItem");a||t.stopPropagation(),n&&"true"===s?e||this.hideTooltip(t):(t.currentTarget.setAttribute("currentItem","true"),o(t.currentTarget,this.getTargetArray(r)),this.showTooltip(t))},o=function(e,t){for(var n=0;n<t.length;n++)e!==t[n]?t[n].setAttribute("currentItem","false"):t[n].setAttribute("currentItem","true")},i={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(e,t,n){var r,o,i;this.id in e?e[this.id][t]=n:Object.defineProperty(e,this.id,{configurable:!0,value:(r={},o=t,i=n,o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r)})},get:function(e,t){var n=e[this.id];if(void 0!==n)return n[t]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.isCapture=function(e){return e&&"true"===e.getAttribute("data-iscapture")||this.props.isCapture||!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.getEffect=function(e){return e.getAttribute("data-effect")||this.props.effect||"float"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.bindRemovalTracker=function(){var e=this,t=r();if(null!=t){var n=new t(function(t){for(var n=0;n<t.length;n++)for(var r=t[n],o=0;o<r.removedNodes.length;o++){if(r.removedNodes[o]===e.state.currentTarget)return void e.hideTooltip()}});n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},e.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)}};var r=function(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,u,c,l,f){for(var h=r(n),p=h.width,d=h.height,y=r(t),m=y.width,v=y.height,g=o(e,t,l),b=g.mouseX,w=g.mouseY,E=i(l,m,v,p,d),T=a(f),_=T.extraOffset_X,S=T.extraOffset_Y,I=window.innerWidth,A=window.innerHeight,C=s(n),O=C.parentTop,k=C.parentLeft,x=function(e){var t=E[e].l;return b+t+_},R=function(e){var t=E[e].t;return w+t+S},P=function(e){return function(e){var t=E[e].r;return b+t+_}(e)>I},N=function(e){return function(e){var t=E[e].b;return w+t+S}(e)>A},D=function(e){return function(e){return x(e)<0}(e)||P(e)||function(e){return R(e)<0}(e)||N(e)},L=function(e){return!D(e)},M=["top","bottom","left","right"],j=[],U=0;U<4;U++){var F=M[U];L(F)&&j.push(F)}var q=!1,B=void 0;return L(c)&&c!==u?(q=!0,B=c):j.length>0&&D(c)&&D(u)&&(q=!0,B=j[0]),q?{isNewState:!0,newState:{place:B}}:{isNewState:!1,position:{left:parseInt(x(u)-k,10),top:parseInt(R(u)-O,10)}}};var r=function(e){var t=e.getBoundingClientRect(),n=t.height,r=t.width;return{height:parseInt(n,10),width:parseInt(r,10)}},o=function(e,t,n){var o=t.getBoundingClientRect(),i=o.top,a=o.left,s=r(t),u=s.width,c=s.height;return"float"===n?{mouseX:e.clientX,mouseY:e.clientY}:{mouseX:a+u/2,mouseY:i+c/2}},i=function(e,t,n,r,o){var i=void 0,a=void 0,s=void 0,u=void 0;return"float"===e?(i={l:-r/2,r:r/2,t:-(o+3+2),b:-3},s={l:-r/2,r:r/2,t:15,b:o+3+2+12},u={l:-(r+3+2),r:-3,t:-o/2,b:o/2},a={l:3,r:r+3+2,t:-o/2,b:o/2}):"solid"===e&&(i={l:-r/2,r:r/2,t:-(n/2+o+2),b:-n/2},s={l:-r/2,r:r/2,t:n/2,b:n/2+o+2},u={l:-(r+t/2+2),r:-t/2,t:-o/2,b:o/2},a={l:t/2,r:r+t/2+2,t:-o/2,b:o/2}),{top:i,bottom:s,left:u,right:a}},a=function(e){var t=0,n=0;for(var r in"[object String]"===Object.prototype.toString.apply(e)&&(e=JSON.parse(e.toString().replace(/\'/g,'"'))),e)"top"===r?n-=parseInt(e[r],10):"bottom"===r?n+=parseInt(e[r],10):"left"===r?t-=parseInt(e[r],10):"right"===r&&(t+=parseInt(e[r],10));return{extraOffset_X:t,extraOffset_Y:n}},s=function(e){for(var t=e;t&&"none"===window.getComputedStyle(t).getPropertyValue("transform");)t=t.parentElement;return{parentTop:t&&t.getBoundingClientRect().top||0,parentLeft:t&&t.getBoundingClientRect().left||0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){if(t)return t;if(void 0!==n&&null!==n)return n;if(null===n)return null;var o=/<br\s*\/?>/;return r&&"false"!==r&&o.test(e)?e.split(o).map(function(e,t){return i.default.createElement("span",{key:t,className:"multi-line"},e)}):e};var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseAria=function(e){var t={};return Object.keys(e).filter(function(e){return/(^aria-\w+$|^role$)/.test(e)}).forEach(function(n){t[n]=e[n]}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.length;return e.hasOwnProperty?Array.prototype.slice.call(e):new Array(t).fill().map(function(t){return e[t]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='.__react_component_tooltip{border-radius:3px;display:inline-block;font-size:13px;left:-999em;opacity:0;padding:8px 21px;position:fixed;pointer-events:none;transition:opacity 0.3s ease-out;top:-999em;visibility:hidden;z-index:999}.__react_component_tooltip.allow_hover,.__react_component_tooltip.allow_click{pointer-events:auto}.__react_component_tooltip:before,.__react_component_tooltip:after{content:"";width:0;height:0;position:absolute}.__react_component_tooltip.show{opacity:0.9;margin-top:0px;margin-left:0px;visibility:visible}.__react_component_tooltip.type-dark{color:#fff;background-color:#222}.__react_component_tooltip.type-dark.place-top:after{border-top-color:#222;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-dark.place-bottom:after{border-bottom-color:#222;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-dark.place-left:after{border-left-color:#222;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-dark.place-right:after{border-right-color:#222;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-dark.border{border:1px solid #fff}.__react_component_tooltip.type-dark.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-dark.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-dark.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-dark.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-success{color:#fff;background-color:#8DC572}.__react_component_tooltip.type-success.place-top:after{border-top-color:#8DC572;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-success.place-bottom:after{border-bottom-color:#8DC572;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-success.place-left:after{border-left-color:#8DC572;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-success.place-right:after{border-right-color:#8DC572;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-success.border{border:1px solid #fff}.__react_component_tooltip.type-success.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-success.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-success.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-success.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-warning{color:#fff;background-color:#F0AD4E}.__react_component_tooltip.type-warning.place-top:after{border-top-color:#F0AD4E;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-warning.place-bottom:after{border-bottom-color:#F0AD4E;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-warning.place-left:after{border-left-color:#F0AD4E;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-warning.place-right:after{border-right-color:#F0AD4E;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-warning.border{border:1px solid #fff}.__react_component_tooltip.type-warning.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-warning.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-warning.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-warning.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-error{color:#fff;background-color:#BE6464}.__react_component_tooltip.type-error.place-top:after{border-top-color:#BE6464;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-error.place-bottom:after{border-bottom-color:#BE6464;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-error.place-left:after{border-left-color:#BE6464;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-error.place-right:after{border-right-color:#BE6464;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-error.border{border:1px solid #fff}.__react_component_tooltip.type-error.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-error.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-error.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-error.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-info{color:#fff;background-color:#337AB7}.__react_component_tooltip.type-info.place-top:after{border-top-color:#337AB7;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-info.place-bottom:after{border-bottom-color:#337AB7;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-info.place-left:after{border-left-color:#337AB7;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-info.place-right:after{border-right-color:#337AB7;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-info.border{border:1px solid #fff}.__react_component_tooltip.type-info.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-info.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-info.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-info.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-light{color:#222;background-color:#fff}.__react_component_tooltip.type-light.place-top:after{border-top-color:#fff;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-light.place-bottom:after{border-bottom-color:#fff;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-light.place-left:after{border-left-color:#fff;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-light.place-right:after{border-right-color:#fff;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-light.border{border:1px solid #222}.__react_component_tooltip.type-light.border.place-top:before{border-top:8px solid #222}.__react_component_tooltip.type-light.border.place-bottom:before{border-bottom:8px solid #222}.__react_component_tooltip.type-light.border.place-left:before{border-left:8px solid #222}.__react_component_tooltip.type-light.border.place-right:before{border-right:8px solid #222}.__react_component_tooltip.place-top{margin-top:-10px}.__react_component_tooltip.place-top:before{border-left:10px solid transparent;border-right:10px solid transparent;bottom:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-top:after{border-left:8px solid transparent;border-right:8px solid transparent;bottom:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-bottom{margin-top:10px}.__react_component_tooltip.place-bottom:before{border-left:10px solid transparent;border-right:10px solid transparent;top:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-bottom:after{border-left:8px solid transparent;border-right:8px solid transparent;top:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-left{margin-left:-10px}.__react_component_tooltip.place-left:before{border-top:6px solid transparent;border-bottom:6px solid transparent;right:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-left:after{border-top:5px solid transparent;border-bottom:5px solid transparent;right:-6px;top:50%;margin-top:-4px}.__react_component_tooltip.place-right{margin-left:10px}.__react_component_tooltip.place-right:before{border-top:6px solid transparent;border-bottom:6px solid transparent;left:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-right:after{border-top:5px solid transparent;border-bottom:5px solid transparent;left:-6px;top:50%;margin-top:-4px}.__react_component_tooltip .multi-line{display:block;padding:2px 0px;text-align:center}'},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(n){return function(r,u,c){var l=n(r,u,c),f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}({},i.defaultConfig,t);return o=(0,a.default)(e.firebase_||e,f,l.dispatch),l.firestore=o,l}}},t.getFirestore=void 0;var r,o,i=n(16),a=(r=n(177))&&r.__esModule?r:{default:r};function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.getFirestore=function(){if(!o)throw new Error("Firebase instance does not yet exist. Check your compose function.");return o}},function(e,t,n){var r=n(296),o=n(49),i=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function u(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var o=r[0]=t.apply(void 0,r);return e.apply(void 0,r),o}}}e.exports=function e(t,n,c,l){var f="function"==typeof n,h=n===Object(n);if(h&&(l=c,c=n,n=void 0),null==c)throw new TypeError;l||(l={});var p={cap:!("cap"in l)||l.cap,curry:!("curry"in l)||l.curry,fixed:!("fixed"in l)||l.fixed,immutable:!("immutable"in l)||l.immutable,rearg:!("rearg"in l)||l.rearg},d=f?c:o,y="curry"in l&&l.curry,m="fixed"in l&&l.fixed,v="rearg"in l&&l.rearg,g=f?c.runInContext():void 0,b=f?c:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},w=b.ary,E=b.assign,T=b.clone,_=b.curry,S=b.forEach,I=b.isArray,A=b.isError,C=b.isFunction,O=b.isWeakMap,k=b.keys,x=b.rearg,R=b.toInteger,P=b.toPath,N=k(r.aryMethod),D={castArray:function(e){return function(){var t=arguments[0];return I(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],r=e(t,n),o=r.length;return p.cap&&"number"==typeof n?(n=n>2?n-2:1,o&&o<=n?r:a(r,n)):r}},mixin:function(e){return function(t){var n=this;if(!C(n))return e(n,Object(t));var r=[];return S(k(t),function(e){C(t[e])&&r.push([e,n.prototype[e]])}),e(n,Object(t)),S(r,function(e){var t=e[1];C(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]}),n}},nthArg:function(e){return function(t){var n=t<0?1:R(t)+1;return _(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return _(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),l)}}};function L(e,t){if(p.cap){var n=r.iterateeRearg[e];if(n)return function(e,t){return q(e,function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(x(a(e,n),t),n)})}(t,n);var o=!f&&r.iterateeAry[e];if(o)return function(e,t){return q(e,function(e){return"function"==typeof e?a(e,t):e})}(t,o)}return t}function M(e,t,n){if(p.fixed&&(m||!r.skipFixed[e])){var o=r.methodSpread[e],a=o&&o.start;return void 0===a?w(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,o=Array(n);n--;)o[n]=arguments[n];var a=o[t],s=o.slice(0,t);return a&&i.apply(s,a),t!=r&&i.apply(s,o.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function j(e,t,n){return p.rearg&&n>1&&(v||!r.skipRearg[e])?x(t,r.methodRearg[e]||r.aryRearg[n]):t}function U(e,t){for(var n=-1,r=(t=P(t)).length,o=r-1,i=T(Object(e)),a=i;null!=a&&++n<r;){var s=t[n],u=a[s];null==u||C(u)||A(u)||O(u)||(a[s]=T(n==o?u:Object(u))),a=a[s]}return i}function F(t,n){var o=r.aliasToReal[t]||t,i=r.remap[o]||o,a=l;return function(t){var r=f?g:b,s=f?g[i]:n,u=E(E({},a),t);return e(r,o,s,u)}}function q(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var o=p.rearg?0:n-1;return r[o]=t(r[o]),e.apply(void 0,r)}}function B(e,t,n){var o,i=r.aliasToReal[e]||e,a=t,c=D[i];return c?a=c(t):p.immutable&&(r.mutate.array[i]?a=u(t,s):r.mutate.object[i]?a=u(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[i]&&(a=u(t,U))),S(N,function(e){return S(r.aryMethod[e],function(t){if(i==t){var n=r.methodSpread[i],s=n&&n.afterRearg;return o=s?M(i,j(i,a,e),e):j(i,M(i,a,e),e),o=L(i,o),u=o,c=e,o=y||p.curry&&c>1?_(u,c):u,!1}var u,c}),!o}),o||(o=a),o==t&&(o=y?_(o,1):function(){return t.apply(this,arguments)}),o.convert=F(i,t),o.placeholder=t.placeholder=n,o}if(!h)return B(n,c,d);var V=c,W=[];return S(N,function(e){S(r.aryMethod[e],function(e){var t=V[r.remap[e]||e];t&&W.push([e,B(e,t,V)])})}),S(k(V),function(e){var t=V[e];if("function"==typeof t){for(var n=W.length;n--;)if(W[n][0]==e)return;t.convert=F(e,t),W.push([e,t])}}),S(W,function(e){V[e[0]]=e[1]}),V.convert=function(e){return V.runInContext.convert(e)(void 0)},V.placeholder=V,S(k(V),function(e){S(r.realToAlias[e]||[],function(t){V[t]=V[e]})}),V}},function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var o in n){var i=n[o];e.call(r,i)?r[i].push(o):r[i]=[o]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(e,t,n){e.exports={ary:n(298),assign:n(197),clone:n(331),curry:n(370),forEach:n(75),isArray:n(3),isError:n(371),isFunction:n(9),isWeakMap:n(372),iteratee:n(373),keys:n(79),rearg:n(389),toInteger:n(196),toPath:n(391)}},function(e,t,n){var r=n(118),o=128;e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,o,void 0,void 0,void 0,void 0,t)}},function(e,t,n){var r=n(9),o=n(302),i=n(4),a=n(183),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?h:s).test(a(e))}},function(e,t,n){var r=n(40),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(303),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(13)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(73),o=n(13),i=1;e.exports=function(e,t,n){var a=t&i,s=r(e);return function t(){return(this&&this!==o&&this instanceof t?s:e).apply(a?n:this,arguments)}}},function(e,t,n){var r=n(51),o=n(73),i=n(184),a=n(187),s=n(195),u=n(124),c=n(13);e.exports=function(e,t,n){var l=o(e);return function o(){for(var f=arguments.length,h=Array(f),p=f,d=s(o);p--;)h[p]=arguments[p];var y=f<3&&h[0]!==d&&h[f-1]!==d?[]:u(h,d);return(f-=y.length)<n?a(e,t,i,o.placeholder,void 0,h,y,void 0,void 0,n-f):r(this&&this!==c&&this instanceof o?l:e,this,h)}}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},function(e,t,n){var r=n(119),o=n(188),i=n(309),a=n(311);e.exports=function(e){var t=i(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=o(n);return!!s&&e===s[0]}},function(e,t,n){var r=n(310),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],i=o.call(r,t)?n.length:0;i--;){var a=n[i],s=a.func;if(null==s||s==e)return a.name}return t}},function(e,t){e.exports={}},function(e,t,n){var r=n(119),o=n(190),i=n(120),a=n(3),s=n(12),u=n(312),c=Object.prototype.hasOwnProperty;function l(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof o)return e;if(c.call(e,"__wrapped__"))return u(e)}return new o(e)}l.prototype=i.prototype,l.prototype.constructor=l,e.exports=l},function(e,t,n){var r=n(119),o=n(190),i=n(52);e.exports=function(e){if(e instanceof r)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(r):[]}},function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var r=t.length;if(!r)return e;var o=r-1;return t[o]=(r>1?"& ":"")+t[o],t=t.join(r>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},function(e,t,n){var r=n(316),o=n(194),i=n(50),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var r=n(75),o=n(122),i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(i,function(n){var r="_."+n[0];t&n[1]&&!o(e,r)&&e.push(r)}),e.sort()}},function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},function(e,t){e.exports=function(e){return e!==e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(52),o=n(41),i=Math.min;e.exports=function(e,t){for(var n=e.length,a=i(t.length,n),s=r(e);a--;){var u=t[a];e[a]=o(u,n)?s[u]:void 0}return e}},function(e,t,n){var r=n(51),o=n(73),i=n(13),a=1;e.exports=function(e,t,n,s){var u=t&a,c=o(e);return function t(){for(var o=-1,a=arguments.length,l=-1,f=s.length,h=Array(f+a),p=this&&this!==i&&this instanceof t?c:e;++l<f;)h[l]=s[l];for(;a--;)h[l++]=arguments[++o];return r(p,u?n:this,h)}}},function(e,t,n){var r=n(185),o=n(186),i=n(124),a="__lodash_placeholder__",s=1,u=2,c=4,l=8,f=128,h=256,p=Math.min;e.exports=function(e,t){var n=e[1],d=t[1],y=n|d,m=y<(s|u|f),v=d==f&&n==l||d==f&&n==h&&e[7].length<=t[8]||d==(f|h)&&t[7].length<=t[8]&&n==l;if(!m&&!v)return e;d&s&&(e[2]=t[2],y|=n&s?0:c);var g=t[3];if(g){var b=e[3];e[3]=b?r(b,g,t[4]):g,e[4]=b?i(e[3],a):t[4]}return(g=t[5])&&(b=e[5],e[5]=b?o(b,g,t[6]):g,e[6]=b?i(e[5],a):t[6]),(g=t[7])&&(e[7]=g),d&f&&(e[8]=null==e[8]?t[8]:p(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=y,e}},function(e,t,n){var r=n(325),o=1/0,i=1.7976931348623157e308;e.exports=function(e){return e?(e=r(e))===o||e===-o?(e<0?-1:1)*i:e===e?e:0:0===e?e:0}},function(e,t,n){var r=n(4),o=n(53),i=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=u.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):s.test(e)?i:+e}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(19),o=n(12),i="[object Arguments]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(19),o=n(126),i=n(12),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(199)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(80),o=4;e.exports=function(e){return r(e,o)}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(83),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(83);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(83);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(83);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(82);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(82),o=n(128),i=n(129),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(343),o=n(82),i=n(128);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(344),o=n(345),i=n(346),a=n(347),s=n(348);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(84);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(84),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(84),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(84),o="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}},function(e,t,n){var r=n(85);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(85);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(85);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(85);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(33),o=n(86);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(4),o=n(57),i=n(356),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(33),o=n(130);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(33),o=n(202);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(32)(n(13),"DataView");e.exports=r},function(e,t,n){var r=n(32)(n(13),"Promise");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(135),o=n(363),i=n(364),a=n(365),s=n(207),u="[object Boolean]",c="[object Date]",l="[object Map]",f="[object Number]",h="[object RegExp]",p="[object Set]",d="[object String]",y="[object Symbol]",m="[object ArrayBuffer]",v="[object DataView]",g="[object Float32Array]",b="[object Float64Array]",w="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",_="[object Uint8Array]",S="[object Uint8ClampedArray]",I="[object Uint16Array]",A="[object Uint32Array]";e.exports=function(e,t,n){var C=e.constructor;switch(t){case m:return r(e);case u:case c:return new C(+e);case v:return o(e,n);case g:case b:case w:case E:case T:case _:case S:case I:case A:return s(e,n);case l:return new C;case f:case d:return new C(e);case h:return i(e);case p:return new C;case y:return a(e)}}},function(e,t,n){var r=n(135);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(40),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var r=n(367),o=n(78),i=n(127),a=i&&i.isMap,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(34),o=n(12),i="[object Map]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t,n){var r=n(369),o=n(78),i=n(127),a=i&&i.isSet,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(34),o=n(12),i="[object Set]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t,n){var r=n(118),o=8;function i(e,t,n){var a=r(e,o,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return a.placeholder=i.placeholder,a}i.placeholder={},e.exports=i},function(e,t,n){var r=n(19),o=n(12),i=n(136),a="[object DOMException]",s="[object Error]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==s||t==a||"string"==typeof e.message&&"string"==typeof e.name&&!i(e)}},function(e,t,n){var r=n(34),o=n(12),i="[object WeakMap]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t,n){var r=n(80),o=n(17),i=1;e.exports=function(e){return o("function"==typeof e?e:r(e,i))}},function(e,t,n){var r=n(375),o=n(382),i=n(212);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(81),o=n(137),i=1,a=2;e.exports=function(e,t,n,s){var u=n.length,c=u,l=!s;if(null==e)return!c;for(e=Object(e);u--;){var f=n[u];if(l&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++u<c;){var h=(f=n[u])[0],p=e[h],d=f[1];if(l&&f[2]){if(void 0===p&&!(h in e))return!1}else{var y=new r;if(s)var m=s(p,d,h,e,t,y);if(!(void 0===m?o(d,p,i|a,s,y):m))return!1}}return!0}},function(e,t,n){var r=n(81),o=n(209),i=n(379),a=n(381),s=n(34),u=n(3),c=n(56),l=n(77),f=1,h="[object Arguments]",p="[object Array]",d="[object Object]",y=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,g){var b=u(e),w=u(t),E=b?p:s(e),T=w?p:s(t),_=(E=E==h?d:E)==d,S=(T=T==h?d:T)==d,I=E==T;if(I&&c(e)){if(!c(t))return!1;b=!0,_=!1}if(I&&!_)return g||(g=new r),b||l(e)?o(e,t,n,m,v,g):i(e,t,E,n,m,v,g);if(!(n&f)){var A=_&&y.call(e,"__wrapped__"),C=S&&y.call(t,"__wrapped__");if(A||C){var O=A?e.value():e,k=C?t.value():t;return g||(g=new r),v(O,k,n,m,g)}}return!!I&&(g||(g=new r),a(e,t,n,m,v,g))}},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(40),o=n(206),i=n(54),a=n(209),s=n(380),u=n(140),c=1,l=2,f="[object Boolean]",h="[object Date]",p="[object Error]",d="[object Map]",y="[object Number]",m="[object RegExp]",v="[object Set]",g="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",E="[object DataView]",T=r?r.prototype:void 0,_=T?T.valueOf:void 0;e.exports=function(e,t,n,r,T,S,I){switch(n){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!S(new o(e),new o(t)));case f:case h:case y:return i(+e,+t);case p:return e.name==t.name&&e.message==t.message;case m:case g:return e==t+"";case d:var A=s;case v:var C=r&c;if(A||(A=u),e.size!=t.size&&!C)return!1;var O=I.get(e);if(O)return O==t;r|=l,I.set(e,t);var k=a(A(e),A(t),r,T,S,I);return I.delete(e),k;case b:if(_)return _.call(e)==_.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},function(e,t,n){var r=n(203),o=1,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,s,u){var c=n&o,l=r(e),f=l.length;if(f!=r(t).length&&!c)return!1;for(var h=f;h--;){var p=l[h];if(!(c?p in t:i.call(t,p)))return!1}var d=u.get(e);if(d&&u.get(t))return d==t;var y=!0;u.set(e,t),u.set(t,e);for(var m=c;++h<f;){var v=e[p=l[h]],g=t[p];if(a)var b=c?a(g,v,p,t,e,u):a(v,g,p,e,t,u);if(!(void 0===b?v===g||s(v,g,n,a,u):b)){y=!1;break}m||(m="constructor"==p)}if(y&&!m){var w=e.constructor,E=t.constructor;w!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E)&&(y=!1)}return u.delete(e),u.delete(t),y}},function(e,t,n){var r=n(211),o=n(27);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},function(e,t,n){var r=n(137),o=n(20),i=n(214),a=n(141),s=n(211),u=n(212),c=n(28),l=1,f=2;e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,l|f)}}},function(e,t,n){var r=n(385),o=500;e.exports=function(e){var t=r(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=n(129),o="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(216),o=n(388),i=n(141),a=n(28);e.exports=function(e){return i(e)?r(a(e)):o(e)}},function(e,t,n){var r=n(87);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(118),o=n(143),i=o(function(e,t){return r(e,256,void 0,void 0,void 0,t)});e.exports=i},function(e,t,n){var r=n(40),o=n(55),i=n(3),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},function(e,t,n){var r=n(37),o=n(52),i=n(3),a=n(53),s=n(213),u=n(28),c=n(36);e.exports=function(e){return i(e)?r(e,u):a(e)?[e]:o(s(c(e)))}},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}},function(e,t,n){var r=n(220),o=n(200),i=n(207),a=n(52),s=n(208),u=n(55),c=n(3),l=n(145),f=n(56),h=n(9),p=n(4),d=n(136),y=n(77),m=n(222),v=n(394);e.exports=function(e,t,n,g,b,w,E){var T=m(e,n),_=m(t,n),S=E.get(_);if(S)r(e,n,S);else{var I=w?w(T,_,n+"",e,t,E):void 0,A=void 0===I;if(A){var C=c(_),O=!C&&f(_),k=!C&&!O&&y(_);I=_,C||O||k?c(T)?I=T:l(T)?I=a(T):O?(A=!1,I=o(_,!0)):k?(A=!1,I=i(_,!0)):I=[]:d(_)||u(_)?(I=T,u(T)?I=v(T):p(T)&&!h(T)||(I=s(_))):A=!1}A&&(E.set(_,I),b(I,_,g,w,E),E.delete(_)),r(e,n,I)}}},function(e,t,n){var r=n(33),o=n(86);e.exports=function(e){return r(e,o(e))}},function(e,t){e.exports=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}},function(e,t,n){var r=n(24);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},function(e,t){e.exports=function(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=p,t.set=function(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=(0,c.getQueryConfig)(n);return(0,s.wrapInDispatch)(t,{ref:(0,c.firestoreRef)(e,a),method:"set",meta:a,args:o,types:[u.actionTypes.SET_REQUEST,u.actionTypes.SET_SUCCESS,u.actionTypes.SET_FAILURE]})},t.get=d,t.update=y,t.deleteRef=function(e,t,n){var i=(0,c.getQueryConfig)(n),a=e._.config;if(!i.doc||i.subcollections&&!(0,r.default)(i.subcollections,"doc"))return(0,o.default)(a.onAttemptCollectionDelete)?a.onAttemptCollectionDelete(n,t,e):Promise.reject(new Error("Only documents can be deleted."));return(0,s.wrapInDispatch)(t,{ref:(0,c.firestoreRef)(e,i),method:"delete",meta:i,types:[u.actionTypes.DELETE_REQUEST,{type:u.actionTypes.DELETE_SUCCESS,preserve:e._.config.preserveOnDelete},u.actionTypes.DELETE_FAILURE]})},t.setListener=m,t.setListeners=v,t.unsetListener=g,t.unsetListeners=b,t.runTransaction=w,t.default=void 0;var r=l(n(226)),o=l(n(9)),i=l(n(401)),a=l(n(3)),s=n(229),u=n(16),c=n(89);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={};function p(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=(0,c.getQueryConfig)(n);return(0,s.wrapInDispatch)(t,{ref:(0,c.firestoreRef)(e,a),method:"add",meta:a,args:o,types:[u.actionTypes.ADD_REQUEST,{type:u.actionTypes.ADD_SUCCESS,payload:function(e){return{id:e.id,data:o[0]}}},u.actionTypes.ADD_FAILURE]})}function d(e,t,n){var r=(0,c.getQueryConfig)(n),o=e._.config||{},i=o.mergeOrdered,a=o.mergeOrderedDocUpdates,l=o.mergeOrderedCollectionUpdates;return(0,s.wrapInDispatch)(t,{ref:(0,c.firestoreRef)(e,r),method:"get",meta:r,types:[u.actionTypes.GET_REQUEST,{type:u.actionTypes.GET_SUCCESS,payload:function(e){return{data:(0,c.dataByIdSnapshot)(e),ordered:(0,c.orderedFromSnap)(e)}},merge:{docs:i&&a,collections:i&&l}},u.actionTypes.GET_FAILURE]})}function y(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=(0,c.getQueryConfig)(n);return(0,s.wrapInDispatch)(t,{ref:(0,c.firestoreRef)(e,a),method:"update",meta:a,args:o,types:[u.actionTypes.UPDATE_REQUEST,u.actionTypes.UPDATE_SUCCESS,u.actionTypes.UPDATE_FAILURE]})}function m(e,t,n,r,o){var a=(0,c.getQueryConfig)(n),s=(0,c.firestoreRef)(e,a).onSnapshot(function(n){if(!a.populates)return(0,c.dispatchListenerResponse)({dispatch:t,docData:n,meta:a,firebase:e}),void("function"===typeof r&&r(n));(0,c.getPopulateActions)({firebase:e,docData:n,meta:a}).then(function(r){r.forEach(function(e){t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}({},e,{type:u.actionTypes.LISTENER_RESPONSE,timestamp:Date.now()}))}),(0,c.dispatchListenerResponse)({dispatch:t,docData:n,meta:a,firebase:e})}).catch(function(t){e._.config.logListenerError&&(0,i.default)(console,"error","Error populating:",t),"function"===typeof o&&o(t)})},function(n){var r=e._.config||{},s=r.mergeOrdered,c=r.mergeOrderedDocUpdates,l=r.mergeOrderedCollectionUpdates,f=e._.config||{},h=f.logListenerError,p=f.preserveOnListenerError;h&&(0,i.default)(console,"error",n),t({type:u.actionTypes.LISTENER_ERROR,meta:a,payload:n,merge:{docs:s&&c,collections:s&&l},preserve:p}),"function"===typeof o&&o(n)});return(0,c.attachListener)(e,t,a,s),s}function v(e,t,n){if(!(0,a.default)(n))throw new Error("Listeners must be an Array of listener configs (Strings/Objects).");var r=e._.config;if(r.oneListenerPerPath)n.forEach(function(n){var r=(0,c.getQueryName)(n),o=h[r]||0;h[r]=o+1,o>0||m(e,t,n)});else{var i=r.allowMultipleListeners;n.forEach(function(n){var r=(0,c.getQueryName)(n),a=h[r]||0,s=(0,o.default)(i)?i(n,e._.listeners):i;h[r]=a+1,(0===a||s)&&m(e,t,n)})}}function g(e,t,n){return(0,c.detachListener)(e,t,(0,c.getQueryConfig)(n))}function b(e,t,n){if(!(0,a.default)(n))throw new Error("Listeners must be an Array of listener configs (Strings/Objects).");var r=e._.config.allowMultipleListeners;n.forEach(function(n){var i=(0,c.getQueryName)(n),a=h[i]>=1,s=(0,o.default)(r)?r(n,e._.listeners):r;a&&(h[i]-=1,(0===h[i]||s)&&g(e,t,n))})}function w(e,t,n){return(0,s.wrapInDispatch)(t,{ref:e.firestore(),method:"runTransaction",args:[n],types:[u.actionTypes.TRANSACTION_START,u.actionTypes.TRANSACTION_SUCCESS,u.actionTypes.TRANSACTION_FAILURE]})}var E={get:d,firestoreRef:c.firestoreRef,add:p,update:y,setListener:m,setListeners:v,unsetListener:g,unsetListeners:b,runTransaction:w};t.default=E},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},function(e,t,n){var r=n(38);e.exports=function(e,t){var n=!0;return r(e,function(e,r,o){return n=!!t(e,r,o)}),n}},function(e,t,n){var r=n(402),o=n(58)(r);e.exports=o},function(e,t,n){var r=n(51),o=n(35),i=n(59),a=n(227),s=n(28);e.exports=function(e,t,n){t=o(t,e);var u=null==(e=a(e,t))?e:e[s(i(t))];return null==u?void 0:r(u,e,n)}},function(e,t,n){var r=n(80),o=1,i=4;e.exports=function(e){return r(e,o|i)}},function(e,t,n){var r=n(38);e.exports=function(e,t){var n;return r(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}},function(e,t,n){var r=n(38),o=n(24);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,function(e,r,o){i[++n]=t(e,r,o)}),i}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},function(e,t,n){var r=n(50);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t,n){var r=n(142),o=n(151),i=n(409),a=n(230),s=n(152),u=n(36),c=/^\s+|\s+$/g;e.exports=function(e,t,n){if((e=u(e))&&(n||void 0===t))return e.replace(c,"");if(!e||!(t=r(t)))return e;var l=s(e),f=s(t),h=a(l,f),p=i(l,f)+1;return o(l,h,p).join("")}},function(e,t,n){var r=n(123);e.exports=function(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+o+")"+"?",c="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[i,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),l="(?:"+[i+r+"?",r,a,s,n].join("|")+")",f=RegExp(o+"(?="+o+")|"+l+c,"g");e.exports=function(e){return e.match(f)||[]}},function(e,t,n){var r=n(413),o=n(153),i=n(414);e.exports=function(e){return o(e)?i(e):r(e)}},function(e,t,n){var r=n(216)("length");e.exports=r},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+o+")"+"?",c="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[i,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),l="(?:"+[i+r+"?",r,a,s,n].join("|")+")",f=RegExp(o+"(?="+o+")|"+l+c,"g");e.exports=function(e){for(var t=f.lastIndex=0;f.test(e);)++t;return t}},function(e,t,n){var r=n(79),o=n(34),i=n(55),a=n(3),s=n(24),u=n(56),c=n(57),l=n(77),f="[object Map]",h="[object Set]",p=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||i(e)))return!e.length;var t=o(e);if(t==f||t==h)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(p.call(e,n))return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(417))&&r.__esModule?r:{default:r},i=n(44),a=n(420);var s=(0,i.combineReducers)({status:a.statusReducer,data:a.dataReducer,ordered:a.orderedReducer,listeners:a.listenersReducer,errors:a.errorsReducer,queries:a.queriesReducer,composite:function(e){return e}}),u=(0,o.default)(s,a.crossSliceReducer);t.default=u},function(e,t,n){"use strict";n.r(t),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="function"!==typeof t[t.length-1]&&t.pop(),o=t;if("undefined"===typeof r)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];var s="undefined"===typeof e,u="undefined"===typeof t;return s&&u&&r?r:o.reduce(function(e,n){return n.apply(void 0,[e,t].concat(i))},s&&!u&&r?r:e)}}},function(e,t,n){var r=n(142),o=n(151),i=n(230),a=n(152),s=n(36),u=/^\s+/;e.exports=function(e,t,n){if((e=s(e))&&(n||void 0===t))return e.replace(u,"");if(!e||!(t=r(t)))return e;var c=a(e),l=i(c,a(t));return o(c,l).join("")}},function(e,t,n){var r=n(233),o=n(214);e.exports=function(e,t){return r(e,t,function(t,n){return o(e,n)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"dataReducer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"errorsReducer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"listenersReducer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"orderedReducer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"statusReducer",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"queriesReducer",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"crossSliceReducer",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var r=l(n(421)),o=l(n(424)),i=l(n(425)),a=l(n(427)),s=l(n(435)),u=l(n(436)),c=l(n(437));function l(e){return e&&e.__esModule?e:{default:e}}var f={dataReducer:r.default,errorsReducer:o.default,listenersReducer:i.default,orderedReducer:a.default,statusReducer:s.default,queriesReducer:u.default,crossSliceReducer:c.default};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:case f:var n=t.meta,a=t.payload;if(!a||void 0===a.data)return e;var u=function e(t){return t.subcollections?e(t.subcollections.slice(-1)[0]):t.doc}(n),v=u?(0,i.default)(a.data,u):a.data,g=(0,i.default)(e,n.storeAs?[n.storeAs]:(0,s.pathFromMeta)(n));if(!g||n.subcollections)return(0,o.default)(Object,n.storeAs?[n.storeAs]:(0,s.pathFromMeta)(n),v,e);var b=(0,r.default)(g,v);return(0,o.default)(Object,n.storeAs?[n.storeAs]:(0,s.pathFromMeta)(n),b,e);case y:case d:return(0,o.default)(Object,(0,s.pathFromMeta)(t.meta),t.payload.data,e);case m:case p:var w=(0,s.pathFromMeta)(t.meta),E=(0,o.default)(Object,w,null,e);return t.preserve&&t.preserve.data?(0,s.preserveValuesFromState)(e,t.preserve.data,E):E;case c:return t.preserve&&t.preserve.data?(0,s.preserveValuesFromState)(e,t.preserve.data,{}):{};case h:var T=(0,o.default)(Object,(0,s.pathFromMeta)(t.meta),null,e);if(t.preserve&&t.preserve.data)return(0,s.preserveValuesFromState)(e,t.preserve.data,T);var _=(0,i.default)(e,(0,s.pathFromMeta)(t.meta));return _?e:T;default:return e}};var r=u(n(154)),o=u(n(235)),i=u(n(20)),a=n(16),s=n(44);function u(e){return e&&e.__esModule?e:{default:e}}var c=a.actionTypes.CLEAR_DATA,l=a.actionTypes.GET_SUCCESS,f=a.actionTypes.LISTENER_RESPONSE,h=a.actionTypes.LISTENER_ERROR,p=a.actionTypes.DELETE_SUCCESS,d=a.actionTypes.DOCUMENT_ADDED,y=a.actionTypes.DOCUMENT_MODIFIED,m=a.actionTypes.DOCUMENT_REMOVED},function(e,t,n){var r=n(76),o=n(33),i=n(146),a=n(24),s=n(57),u=n(27),c=Object.prototype.hasOwnProperty,l=i(function(e,t){if(s(t)||a(t))o(t,u(t),e);else for(var n in t)c.call(t,n)&&r(e,n,t[n])});e.exports=l},function(e,t,n){var r=n(149);e.exports=function(e,t,n,o){return o="function"==typeof o?o:void 0,null==e?e:r(e,t,n,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(16),o=n(89),i=n(44);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=r.actionTypes.CLEAR_ERRORS,l=r.actionTypes.CLEAR_ERROR,f=r.actionTypes.LISTENER_ERROR,h=r.actionTypes.ERROR;var p=(0,i.combineReducers)({byQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.meta,r=t.payload;switch(t.type){case h:case f:return a({},e,s({},(0,o.getQueryName)(n),r));case l:return a({},e,s({},(0,o.getQueryName)(n),null));default:return e}},allIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.meta;switch(t.type){case f:case h:return-1!==e.indexOf((0,o.getQueryName)(n))?e:[].concat(u(e),[(0,o.getQueryName)(n)]);case c:return[];case l:return e.filter(function(e){return e!==(0,o.getQueryName)(n)});default:return e}}});t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(93))&&r.__esModule?r:{default:r},i=n(16);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=(0,n(44).combineReducers)({byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.path,a=t.payload;switch(n){case i.actionTypes.SET_LISTENER:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}({},e,s({},a.name,{name:a.name,path:r}));case i.actionTypes.UNSET_LISTENER:return(0,o.default)(e,[a.name]);default:return e}},allIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case i.actionTypes.SET_LISTENER:return[].concat(a(e),[r.name]);case i.actionTypes.UNSET_LISTENER:return e.filter(function(e){return e!==r.name});default:return e}}});t.default=u},function(e,t,n){var r=n(136);e.exports=function(e){return r(e)?void 0:e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!t.type)return e;if(t.type===S)return t.preserve&&t.preserve.ordered?(0,y.preserveValuesFromState)(e,t.preserve.ordered,{}):{};if(!Object.prototype.hasOwnProperty.call(R,t.type))return e;if(!t.meta||!t.meta.storeAs&&!t.meta.collection)return e;var n=t.meta.storeAs||t.meta.collection,r=(0,h.default)(e,n);return g({},e,b({},n,P(r,t)))};var r,o=m(n(154)),i=m(n(178)),a=m(n(156)),s=m(n(428)),u=m(n(43)),c=m(n(93)),l=m(n(431)),f=m(n(432)),h=m(n(20)),p=m(n(61)),d=n(16),y=n(44);function m(e){return e&&e.__esModule?e:{default:e}}function v(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){b(e,t,n[t])})}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var E=d.actionTypes.DOCUMENT_ADDED,T=d.actionTypes.GET_SUCCESS,_=d.actionTypes.LISTENER_RESPONSE,S=d.actionTypes.CLEAR_DATA,I=d.actionTypes.DELETE_SUCCESS,A=d.actionTypes.DOCUMENT_REMOVED,C=d.actionTypes.DOCUMENT_MODIFIED;function O(e,t){if(!t.meta.subcollections||t.meta.storeAs)return(0,y.updateItemInArray)(e,t.meta.doc,function(e){return(0,o.default)(e,t.payload.data)});var n=w((0,y.pathToArr)(t.meta.path),4),r=n[1],a=n[2],s=n[3];return(0,y.updateItemInArray)(e,r,function(e){return g({},e,b({},a,(0,y.updateItemInArray)((0,h.default)(e,a,[]),s,function(e){return(0,i.default)(e,t.payload.data)})))})}function k(e,t){if(!t.meta.subcollections||t.meta.storeAs)return(0,l.default)(e,{id:t.meta.doc});var n=t.meta.subcollections[0];return n.doc?(0,y.updateItemInArray)(e,t.meta.doc,function(t){return(0,h.default)(t,n.collection,[]).length?g({},t,b({},n.collection,(0,l.default)(e,{id:n.doc}))):t}):(0,y.updateItemInArray)(e,t.meta.doc,function(e){return(0,c.default)(e,[n.collection])})}function x(e,t){var n=t.meta,r=t.merge,o=void 0===r?{doc:!0,collections:!0}:r;if(n.storeAs)return t.payload.ordered;var l=(0,p.default)(e),d=!!(0,p.default)(t.payload.ordered);if(n.doc&&o.doc&&l)return O(e,t);if(l&&o.collections){if(!d)return[];var m=e&&(0,s.default)(e,"id");return(0,u.default)(t.payload.ordered,function(e){var t=(0,h.default)(m,e.id);return t&&!(0,a.default)(t,e)?g({},t,e):e})}if(n.doc&&n.subcollections){var v=n.subcollections[0];return l?(0,y.updateItemInArray)(e,n.doc,function(e){return d?g({},e,b({},v.collection,(0,f.default)((0,h.default)(e,v.collection,[]),t.payload.ordered,"id"))):(0,c.default)(e,[v.collection])}):[b({id:n.doc},v.collection,t.payload.ordered)]}return n.doc&&l?(0,y.updateItemInArray)(e,n.doc,function(e){return(0,i.default)(e,t.payload.ordered[0])}):t.payload.ordered}var R=(b(r={},E,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.meta,r=t.payload;return!n.subcollections||n.storeAs?[].concat(v(e.slice(0,r.ordered.newIndex)),[g({id:n.doc},r.data)],v(e.slice(r.ordered.newIndex))):O(e,t)}),b(r,C,O),b(r,A,k),b(r,I,k),b(r,_,x),b(r,T,x),r),P=(0,y.createReducer)(void 0,R)},function(e,t,n){var r=n(42),o=n(236)(function(e,t,n){r(e,n,t)});e.exports=o},function(e,t){e.exports=function(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}},function(e,t,n){var r=n(38);e.exports=function(e,t,n,o){return r(e,function(e,r,i){t(o,e,n(e),i)}),o}},function(e,t,n){var r=n(131),o=n(237),i=n(17),a=n(3),s=n(238);e.exports=function(e,t){return(a(e)?r:o)(e,s(i(t,3)))}},function(e,t,n){var r=n(88),o=n(17),i=n(58),a=n(433),s=n(145),u=n(59),c=i(function(e){var t=u(e);return s(t)&&(t=void 0),a(r(e,1,s,!0),o(t,2))});e.exports=c},function(e,t,n){var r=n(138),o=n(122),i=n(239),a=n(139),s=n(434),u=n(140),c=200;e.exports=function(e,t,n){var l=-1,f=o,h=e.length,p=!0,d=[],y=d;if(n)p=!1,f=i;else if(h>=c){var m=t?null:s(e);if(m)return u(m);p=!1,f=a,y=new r}else y=t?[]:d;e:for(;++l<h;){var v=e[l],g=t?t(v):v;if(v=n||0!==v?v:0,p&&g===g){for(var b=y.length;b--;)if(y[b]===g)continue e;t&&y.push(g),d.push(v)}else f(y,g,n)||(y!==d&&y.push(g),d.push(v))}return d}},function(e,t,n){var r=n(205),o=n(189),i=n(140),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestingReducer=f,t.requestedReducer=h,t.timestampsReducer=p,t.default=void 0;var r=n(16),o=n(44),i=n(89);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=r.actionTypes.SET_LISTENER,c=r.actionTypes.LISTENER_ERROR,l=r.actionTypes.LISTENER_RESPONSE;function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.meta;switch(n){case u:return a({},e,s({},(0,o.getSlashStrPath)((0,i.getQueryName)(r)),!0));case c:case l:return a({},e,s({},(0,o.getSlashStrPath)((0,i.getQueryName)(r)),!1));default:return e}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.meta;switch(n){case u:return a({},e,s({},(0,i.getQueryName)(r),!1));case c:case l:return a({},e,s({},(0,i.getQueryName)(r),!0));default:return e}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.meta;switch(n){case u:return a({},e,s({},(0,i.getQueryName)(r),Date.now()));default:return e}}var d=(0,o.combineReducers)({requesting:f,requested:h,timestamps:p});t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,a.default)(e,function(n){if(!f(t))return e;var o=(0,u.getBaseQueryName)(t.meta);switch(t.type){case s.actionTypes.GET_SUCCESS:case s.actionTypes.LISTENER_RESPONSE:return n[o]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}({data:t.payload.data},t.meta),n;case s.actionTypes.UNSET_LISTENER:return n[o]&&(n[o].data=void 0),n;case s.actionTypes.DOCUMENT_ADDED:case s.actionTypes.DOCUMENT_MODIFIED:return(0,i.default)(n,[o,"data",t.meta.doc],t.payload.data),n;case s.actionTypes.DOCUMENT_REMOVED:case s.actionTypes.DELETE_SUCCESS:return(0,r.default)(n,[o,"data",t.meta.doc]),n;default:return e}})},t.isComposable=void 0;var r=c(n(240)),o=c(n(20)),i=c(n(60)),a=c(n(241)),s=n(16),u=n(89);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){return(0,o.default)(e,"meta.where")&&(0,o.default)(e,"meta.collection")};t.isComposable=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,c.default)(e,function(n){switch(t.type){case l.actionTypes.DOCUMENT_MODIFIED:case l.actionTypes.DOCUMENT_ADDED:case l.actionTypes.DOCUMENT_REMOVED:case l.actionTypes.LISTENER_RESPONSE:case l.actionTypes.UNSET_LISTENER:var c=(0,s.default)((0,u.default)(e.queries),function(e){return e.storeAs||e.collection});return(0,r.default)(c).forEach(function(e){var t={};c[e].forEach(function(e){return(0,a.default)(t,(0,o.default)(e,"data",{}))}),(0,i.default)(n,["composite",e],t)}),n;default:return e}})};var r=f(n(27)),o=f(n(20)),i=f(n(60)),a=f(n(219)),s=f(n(438)),u=f(n(439)),c=f(n(241)),l=n(16);function f(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r=n(42),o=n(236),i=Object.prototype.hasOwnProperty,a=o(function(e,t,n){i.call(e,n)?e[n].push(t):r(e,n,[t])});e.exports=a},function(e,t,n){var r=n(440),o=n(27);e.exports=function(e){return null==e?[]:r(e,o(e))}},function(e,t,n){var r=n(37);e.exports=function(e,t){return r(t,function(t){return e[t]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){return function(n){return function(r){var i=r.type===a?r:void 0;if("undefined"===typeof i)return n(r);var u=i.method;if("function"===typeof u&&(u=u(t.getState())),"string"!==typeof u)throw new Error("Specify a method.");var c=i.args,l=s[u];if(!Array.isArray(l)||3!==l.length)throw new Error("Expected an array of three action types.");if(!l.every(function(e){return"string"===typeof e}))throw new Error("Expected action types to be strings.");var f,h,p=(h=3,function(e){if(Array.isArray(e))return e}(f=l)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(f,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),d=p[0],y=p[1],m=p[2];n({type:d});var v={method:u};return function(e,t){var n=t.method,r=t.modelArgs,i=t.methodArgs;(0,o.default)(r)||(r=[r]);(0,o.default)(i)||(i=[i]);if(!e||!e.firestore)throw new Error("firestore is not a Firebase namespace");return i?e.firestore()[n].apply(e,i):e.firestore()[n]}(e,v).then(function(e){return n({response:e,method:u,args:c,type:y})}).catch(function(e){return n(function(e){var t=Object.assign({},r,e);return delete t[a],t}({type:m,error:e.message||e||"Something bad happened"}))})}}}},t.CALL_FIRESTORE=void 0;var r,o=(r=n(3))&&r.__esModule?r:{default:r},i=n(16);var a="CALL_FIRESTORE";t.CALL_FIRESTORE=a;var s={get:[i.actionTypes.GET_REQUEST,i.actionTypes.GET_SUCCESS,i.actionTypes.GET_FAILURE]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEventsFromInput=t.pathStrToObj=void 0;var r=f(n(443)),o=f(n(29)),i=f(n(4)),a=f(n(3)),s=f(n(445)),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(94),l=n(244);function f(e){return e&&e.__esModule?e:{default:e}}var h=t.pathStrToObj=function(e){var t={path:e,type:"value",isQuery:!1},n=(0,l.getQueryIdFromPath)(e);if(n){var o=e.split("#");t=u({},t,{queryId:n,isQuery:!0,path:o[0],queryParams:o[1].split("&")}),(0,c.getPopulates)(o[1].split("&"))&&(t.populates=(0,c.getPopulates)(o[1].split("&")),t.queryParams=(0,r.default)(o[1].split("&"),function(e){return-1===e.indexOf("populate")}))}return t},p=t.getEventsFromInput=function(e){return(0,s.default)(e,function(e){if((0,o.default)(e))return[h(e)];if((0,a.default)(e))return[{type:"first_child",path:e[0]},{type:"child_added",path:e[0]},{type:"child_removed",path:e[0]},{type:"child_moved",path:e[0]},{type:"child_changed",path:e[0]}];if((0,i.default)(e)){if(!e.path)throw new Error("Path is a required parameter within definition object");var t=e.path;return e.storeAs&&(t+="@"+e.storeAs),e.queryParams&&(t+="#"+e.queryParams.join("&")),[e=u({},h(t),e)]}throw new Error("Invalid Path Definition: "+e+". Only strings, objects, and arrays accepted.")})};t.default={getEventsFromInput:p}},function(e,t,n){var r=n(17),o=n(444);e.exports=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,a=[],s=e.length;for(t=r(t,3);++i<s;){var u=e[i];t(u,i,e)&&(n.push(u),a.push(i))}return o(e,a),n}},function(e,t,n){var r=n(155),o=n(41),i=Array.prototype.splice;e.exports=function(e,t){for(var n=e?t.length:0,a=n-1;n--;){var s=t[n];if(n==a||s!==u){var u=s;o(s)?i.call(e,s,1):r(e,s)}}return e}},function(e,t,n){var r=n(88),o=n(43);e.exports=function(e,t){return r(o(e,t),1)}},function(e,t,n){var r=n(231);e.exports=function(e){return r(e)&&e!=+e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signInWithPhoneNumber=t.linkWithCredential=t.reloadAuth=t.updateEmail=t.updateAuth=t.updateProfile=t.verifyPasswordResetCode=t.confirmPasswordReset=t.resetPassword=t.createUser=t.logout=t.login=t.init=t.handleRedirectResult=t.createUserProfile=t.watchUserProfile=t.handleProfileWatchResponse=t.unWatchUserProfile=void 0;var r=d(n(92)),o=d(n(93)),i=d(n(91)),a=d(n(9)),s=d(n(29)),u=d(n(3)),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(14),f=n(247),h=n(158),p=n(94);function d(e){return e&&e.__esModule?e:{default:e}}var y=function(e,t){return e({type:l.actionTypes.LOGIN_ERROR,authError:t})},m=t.unWatchUserProfile=function(e){var t=e._,n=t.authUid,r=t.config,o=r.userProfile,i=r.useFirestoreForProfile;e._.profileWatch&&(i&&e.firestore?e._.profileWatch():e.database().ref().child(o+"/"+n).off("value",e._.profileWatch),e._.profileWatch=null)},v=t.handleProfileWatchResponse=function(e,t,n){var r,o=t._.config,a=o.profileParamsToPopulate,c=o.autoPopulateProfile,h=o.useFirestoreForProfile,d=o.logErrors,y=(r=n)&&r.val?r.val():r&&r.data&&r.exists?r.data():null;!a||h||!(0,u.default)(a)&&!(0,s.default)(a)?(h&&a&&console.warn("Profile population is not yet supported for Firestore"),e({type:l.actionTypes.SET_PROFILE,profile:y})):(0,p.promisesForPopulate)(t,n.key,y,a).then(function(t){if((0,i.default)(t,function(t,n){e({type:l.actionTypes.SET,path:n,data:t,timestamp:Date.now(),requesting:!1,requested:!0})}),c){var r=(0,p.getPopulateObjs)(a),o=n.val();e({type:l.actionTypes.SET_PROFILE,profile:(0,f.populate)({profile:o,data:t},"profile",r)})}else e({type:l.actionTypes.SET_PROFILE,profile:y})}).catch(function(t){d&&console.error("RRF: Error retrieving data for profile population. Firebase:",t),e({type:l.actionTypes.UNAUTHORIZED_ERROR,authError:"Error during profile population: "+t.message}),e({type:l.actionTypes.SET_PROFILE,profile:y})})};function g(e,t){var n=t._.config,r=n.onProfileListenerError,o=n.logErrors;return function(e){if(o&&console.error("Error with profile listener: "+(e.message||""),e),(0,a.default)(r)){var n=r(e,t);if((0,a.default)(n.then))return n}return Promise.reject(e)}}var b=t.watchUserProfile=function(e,t){var n=t._,r=n.authUid,o=n.config,i=o.userProfile,a=o.useFirestoreForProfile;if(m(t),i)if(a&&t.firestore)t._.profileWatch=t.firestore().collection(i).doc(r).onSnapshot(function(n){return v(e,t,n)},g(0,t));else{if(!t.database)throw new Error("Real Time Database or Firestore must be included to enable user profile");t._.profileWatch=t.database().ref().child(i+"/"+r).on("value",function(n){return v(e,t,n)},g(0,t))}},w=t.createUserProfile=function(e,t,n,i){var s=t._.config;if(!s.userProfile||!t.database&&!t.firestore)return Promise.resolve(n);if((0,a.default)(s.profileFactory))try{i=s.profileFactory(n,i)}catch(f){return console.error("Error occured within profileFactory function:",f.message||f),Promise.reject(f)}return s.useFirestoreForProfile?t.firestore().collection(s.userProfile).doc(n.uid||n.user.uid).get().then(function(e){if(!s.updateProfileOnLogin&&e.exists)return e.data();var t=i;if(!t){var a=n.uid?n.toJSON?n.toJSON():n:n.user.toJSON?n.user.toJSON():n.user;t=c({},(0,o.default)(a,s.keysToRemoveFromAuth),{avatarUrl:a.photoURL})}return(0,u.default)(t.providerData)&&(t.providerData=t.providerData.map(function(e){return(0,r.default)(e,s.keysToPreserveFromProviderData)})),e.ref.set(t,{merge:!0}).then(function(){return t})}).catch(function(t){return e({type:l.actionTypes.UNAUTHORIZED_ERROR,authError:t}),Promise.reject(t)}):t.database().ref().child(s.userProfile+"/"+(n.user?n.user.uid:n.uid)).once("value").then(function(e){return s.updateProfileOnLogin||null===e.val()?e.ref.update(i).then(function(){return i}):e.val()}).catch(function(n){return e({type:l.actionTypes.UNAUTHORIZED_ERROR,authError:n}),(0,a.default)(s.onProfileWriteError)&&s.onProfileWriteError(n,t),Promise.reject(n)})},E=t.handleRedirectResult=function(e,t,n){if("function"===typeof t._.config.onRedirectResult&&t._.config.onRedirectResult(n,t,e),n&&n.user){var r=n.user;return t._.authUid=r.uid,b(e,t),e({type:l.actionTypes.LOGIN,auth:r,preserve:t._.config.preserveOnLogin}),w(e,t,r,{email:r.email,displayName:r.providerData[0].displayName||r.email,avatarUrl:r.providerData[0].photoURL,providerData:r.providerData})}},T=t.init=function(e,t){t.auth&&(e({type:l.actionTypes.AUTHENTICATION_INIT_STARTED}),t.auth().onAuthStateChanged(function(n){return function(e,t,n){var r=t._.config;n?(t._.authUid=n.uid,r.presence&&(0,h.setupPresence)(e,t),e({type:l.actionTypes.LOGIN,auth:n,preserve:r.preserveOnLogin}),b(e,t),(0,a.default)(r.onAuthStateChanged)&&r.onAuthStateChanged(n,t,e)):((0,a.default)(r.onAuthStateChanged)&&t._.config.onAuthStateChanged(n,t,e),e({type:l.actionTypes.AUTH_EMPTY_CHANGE,preserve:r.preserveOnEmptyAuthChange}))}(e,t,n)}),t._.config.enableRedirectHandling&&(0,a.default)(t.auth().getRedirectResult)&&"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("http")&&t.auth().getRedirectResult().then(function(n){return E(e,t,n)}).catch(function(t){return y(e,t),Promise.reject(t)}),t.auth().currentUser,e({type:l.actionTypes.AUTHENTICATION_INIT_FINISHED}))},_=t.login=function(e,t,n){var r;t._.config.resetBeforeLogin&&y(e,null);var o=(0,h.getLoginMethodAndParams)(t,n),i=o.method,a=o.params;return(r=t.auth())[i].apply(r,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a)).then(function(r){if(!r)return Promise.resolve(null);if(["signInWithEmailAndPassword","signInAndRetrieveDataWithEmailAndPassword"].includes(i))return{user:r};if(["signInWithCustomToken","signInAndRetrieveDataWithCustomToken"].includes(i))return t._.config.updateProfileOnLogin?w(e,t,r,n.profile):{user:r};if("signInWithPhoneNumber"===i)return c({},r,{confirm:function(n){return r.confirm(n).then(function(n){var r=n.user,o=n.additionalUserInfo;return w(e,t,r,{phoneNumber:r.providerData[0].phoneNumber,providerData:r.providerData}).then(function(e){return{profile:e,user:r,additionalUserInfo:o}})})}});var o=r.user||r;return w(e,t,o,n.profile||{email:o.email,displayName:o.providerData[0].displayName||o.email,avatarUrl:o.providerData[0].photoURL,providerData:o.providerData}).then(function(e){return c({profile:e},r)})}).catch(function(t){return y(e,t),Promise.reject(t)})},S=t.logout=function(e,t){return m(t),t.auth().signOut().then(function(){var n={type:l.actionTypes.LOGOUT};return t._.config.preserveOnLogout&&(n.preserve=t._.config.preserveOnLogout),e(n),t._.authUid=null,t})},I=t.createUser=function(e,t,n,r){var o=n.email,i=n.password,a=n.signIn;if(y(e,null),!o||!i){var s=new Error("Email and Password are required to create user");return y(e,s),Promise.reject(s)}return t.auth().createUserWithEmailAndPassword(o,i).then(function(n){return t.auth().currentUser||a&&!1===a?w(e,t,n,r||{email:o}):_(e,t,{email:o,password:i}).then(function(){return w(e,t,n,r||{email:o})}).catch(function(t){if(t)switch(t.code){case"auth/user-not-found":y(e,new Error("The specified user account does not exist."));break;default:y(e,t)}return Promise.reject(t)})}).catch(function(t){return y(e,t),Promise.reject(t)})},A=t.resetPassword=function(e,t,n){return y(e,null),t.auth().sendPasswordResetEmail(n).catch(function(t){if(t){switch(t.code){case"auth/user-not-found":y(e,new Error("The specified user account does not exist."));break;default:y(e,t)}return Promise.reject(t)}})},C=t.confirmPasswordReset=function(e,t,n,r){return y(e,null),t.auth().confirmPasswordReset(n,r).catch(function(t){if(t){switch(t.code){case"auth/expired-action-code":y(e,new Error("The action code has expired."));break;case"auth/invalid-action-code":y(e,new Error("The action code is invalid."));break;case"auth/user-disabled":y(e,new Error("The user is disabled."));break;case"auth/user-not-found":y(e,new Error("The user is not found."));break;case"auth/weak-password":y(e,new Error("The password is not strong enough."));break;default:y(e,t)}return Promise.reject(t)}})},O=t.verifyPasswordResetCode=function(e,t,n){return y(e,null),t.auth().verifyPasswordResetCode(n).catch(function(t){return t&&y(e,t),Promise.reject(t)})},k=t.updateProfile=function(e,t,n){var r=t._.config;return e({type:l.actionTypes.PROFILE_UPDATE_START,payload:n}),(r.useFirestoreForProfile?h.updateProfileOnFirestore:h.updateProfileOnRTDB)(t,n).then(function(t){return e({type:l.actionTypes.PROFILE_UPDATE_SUCCESS,payload:r.useFirestoreForProfile?t.data():t.val()}),t}).catch(function(t){return e({type:l.actionTypes.PROFILE_UPDATE_ERROR,error:t}),Promise.reject(t)})},x=t.updateAuth=function(e,t,n,r){if(e({type:l.actionTypes.AUTH_UPDATE_START,payload:n}),!t.auth().currentUser){var o=new Error("User must be logged in to update auth.");return e({type:l.actionTypes.AUTH_UPDATE_ERROR,payload:o}),Promise.reject(o)}return t.auth().currentUser.updateProfile(n).then(function(o){return e({type:l.actionTypes.AUTH_UPDATE_SUCCESS,auth:t.auth().currentUser}),r?k(e,t,n):o}).catch(function(t){return e({type:l.actionTypes.AUTH_UPDATE_ERROR,error:t}),Promise.reject(t)})},R=t.updateEmail=function(e,t,n,r){if(e({type:l.actionTypes.EMAIL_UPDATE_START,payload:n}),!t.auth().currentUser){var o=new Error("User must be logged in to update email.");return e({type:l.actionTypes.EMAIL_UPDATE_ERROR,error:o}),Promise.reject(o)}return t.auth().currentUser.updateEmail(n).then(function(o){return e({type:l.actionTypes.EMAIL_UPDATE_SUCCESS,payload:n}),r?k(e,t,{email:n}):o}).catch(function(t){return e({type:l.actionTypes.EMAIL_UPDATE_ERROR,error:t}),Promise.reject(t)})},P=t.reloadAuth=function(e,t){if(e({type:l.actionTypes.AUTH_RELOAD_START}),!t.auth().currentUser){var n=new Error("User must be logged in to reload auth.");return e({type:l.actionTypes.AUTH_RELOAD_ERROR,error:n}),Promise.reject(n)}return t.auth().currentUser.reload().then(function(){var n=t.auth().currentUser;return e({type:l.actionTypes.AUTH_RELOAD_SUCCESS,payload:n}),n}).catch(function(t){return e({type:l.actionTypes.AUTH_RELOAD_ERROR,error:t}),Promise.reject(t)})},N=(t.linkWithCredential=function(e,t,n){if(e({type:l.actionTypes.AUTH_LINK_START}),!t.auth().currentUser){var r=new Error("User must be logged in to link with credential.");return e({type:l.actionTypes.AUTH_LINK_ERROR,error:r}),Promise.reject(r)}return t.auth().currentUser.linkWithCredential(n).then(function(t){return e({type:l.actionTypes.AUTH_LINK_SUCCESS,payload:t}),t}).catch(function(t){return e({type:l.actionTypes.AUTH_LINK_ERROR,error:t}),Promise.reject(t)})},t.signInWithPhoneNumber=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return _(t,e,c({phoneNumber:n,applicationVerifier:r},o))});t.default={dispatchLoginError:y,unWatchUserProfile:m,watchUserProfile:b,init:T,createUserProfile:w,login:_,logout:S,createUser:I,resetPassword:A,confirmPasswordReset:C,verifyPasswordResetCode:O,updateAuth:x,updateProfile:k,updateEmail:R,reloadAuth:P,signInWithPhoneNumber:N}},function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}},function(e,t,n){var r=n(51),o=n(58),i=n(450),a=n(451),s=o(function(e){return e.push(void 0,i),r(a,void 0,e)});e.exports=s},function(e,t,n){var r=n(144),o=n(4);e.exports=function e(t,n,i,a,s,u){return o(t)&&o(n)&&(u.set(n,t),r(t,n,void 0,e,u),u.delete(n)),t}},function(e,t,n){var r=n(144),o=n(146)(function(e,t,n,o){r(e,t,n,o)});e.exports=o},function(e,t,n){var r=n(72)("unset",n(240));r.placeholder=n(49),e.exports=r},function(e,t,n){var r=n(36),o=n(454);e.exports=function(e){return o(r(e).toLowerCase())}},function(e,t,n){var r=n(455)("toUpperCase");e.exports=r},function(e,t,n){var r=n(151),o=n(153),i=n(152),a=n(36);e.exports=function(e){return function(t){t=a(t);var n=o(t)?i(t):void 0,s=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return s[e]()+u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteFile=t.uploadFiles=t.uploadFile=void 0;var r=c(n(9)),o=c(n(43)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(14),s=n(245),u=n(457);function c(e){return e&&e.__esModule?e:{default:e}}var l=a.actionTypes.FILE_UPLOAD_START,f=a.actionTypes.FILE_UPLOAD_ERROR,h=a.actionTypes.FILE_UPLOAD_COMPLETE,p=a.actionTypes.FILE_DELETE_START,d=a.actionTypes.FILE_DELETE_ERROR,y=a.actionTypes.FILE_DELETE_COMPLETE,m=t.uploadFile=function(e,t,n){if(!t.storage)throw new Error("Firebase storage is required to upload files");var o=n||{},a=o.path,s=o.file,c=o.dbPath,p=o.options,d=void 0===p?{progress:!1}:p,y=t._.config.logErrors,m=((0,r.default)(d.name)?d.name(s,t,n):d.name)||s.name,v=i({},n,{filename:m});e({type:l,payload:i({},n,{filename:m})});return(d.progress?(0,u.uploadFileWithProgress)(e,t,{path:a,file:s,filename:m,meta:v}):t.storage().ref(a+"/"+m).put(s)).then(function(r){return c&&(t.database||t.firestore)?(0,u.writeMetadataToDb)({firebase:t,uploadTaskSnapshot:r,dbPath:c,options:d}).then(function(t){return e({type:h,meta:i({},n,{filename:m}),payload:t}),t}):(e({type:h,meta:i({},n,{filename:m}),payload:{uploadTaskSnapshot:r,uploadTaskSnaphot:r}}),{uploadTaskSnapshot:r,uploadTaskSnaphot:r})}).catch(function(t){return y&&console.error&&console.error("RRF: Error uploading file: "+(t.message||t),t),e({type:f,path:a,payload:t}),Promise.reject(t)})};t.uploadFiles=function(e,t,n){var r=n.files,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["files"]);return Promise.all((0,o.default)(r,function(n){return m(e,t,i({file:n},a))}))};t.deleteFile=function(e,t,n){var r=n.path,o=n.dbPath;return(0,s.wrapInDispatch)(e,{method:u.deleteFile,args:[t,{path:r,dbPath:o}],types:[p,y,d]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(458)),o=s(n(459)),i=s(n(9));t.deleteFile=function(e,t){var n=t.path,r=t.dbPath;return e.storage().ref(n).delete().then(function(){if(!r||!e.database&&!e.firestore)return{path:n};return(e._.config.useFirestoreForStorageMeta?e.firestore().doc(r).delete():e.database().ref(r).remove()).then(function(){return{path:n,dbPath:r}})})},t.writeMetadataToDb=function(e){var t=e.firebase,n=e.uploadTaskSnapshot,a=e.dbPath,s=e.options,u=t._.config,c=u.fileMetadataFactory,l=u.useFirestoreForStorageMeta,f=s.metadataFactory||c;return function(e){if(e.ref&&"function"===typeof e.ref.getDownloadURL)return e.ref.getDownloadURL();return Promise.resolve(e.downloadURLs&&e.downloadURLs[0])}(n).then(function(e){var s=(0,i.default)(f)?f(n,t,n.metadata,e):(0,o.default)(n.metadata,r.default),u=function(e){var t=e.fileData,n=e.firebase,r=e.uploadTaskSnapshot,o=e.downloadURL;return function(e){var i=n._.config.useFirestoreForStorageMeta,a={snapshot:e,key:e.key||e.id,File:t,metaDataSnapshot:e,uploadTaskSnapshot:r,uploadTaskSnaphot:r,createdAt:i?n.firestore.FieldValue.serverTimestamp():n.database.ServerValue.TIMESTAMP};return e.id&&(a.id=e.id),o&&(a.downloadURL=o),a}}({fileData:s,firebase:t,uploadTaskSnapshot:n,downloadURL:e});return function(e){if(l)return t.firestore().collection(a).add(e);var n=t.database().ref(a).push();return n.set(e).then(function(e){return n})}(s).then(u)})},t.uploadFileWithProgress=function(e,t,n){var r=n.path,o=n.file,i=n.filename,a=n.meta,s=t.storage().ref(r+"/"+i).put(o),l=s.on(t.storage.TaskEvent.STATE_CHANGED,{next:function(t){e({type:c,meta:a,payload:{snapshot:t,percent:Math.floor(t.bytesTransferred/t.totalBytes*100)}})},error:function(t){e({type:u,meta:a,payload:t}),l()},complete:function(){l()}});return s};var a=n(14);function s(e){return e&&e.__esModule?e:{default:e}}var u=a.actionTypes.FILE_UPLOAD_ERROR,c=a.actionTypes.FILE_UPLOAD_PROGRESS},function(e,t){e.exports=function(e){return void 0===e}},function(e,t,n){var r=n(17),o=n(238),i=n(460);e.exports=function(e,t){return i(e,o(r(t)))}},function(e,t,n){var r=n(37),o=n(17),i=n(233),a=n(134);e.exports=function(e,t){if(null==e)return{};var n=r(a(e),function(e){return[e]});return t=o(t),i(e,n,function(e,n){return t(e,n[0])})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFirebaseConnect=void 0;var r=d(n(462)),o=d(n(156)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=d(s),c=d(n(6)),l=d(n(95)),f=n(248),h=n(62),p=n(14);function d(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=t.createFirebaseConnect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(n){var d,m,v,g=function(c){function l(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=y(this,(t=l.__proto__||Object.getPrototypeOf(l)).call.apply(t,[this].concat(i))),r.firebaseEvents=[],r.firebase=null,r.prevData=null,r.store=r.context[e],y(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,s.Component),a(l,[{key:"componentWillMount",value:function(){if(!this.context||!this.context[e])throw new Error(p.v3ErrorMessage);var n=this.store,r=n.firebase,o=n.dispatch,a=(0,h.createCallable)(t);this.prevData=a(this.props,this.store);var s=r.ref,u=r.helpers,c=r.storage,l=r.database,d=r.auth;this.firebase=i({ref:s,storage:c,database:l,auth:d},u),this._firebaseEvents=(0,h.getEventsFromInput)(this.prevData),(0,f.watchEvents)(r,o,this._firebaseEvents)}},{key:"componentWillUnmount",value:function(){var e=this.store,t=e.firebase,n=e.dispatch;(0,f.unWatchEvents)(t,n,this._firebaseEvents)}},{key:"componentWillReceiveProps",value:function(e){var n=this.store,i=n.firebase,a=n.dispatch,s=(0,h.createCallable)(t)(e,this.store);if(!(0,o.default)(s,this.prevData)){var u=(0,r.default)(s,this.prevData,o.default),c=(0,r.default)(this.prevData,s,o.default);this.prevData=s,(0,f.unWatchEvents)(i,a,(0,h.getEventsFromInput)(c)),this._firebaseEvents=(0,h.getEventsFromInput)(s),(0,f.watchEvents)(i,a,(0,h.getEventsFromInput)(u))}}},{key:"render",value:function(){return u.default.createElement(n,i({},this.props,this.state,{firebase:this.firebase}))}}]),l}();return g.displayName="FirebaseConnect("+(0,h.getDisplayName)(n)+")",g.wrappedComponent=n,g.contextTypes=(d={},m=e,v=c.default.object.isRequired,m in d?Object.defineProperty(d,m,{value:v,enumerable:!0,configurable:!0,writable:!0}):d[m]=v,d),(0,l.default)(g,n)}}};t.default=m()},function(e,t,n){var r=n(463),o=n(88),i=n(58),a=n(145),s=n(59),u=i(function(e,t){var n=s(t);return a(n)&&(n=void 0),a(e)?r(e,o(t,1,a,!0),void 0,n):[]});e.exports=u},function(e,t,n){var r=n(138),o=n(122),i=n(239),a=n(37),s=n(78),u=n(139),c=200;e.exports=function(e,t,n,l){var f=-1,h=o,p=!0,d=e.length,y=[],m=t.length;if(!d)return y;n&&(t=a(t,s(n))),l?(h=i,p=!1):t.length>=c&&(h=u,p=!1,t=new r(t));e:for(;++f<d;){var v=e[f],g=null==n?v:n(v);if(v=l||0!==v?v:0,p&&g===g){for(var b=m;b--;)if(t[b]===g)continue e;y.push(v)}else h(t,g,l)||y.push(v)}return y}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFirestoreConnect=void 0;var r=d(n(243)),o=d(n(90)),i=d(n(156)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=d(u),l=d(n(6)),f=d(n(95)),h=n(62),p=n(14);function d(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=t.createFirestoreConnect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(n){var d,m,v,g=function(l){function f(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=y(this,(t=f.__proto__||Object.getPrototypeOf(f)).call.apply(t,[this].concat(i))),r.prevData=null,r.store=r.context[e],y(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,u.Component),s(f,[{key:"componentWillMount",value:function(){if(!this.context||!this.context[e])throw new Error(p.v3ErrorMessage);var n=this.store.firestore;if(this.firestoreIsEnabled){var r=(0,h.createCallable)(t);this.prevData=r(this.props,this.store),n.setListeners(this.prevData)}}},{key:"componentWillUnmount",value:function(){var e=this.store.firestore;this.firestoreIsEnabled&&this.prevData&&e.unsetListeners(this.prevData)}},{key:"componentWillReceiveProps",value:function(e){var n=this.store.firestore,r=(0,h.createCallable)(t)(e,this.store);if(this.firestoreIsEnabled&&!(0,i.default)(r,this.prevData)){var o=this.getChanges(r,this.prevData);this.prevData=r,n.unsetListeners(o.removed),n.setListeners(o.added)}}},{key:"getChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return n.added=(0,r.default)(e,function(e){return!(0,o.default)(t,function(t){return(0,i.default)(e,t)})}),n.removed=(0,r.default)(t,function(t){return!(0,o.default)(e,function(e){return(0,i.default)(t,e)})}),n}},{key:"render",value:function(){var e=this.store,t=e.firebase,r=e.firestore,o=a({},this.props,{firestore:r});return t&&(o.firebase=a({},t,t.helpers)),c.default.createElement(n,o)}},{key:"firestoreIsEnabled",get:function(){return!!this.store.firestore}}]),f}();return g.wrappedComponent=n,g.displayName=(0,h.wrapDisplayName)(n,"FirestoreConnect"),g.contextTypes=(d={},m=e,v=l.default.object.isRequired,m in d?Object.defineProperty(d,m,{value:v,enumerable:!0,configurable:!0,writable:!0}):d[m]=v,d),(0,f.default)(g,n)}}};t.default=m()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWithFirebase=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=f(i),s=f(n(6)),u=f(n(95)),c=n(62),l=n(14);function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=t.createWithFirebase=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(t){var n,f,p,d=function(n){function s(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=h(this,(t=s.__proto__||Object.getPrototypeOf(s)).call.apply(t,[this].concat(i))),r.store=r.context[e],h(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i.Component),o(s,[{key:"render",value:function(){if(!this.context||!this.context[e])throw new Error(l.v3ErrorMessage);return a.default.createElement(t,r({},this.props,this.state,{dispatch:this.store.dispatch,firebase:this.store.firebase}))}}]),s}();return d.wrappedComponent=t,d.displayName=(0,c.wrapDisplayName)(t,"withFirebase"),d.contextTypes=(n={},f=e,p=s.default.object.isRequired,f in n?Object.defineProperty(n,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):n[f]=p,n),(0,u.default)(d,t)}};t.default=p()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWithFirestore=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=f(i),s=f(n(6)),u=f(n(95)),c=n(62),l=n(14);function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=t.createWithFirestore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(t){var n,f,p,d=function(n){function s(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=h(this,(t=s.__proto__||Object.getPrototypeOf(s)).call.apply(t,[this].concat(i))),r.store=r.context[e],h(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i.Component),o(s,[{key:"render",value:function(){if(!this.context||!this.context[e])throw new Error(l.v3ErrorMessage);return a.default.createElement(t,r({},this.props,{dispatch:this.store.dispatch,firestore:this.store.firestore,firebase:this.store.firebase}))}}]),s}();return d.wrappedComponent=t,d.displayName=(0,c.wrapDisplayName)(t,"withFirestore"),d.contextTypes=(n={},f=e,p=s.default.object.isRequired,f in n?Object.defineProperty(n,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):n[f]=p,n),(0,u.default)(d,t)}};t.default=p()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFirebase=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(242),i=n(158),a=n(14),s=n(246),u=void 0;t.default=function(e,t){return function(n){return function(c,l,f){var h=n(c,l,f);if(!e.SDK_VERSION&&!e.firebase_&&!e.database)throw new Error("v2.0.0-beta and higher require passing a firebase app instance or a firebase library instance. View the migration guide for details.");var p=e&&e._||{},d=r({},p,a.defaultConfig,t);return u=(0,o.createFirebaseInstance)(e.firebase_||e,d,h.dispatch),s.authActions.init(h.dispatch,u),h.firebase=u,d.attachAuthIsReady&&(h.firebaseAuthIsReady=(0,i.createAuthIsReady)(h,d)),h}}};t.getFirebase=function(){if(!u)throw new Error("Firebase instance does not yet exist. Check your compose function.");return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(157),o=n(469);t.default=(0,r.combineReducers)({requesting:o.requestingReducer,requested:o.requestedReducer,timestamps:o.timestampsReducer,data:o.dataReducer,ordered:o.orderedReducer,auth:o.authReducer,authError:o.authErrorReducer,profile:o.profileReducer,listeners:o.listenersReducer,isInitializing:o.isInitializingReducer,errors:o.errorsReducer}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.orderedReducer=t.dataReducer=t.listenersReducer=t.errorsReducer=t.profileReducer=t.authErrorReducer=t.authReducer=t.timestampsReducer=t.requestedReducer=t.requestingReducer=t.isInitializingReducer=void 0;var r=p(n(154)),o=p(n(235)),i=p(n(4)),a=p(n(3)),s=p(n(20)),u=p(n(93)),c=p(n(92)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=n(14),h=n(157);function p(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=f.actionTypes.START,v=f.actionTypes.SET,g=f.actionTypes.SET_PROFILE,b=f.actionTypes.MERGE,w=f.actionTypes.LOGIN,E=f.actionTypes.LOGOUT,T=f.actionTypes.LOGIN_ERROR,_=f.actionTypes.CLEAR_ERRORS,S=f.actionTypes.REMOVE,I=f.actionTypes.NO_VALUE,A=f.actionTypes.SET_LISTENER,C=f.actionTypes.UNSET_LISTENER,O=f.actionTypes.AUTHENTICATION_INIT_STARTED,k=f.actionTypes.AUTHENTICATION_INIT_FINISHED,x=f.actionTypes.AUTH_EMPTY_CHANGE,R=f.actionTypes.AUTH_LINK_SUCCESS,P=f.actionTypes.UNAUTHORIZED_ERROR,N=f.actionTypes.AUTH_UPDATE_SUCCESS,D=f.actionTypes.AUTH_RELOAD_SUCCESS,L=f.actionTypes.PROFILE_UPDATE_SUCCESS,M=(t.isInitializingReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case O:return!0;case k:return!1;default:return e}},t.requestingReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,r=t.path;switch(n){case m:return l({},e,y({},(0,h.getSlashStrPath)(r),!0));case I:case v:return l({},e,y({},(0,h.getSlashStrPath)(r),!1));default:return e}},t.requestedReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,r=t.path;switch(n){case m:return l({},e,y({},(0,h.getSlashStrPath)(r),!1));case I:case v:return l({},e,y({},(0,h.getSlashStrPath)(r),!0));default:return e}},t.timestampsReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,r=t.path;switch(n){case m:case I:case v:return l({},e,y({},(0,h.getSlashStrPath)(r),Date.now()));default:return e}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data";return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case v:return(0,o.default)(Object,(0,h.getDotStrPath)(n.path),n[e],t);case b:var u=(0,s.default)(t,(0,h.getDotStrPath)(n.path),{}),l=(0,r.default)(u,n[e]);return(0,o.default)(Object,(0,h.getDotStrPath)(n.path),l,t);case I:return(0,o.default)(Object,(0,h.getDotStrPath)(n.path),null,t);case S:return"data"===e?(0,h.recursiveUnset)((0,h.getDotStrPath)(n.path),t):t;case E:if(n.preserve){if((0,a.default)(n.preserve))return(0,c.default)(t,n.preserve);if((0,i.default)(n.preserve))return n.preserve[e]?(0,h.preserveValuesFromState)(t,n.preserve[e],{}):{};throw new Error("Invalid preserve parameter. It must be an Object or an Array")}return{};default:return t}}});t.authReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoaded:!1,isEmpty:!0},t=arguments[1];switch(t.type){case w:case N:if(!t.auth)return{isEmpty:!0,isLoaded:!0};var n=t.auth.toJSON?t.auth.toJSON():t.auth;return t.preserve&&t.preserve.auth?(0,h.preserveValuesFromState)(e,t.preserve.auth,l({},n,{isEmpty:!1,isLoaded:!0})):l({},n,{isEmpty:!1,isLoaded:!0});case R:case D:return t.payload?l({},t.payload.toJSON?t.payload.toJSON():t.payload,{isEmpty:!1,isLoaded:!0}):{isEmpty:!0,isLoaded:!0};case T:case x:case E:return t.preserve&&t.preserve.auth?(0,h.preserveValuesFromState)(e,t.preserve.auth,{isLoaded:!0,isEmpty:!0}):{isLoaded:!0,isEmpty:!0};default:return e}},t.authErrorReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case w:case E:return null;case T:case P:return t.authError;default:return e}},t.profileReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoaded:!1,isEmpty:!0},t=arguments[1];switch(t.type){case g:return t.profile?l({},t.profile,{isEmpty:!1,isLoaded:!0}):l({},e,{isEmpty:!0,isLoaded:!0});case L:return l({},e,t.payload);case w:return t.preserve&&t.preserve.profile?(0,h.preserveValuesFromState)(e,t.preserve.profile,{isLoaded:!0,isEmpty:!0}):{isEmpty:!0,isLoaded:!1};case E:case x:return t.preserve&&t.preserve.profile?(0,h.preserveValuesFromState)(e,t.preserve.profile,{isLoaded:!0,isEmpty:!0}):{isLoaded:!0,isEmpty:!0};default:return e}},t.errorsReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case T:case P:if(!(0,a.default)(e))throw new Error("Errors state must be an array");return[].concat(d(e),[t.authError]);case E:case _:if(t.preserve&&t.preserve.errors){if("function"!==typeof t.preserve.errors)throw new Error("Preserve for the errors state currently only supports functions");return e.filter(t.preserve.errors)}return[];default:return e}},t.listenersReducer=(0,h.combineReducers)({byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,r=t.path,o=t.payload;switch(n){case A:return l({},e,y({},o.id,{id:o.id,path:r}));case C:return(0,u.default)(e,[o.id]);default:return e}},allIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=t.type,r=(t.path,t.payload);switch(n){case A:return[].concat(d(e),[r.id]);case C:return e.filter(function(e){return e!==r.id});default:return e}}}),t.dataReducer=M(),t.orderedReducer=M("ordered")},function(e,t,n){"use strict";n.r(t);n(471),n(472),n(475),n(486),n(489),n(493),n(499),n(503),n(531)},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};l.prototype.append=function(e,t){e=s(e),t=u(t);var n=this.map[e];this.map[e]=n?n+","+t:t},l.prototype.delete=function(e){delete this.map[s(e)]},l.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},l.prototype.set=function(e,t){this.map[s(e)]=u(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},y.call(m.prototype),y.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];b.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.Headers=l,e.Request=m,e.Response=b,e.fetch=function(e,n){return new Promise(function(r,o){var i=new m(e,n),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:g(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new b(t,e))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!==typeof e&&(e=String(e)),e}function c(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=h(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e,t){var n=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=function(e){var t=e.toUpperCase();return i.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function g(e){var t=new l;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!==typeof self?self:this)},function(e,t,n){"use strict";(function(e,t){function n(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}var r=setTimeout;function o(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(o){return void u(t.promise,o)}s(t.promise,r)}else(1===e._state?s:u)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"===typeof n)return void f((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(a){u(e,a)}var r,o}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,u(t,e))})}catch(r){if(n)return;n=!0,u(t,r)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(o);return a(this,new l(e,t,n)),n},i.prototype.finally=n,i.all=function(e){return new i(function(t,n){if(!e||"undefined"===typeof e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,function(t){i(e,t)},n)}r[e]=a,0===--o&&t(r)}catch(u){n(u)}}for(var a=0;a<r.length;a++)i(a,r[a])})},i.resolve=function(e){return e&&"object"===typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},i._immediateFn="function"===typeof e&&function(t){e(t)}||function(e){r(e,0)},i._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var h=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof t)return t;throw new Error("unable to locate global object")}();"Promise"in h?h.Promise.prototype.finally||(h.Promise.prototype.finally=n):h.Promise=i}).call(this,n(473).setImmediate,n(23))},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(474),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(23))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o=1,i={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return i[o]=a,r(o),o++},u.clearImmediate=c}function c(e){delete i[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=i[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(23),n(117))},function(e,t,n){e.exports=n(476)},function(e,t,n){n(477),e.exports=n(109)("Array","find")},function(e,t,n){"use strict";var r=n(249)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),n(26)({target:"Array",proto:!0,forced:o},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(166)("find")},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(255),o=n(10).WeakMap;e.exports="function"===typeof o&&/native code/.test(r.call(o))},function(e,t,n){var r=n(164),o=n(107),i=n(45),a=n(10).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(46),o=n(98),i=n(482);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=o(u.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(99),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},function(e,t,n){var r=n(21),o=/#|\.prototype\./,i=function(e,t){var n=s[a(e)];return n==c||n!=u&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=i.data={},u=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},function(e,t,n){var r=n(39),o=n(30),i=n(45),a=n(108);e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),s=r.length,u=0;s>u;)o.f(e,n=r[u++],t[n]);return e}},function(e,t,n){var r=n(10).document;e.exports=r&&r.documentElement},function(e,t,n){e.exports=n(487)},function(e,t,n){n(488),e.exports=n(109)("Array","findIndex")},function(e,t,n){"use strict";var r=n(249)(6),o=!0;"findIndex"in[]&&Array(1).findIndex(function(){o=!1}),n(26)({target:"Array",proto:!0,forced:o},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(166)("findIndex")},function(e,t,n){e.exports=n(490)},function(e,t,n){n(491),e.exports=n(168).Object.assign},function(e,t,n){var r=n(492);n(26)({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(e,t,n){"use strict";var r=n(108),o=n(107),i=n(102),a=n(97),s=n(159),u=Object.assign;e.exports=!u||n(21)(function(){var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||"abcdefghijklmnopqrst"!=r(u({},t)).join("")})?function(e,t){for(var n=a(e),u=arguments.length,c=1,l=o.f,f=i.f;u>c;)for(var h,p=s(arguments[c++]),d=l?r(p).concat(l(p)):r(p),y=d.length,m=0;y>m;)f.call(p,h=d[m++])&&(n[h]=p[h]);return n}:u},function(e,t,n){e.exports=n(494)},function(e,t,n){n(495),e.exports=n(109)("String","startsWith")},function(e,t,n){"use strict";var r=n(98),o=n(496),i=n(498)("startsWith"),a="".startsWith;n(26)({target:"String",proto:!0,forced:!i},{startsWith:function(e){var t=o(this,e,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return a?a.call(t,i,n):t.slice(n,n+i.length)===i}})},function(e,t,n){var r=n(497),o=n(63);e.exports=function(e,t,n){if(r(t))throw TypeError("String.prototype."+n+" doesn't accept regex");return String(o(e))}},function(e,t,n){var r=n(22),o=n(96),i=n(15)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(15)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(o){}}return!1}},function(e,t,n){e.exports=n(500)},function(e,t,n){n(501),e.exports=n(109)("String","repeat")},function(e,t,n){n(26)({target:"String",proto:!0},{repeat:n(502)})},function(e,t,n){"use strict";var r=n(99),o=n(63);e.exports="".repeat||function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t,n){e.exports=n(504),n(528),n(529),n(530)},function(e,t,n){n(505),n(508),n(511),n(514),n(515),n(516),n(517),n(258),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),e.exports=n(168).Symbol},function(e,t,n){"use strict";var r=n(160),o=n(22),i=n(97),a=n(98),s=n(506),u=n(251),c=n(15)("isConcatSpreadable"),l=!n(21)(function(){var e=[];return e[c]=!1,e.concat()[0]!==e}),f=n(507)("concat"),h=function(e){if(!o(e))return!1;var t=e[c];return void 0!==t?!!t:r(e)},p=!l||!f;n(26)({target:"Array",proto:!0,forced:p},{concat:function(e){var t,n,r,o,c,l=i(this),f=u(l,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(c=-1===t?l:arguments[t],h(c)){if(p+(o=a(c.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,p++)n in c&&s(f,p,c[n])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(f,p++,c)}return f.length=p,f}})},function(e,t,n){"use strict";var r=n(100),o=n(30),i=n(65);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},function(e,t,n){var r=n(21),o=n(15)("species");e.exports=function(e){return!r(function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(e,t,n){var r=n(509),o=Object.prototype;r!==o.toString&&n(103)(o,"toString",r,{unsafe:!0})},function(e,t,n){"use strict";var r=n(510),o={};o[n(15)("toStringTag")]="z",e.exports="[object z]"!==String(o)?function(){return"[object "+r(this)+"]"}:o.toString},function(e,t,n){var r=n(96),o=n(15)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){"use strict";var r=n(10),o=n(18),i=n(39),a=n(101),s=n(26),u=n(103),c=n(106),l=n(21),f=n(64),h=n(66),p=n(162),d=n(15),y=n(169),m=n(11),v=n(512),g=n(160),b=n(45),w=n(22),E=n(46),T=n(100),_=n(65),S=n(167),I=n(513),A=n(163),C=n(30),O=n(102),k=n(25),x=n(108),R=n(105)("hidden"),P=n(104),N=P.set,D=P.getterFor("Symbol"),L=A.f,M=C.f,j=I.f,U=r.Symbol,F=r.JSON,q=F&&F.stringify,B=d("toPrimitive"),V=O.f,W=f("symbol-registry"),z=f("symbols"),K=f("op-symbols"),H=f("wks"),G=Object.prototype,Q=r.QObject,X=n(254),Y=!Q||!Q.prototype||!Q.prototype.findChild,$=i&&l(function(){return 7!=S(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=L(G,t);r&&delete G[t],M(e,t,n),r&&e!==G&&M(G,t,r)}:M,J=function(e,t){var n=z[e]=S(U.prototype);return N(n,{type:"Symbol",tag:e,description:t}),i||(n.description=t),n},Z=X&&"symbol"==typeof U.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof U},ee=function(e,t,n){return e===G&&ee(K,t,n),b(e),t=T(t,!0),b(n),o(z,t)?(n.enumerable?(o(e,R)&&e[R][t]&&(e[R][t]=!1),n=S(n,{enumerable:_(0,!1)})):(o(e,R)||M(e,R,_(1,{})),e[R][t]=!0),$(e,t,n)):M(e,t,n)},te=function(e,t){b(e);for(var n,r=v(t=E(t)),o=0,i=r.length;i>o;)ee(e,n=r[o++],t[n]);return e},ne=function(e){var t=V.call(this,e=T(e,!0));return!(this===G&&o(z,e)&&!o(K,e))&&(!(t||!o(this,e)||!o(z,e)||o(this,R)&&this[R][e])||t)},re=function(e,t){if(e=E(e),t=T(t,!0),e!==G||!o(z,t)||o(K,t)){var n=L(e,t);return!n||!o(z,t)||o(e,R)&&e[R][t]||(n.enumerable=!0),n}},oe=function(e){for(var t,n=j(E(e)),r=[],i=0;n.length>i;)o(z,t=n[i++])||o(c,t)||r.push(t);return r},ie=function(e){for(var t,n=e===G,r=j(n?K:E(e)),i=[],a=0;r.length>a;)!o(z,t=r[a++])||n&&!o(G,t)||i.push(z[t]);return i};X||(u((U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor");var e=void 0===arguments[0]?void 0:String(arguments[0]),t=p(e);return i&&Y&&$(G,t,{configurable:!0,set:function e(n){this===G&&e.call(K,n),o(this,R)&&o(this[R],t)&&(this[R][t]=!1),$(this,t,_(1,n))}}),J(t,e)}).prototype,"toString",function(){return D(this).tag}),O.f=ne,C.f=ee,A.f=re,n(164).f=I.f=oe,n(107).f=ie,i&&(M(U.prototype,"description",{configurable:!0,get:function(){return D(this).description}}),a||u(G,"propertyIsEnumerable",ne,{unsafe:!0})),y.f=function(e){return J(d(e),e)}),s({global:!0,wrap:!0,forced:!X,sham:!X},{Symbol:U});for(var ae=x(H),se=0;ae.length>se;)m(ae[se++]);s({target:"Symbol",stat:!0,forced:!X},{for:function(e){return o(W,e+="")?W[e]:W[e]=U(e)},keyFor:function(e){if(!Z(e))throw TypeError(e+" is not a symbol");for(var t in W)if(W[t]===e)return t},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),s({target:"Object",stat:!0,forced:!X,sham:!i},{create:function(e,t){return void 0===t?S(e):te(S(e),t)},defineProperty:ee,defineProperties:te,getOwnPropertyDescriptor:re}),s({target:"Object",stat:!0,forced:!X},{getOwnPropertyNames:oe,getOwnPropertySymbols:ie}),F&&s({target:"JSON",stat:!0,forced:!X||l(function(){var e=U();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))})},{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(w(t)||void 0!==e)&&!Z(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Z(t))return t}),r[1]=t,q.apply(F,r)}}),U.prototype[B]||k(U.prototype,B,U.prototype.valueOf),h(U,"Symbol"),c[R]=!0},function(e,t,n){var r=n(108),o=n(107),i=n(102);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),u=i.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(46),o=n(164).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(t){return a.slice()}}(e):o(r(e))}},function(e,t,n){n(11)("asyncIterator")},function(e,t,n){"use strict";var r=n(39),o=n(18),i=n(22),a=n(30).f,s=n(256),u=n(10).Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var c={},l=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof l?new u(e):void 0===e?u():u(e);return""===e&&(c[t]=!0),t};s(l,u);var f=l.prototype=u.prototype;f.constructor=l;var h=f.toString,p="Symbol(test)"==String(u("test")),d=/^Symbol\((.*)\)[^)]+$/;a(f,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=h.call(e);if(o(c,e))return"";var n=p?t.slice(7,-1):t.replace(d,"$1");return""===n?void 0:n}}),n(26)({global:!0,forced:!0},{Symbol:l})}},function(e,t,n){n(11)("hasInstance")},function(e,t,n){n(11)("isConcatSpreadable")},function(e,t,n){n(11)("match")},function(e,t,n){n(11)("replace")},function(e,t,n){n(11)("search")},function(e,t,n){n(11)("species")},function(e,t,n){n(11)("split")},function(e,t,n){n(11)("toPrimitive")},function(e,t,n){n(11)("toStringTag")},function(e,t,n){n(11)("unscopables")},function(e,t,n){n(66)(Math,"Math",!0)},function(e,t,n){n(66)(n(10).JSON,"JSON",!0)},function(e,t,n){n(11)("dispose")},function(e,t,n){n(11)("observable")},function(e,t,n){n(11)("patternMatch")},function(e,t,n){e.exports=n(532)},function(e,t,n){n(258),n(533),n(539),e.exports=n(169).f("iterator")},function(e,t,n){"use strict";var r=n(534),o=n(104),i=n(259),a=o.set,s=o.getterFor("String Iterator");i(String,"String",function(e){a(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=s(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o,!0),t.index+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(99),o=n(63);e.exports=function(e,t,n){var i,a,s=String(o(e)),u=r(t),c=s.length;return u<0||u>=c?n?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?n?s.charAt(u):i:n?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}},function(e,t,n){"use strict";var r=n(260).IteratorPrototype,o=n(167),i=n(65),a=n(66),s=n(170),u=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=o(r,{next:i(1,n)}),a(e,c,!1,!0),s[c]=u,e}},function(e,t,n){e.exports=!n(21)(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,n){var r=n(538);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n,o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},function(e,t,n){var r=n(22),o=n(45);e.exports=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}},function(e,t,n){var r=n(540),o=n(541),i=n(10),a=n(25),s=n(15),u=s("iterator"),c=s("toStringTag"),l=o.values;for(var f in r){var h=i[f],p=h&&h.prototype;if(p){if(p[u]!==l)try{a(p,u,l)}catch(y){p[u]=l}if(p[c]||a(p,c,f),r[f])for(var d in o)if(p[d]!==o[d])try{a(p,d,o[d])}catch(y){p[d]=o[d]}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var r=n(46),o=n(166),i=n(170),a=n(104),s=n(259),u=a.set,c=a.getterFor("Array Iterator");e.exports=s(Array,"Array",function(e,t){u(this,{type:"Array Iterator",target:r(e),index:0,kind:t})},function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(262),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var i=e[o],a=o+1<e.length,s=a?e[o+1]:0,u=o+2<e.length,c=u?e[o+2]:0,l=i>>2,f=(3&i)<<4|s>>4,h=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(h=64)),r.push(n[l],n[f],n[h],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var a=((7&o)<<18|(63&(i=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{i=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var i=n[e.charAt(o++)],a=o<e.length?n[e.charAt(o)]:0,s=++o<e.length?n[e.charAt(o)]:64,u=++o<e.length?n[e.charAt(o)]:64;if(++o,null==i||null==a||null==s||null==u)throw Error();var c=i<<2|a>>4;if(r.push(c),64!=s){var l=a<<4&240|s>>2;if(r.push(l),64!=u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}(),h=function(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""},p="FirebaseError",d=function(e){function t(n,r){var o=e.call(this,r)||this;return o.code=n,o.name=p,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return r.__extends(t,e),t}(Error),y=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e,t){void 0===t&&(t={});for(var n=this.service+"/"+e,r=this.errors[e],o=r?function(e,t){return e.replace(m,function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"})}(r,t):"Error",i=this.serviceName+": "+o+" ("+n+").",a=new d(n,i),s=0,u=Object.keys(t);s<u.length;s++){var c=u[s];"_"!==c.slice(-1)&&(c in a&&console.warn('Overwriting FirebaseError base field "'+c+'" can cause unexpected behavior.'),a[c]=t[c])}return a},e}();var m=/\{\$([^}]+)}/g;function v(e){return JSON.parse(e)}var g=function(e){var t={},n={},r={},o="";try{var i=e.split(".");t=v(c(i[0])||""),n=v(c(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:o}},b=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},w=function(e,t){return b(t,function(t,n){e[t]=n}),e},E=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},T=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var o=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(o<<1|o>>>31)}var i,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^u&(c^l),a=1518500249):(i=u^c^l,a=1859775393):r<60?(i=u&c|l&(u|c),a=2400959708):(i=u^c^l,a=3395469782);o=(s<<5|s>>>27)+i+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=o}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<t;){if(0==i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(o[i]=e.charCodeAt(r),++r,++i==this.blockSize){this.compress_(o),i=0;break}}else for(;r<t;)if(o[i]=e[r],++r,++i==this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;o>=0;o-=8)e[r]=this.chain_[n]>>o&255,++r;return e},e}();var _=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,o=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&"function"===typeof e[o])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(e){}}),this.observers.push(r),i},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function S(){}function I(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=e+" failed: ";return o+=r+" argument "}t.CONSTANTS=o,t.Deferred=f,t.ErrorFactory=y,t.FirebaseError=d,t.Sha1=T,t.assert=i,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}},t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=s(e);return u.encodeByteArray(t,!0)},t.clone=function(e){return w({},e)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new _(e,t);return n.subscribe.bind(n)},t.decode=g,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=I,t.every=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!t(n,e[n]))return!1;return!0},t.extend=w,t.findKey=E,t.findValue=function(e,t,n){var r=E(e,t,n);return r&&e[r]},t.forEach=b,t.getAnyKey=function(e){for(var t in e)return t},t.getCount=function(e){var t=0;for(var n in e)t++;return t},t.getUA=h,t.getValues=function(e){var t=[],n=0;for(var r in e)t[n++]=e[r];return t},t.isAdmin=function(e){var t=g(e).claims;return"object"===typeof t&&!0===t.admin},t.isEmpty=function(e){for(var t in e)return!1;return!0},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},t.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},t.isNonNullObject=function(e){return"object"===typeof e&&null!==e},t.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(e){var t=g(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t,n,r=g(e).claims,o=Math.floor((new Date).getTime()/1e3);return"object"===typeof r&&(r.hasOwnProperty("nbf")?t=r.nbf:r.hasOwnProperty("iat")&&(t=r.iat),n=r.hasOwnProperty("exp")?r.exp:t+86400),o&&t&&n&&o>=t&&o<=n},t.issuedAtTime=function(e){var t=g(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=v,t.map=function(e,t,n){var r={};for(var o in e)r[o]=t.call(n,e[o],o,e);return r},t.patchProperty=function(e,t,n){e[t]=n},t.querystring=function(e){var t=[];return b(e,function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t},t.safeGet=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;i(++r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var o;if(r<t?o="at least "+t:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(I(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(I(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(I(e,t,r)+"must be a valid firebase namespace.")}},function(e,t,n){!function(e){"use strict";try{(function(){e=e&&e.hasOwnProperty("default")?e.default:e;var t="firebasestorage.googleapis.com",n=function(){function e(e,t){this.code_=o(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return o(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),e}(),r={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function o(e){return"storage/"+e}function i(){return new n(r.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function a(){return new n(r.CANCELED,"User canceled the upload/download.")}function s(){return new n(r.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function u(e,t,o){return new n(r.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+e+": "+o)}function c(){return new n(r.APP_DELETED,"The Firebase app was deleted.")}function l(e,t){return new n(r.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function f(e){throw new n(r.INTERNAL_ERROR,"Internal error: "+e)}var h={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function p(e){switch(e){case h.RAW:case h.BASE64:case h.BASE64URL:case h.DATA_URL:return;default:throw"Expected one of the event types: ["+h.RAW+", "+h.BASE64+", "+h.BASE64URL+", "+h.DATA_URL+"]."}}var d=function(e,t){this.data=e,this.contentType=t||null};function y(e,t){switch(e){case h.RAW:return new d(m(t));case h.BASE64:case h.BASE64URL:return new d(v(e,t));case h.DATA_URL:return new d((n=new w(t)).base64?v(h.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw l(h.DATA_URL,"Malformed data URL.")}return m(t)}(n.rest),new w(t).contentType)}var n;throw i()}function m(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function v(e,t){switch(e){case h.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw l(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case h.BASE64URL:var o=-1!==t.indexOf("+"),i=-1!==t.indexOf("/");if(o||i)throw l(e,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(t){throw l(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var g,b,w=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw l(h.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,o=t[1]||null;null!=o&&(this.base64=(r=";base64",(n=o).length>=r.length&&n.substring(n.length-r.length)===r),this.contentType=this.base64?o.substring(0,o.length-";base64".length):o),this.rest=e.substring(e.indexOf(",")+1)},E={STATE_CHANGED:"state_changed"},T="running",_="pausing",S="paused",I="success",A="canceling",C="canceled",O="error",k={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function x(e){switch(e){case T:case _:case A:return k.RUNNING;case S:return k.PAUSED;case I:return k.SUCCESS;case C:return k.CANCELED;case O:default:return k.ERROR}}function R(e,t){for(var n in e)r=e,o=n,Object.prototype.hasOwnProperty.call(r,o)&&t(n,e[n]);var r,o}function P(e){if(null==e)return{};var t={};return R(e,function(e,n){t[e]=n}),t}function N(e){return new Promise(e)}function D(e){return Promise.resolve(e)}function L(e){return null!=e}function M(e){return void 0!==e}function j(e){return"function"==typeof e}function U(e){return"object"==typeof e}function F(e){return"string"==typeof e||e instanceof String}function q(e){return B()&&e instanceof Blob}function B(){return"undefined"!=typeof Blob}(b=g||(g={}))[b.NO_ERROR=0]="NO_ERROR",b[b.NETWORK_ERROR=1]="NETWORK_ERROR",b[b.ABORT=2]="ABORT";var V=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=g.NO_ERROR,this.sendPromise_=N(function(t,n){e.xhr_.addEventListener("abort",function(n){e.errorCode_=g.ABORT,t(e)}),e.xhr_.addEventListener("error",function(n){e.errorCode_=g.NETWORK_ERROR,t(e)}),e.xhr_.addEventListener("load",function(n){t(e)})})}return e.prototype.send=function(e,t,n,r){var o=this;if(this.sent_)throw f("cannot .send() more than once");return this.sent_=!0,this.xhr_.open(t,e,!0),L(r)&&R(r,function(e,t){o.xhr_.setRequestHeader(e,t.toString())}),L(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw f("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw f("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw f("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){L(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){L(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),W=function(){function e(){}return e.prototype.createXhrIo=function(){return new V},e}();function z(e){var t,n;try{t=JSON.parse(e)}catch(e){return null}return U(n=t)&&!Array.isArray(n)?t:null}var K=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var o,i;try{o=e.makeFromUrl(t)}catch(o){return new e(t,"")}if(""===o.path)return o;throw i=t,new n(r.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")},e.makeFromUrl=function(o){for(var i,a=null,s="([A-Za-z0-9.\\-_]+)",u=new RegExp("^gs://"+s+"(/(.*))?$","i"),c=t.replace(/[.]/g,"\\."),l=[{regex:u,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+c+"/v[A-Za-z0-9_]+/b/"+s+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(e){e.path_=decodeURIComponent(e.path)}}],f=0;f<l.length;f++){var h=l[f],p=h.regex.exec(o);if(p){var d=p[h.indices.bucket],y=p[h.indices.path];y||(y=""),a=new e(d,y),h.postModify(a);break}}if(null==a)throw i=o,new n(r.INVALID_URL,"Invalid URL '"+i+"'.");return a},e}();function H(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function G(e){return"https://"+t+"/v0"+e}function Q(e){var t=encodeURIComponent,n="?";return R(e,function(e,r){var o=t(e)+"="+t(r);n=n+o+"&"}),n=n.slice(0,-1)}function X(e,t){return t}var Y=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||X},$=null;function J(e,t,n){var r=z(t);return null===r?null:function(e,t,n){for(var r,o,i={type:"file"},a=n.length,s=0;s<a;s++){var u=n[s];i[u.local]=u.xform(i,t[u.server])}return r=i,o=e,Object.defineProperty(r,"ref",{get:function(){var e=r.bucket,t=r.fullPath,n=new K(e,t);return o.makeStorageReference(n)}}),i}(e,r,n)}function Z(e,t){for(var n={},r=t.length,o=0;o<r;o++){var i=t[o];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}function ee(e){var t;if(!e||!U(e))throw"Expected Metadata object.";for(var n in e){var r=e[n];if("customMetadata"===n){if(!U(r))throw"Expected object for 'customMetadata' mapping."}else if(U(t=r)&&null!==t)throw"Mapping for '"+n+"' cannot be an object."}}function te(e,t,o){for(var i=t.length,a=t.length,s=0;s<t.length;s++)if(t[s].optional){i=s;break}var c,l,f,h,p,d;if(!(i<=o.length&&o.length<=a))throw c=i,l=a,f=e,h=o.length,d=c===l?1===(p=c)?"argument":"arguments":(p="between "+c+" and "+l,"arguments"),new n(r.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+f+"`: Expected "+p+" "+d+", received "+h+".");for(s=0;s<o.length;s++)try{t[s].validator(o[s])}catch(t){throw t instanceof Error?u(s,e,t.message):u(s,e,t)}}var ne=function(e,t){var n=this;this.validator=function(t){n.optional&&!M(t)||e(t)},this.optional=!!t};function re(e,t){function n(e){if(!F(e))throw"Expected string."}var r,o,i;return r=e?(o=n,i=e,function(e){o(e),i(e)}):n,new ne(r,t)}function oe(e){return new ne(ee,e)}function ie(){return new ne(function(e){var t;if(!(("number"==typeof(t=e)||t instanceof Number)&&0<=e))throw"Expected a number 0 or greater."})}function ae(e,t){return new ne(function(t){if(!(null===t||L(t)&&t instanceof Object))throw"Expected an Object.";null!=e&&e(t)},t)}function se(e){return new ne(function(e){if(null!==e&&!j(e))throw"Expected a Function."},e)}var ue=function(){function e(e,t){var n=0,r="";q(e)?(n=(this.data_=e).size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(q(this.data_)){var r=this.data_,o=(a=t,s=n,(i=r).webkitSlice?i.webkitSlice(a,s):i.mozSlice?i.mozSlice(a,s):i.slice?i.slice(a,s):null);return null===o?null:new e(o)}var i,a,s;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(B()){var r=t.map(function(t){return t instanceof e?t.data_:t});return new e(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}if(B())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}.apply(null,r))}var o=t.map(function(e){return F(e)?y(h.RAW,e).data:e.data_}),i=0;o.forEach(function(e){i+=e.byteLength});var a=new Uint8Array(i),s=0;return o.forEach(function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]}),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function ce(e,t){return-1!==e.indexOf(t)}var le=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function fe(e){if(!e)throw i()}function he(e,t){return function(n,r){var o=J(e,r,t);return fe(null!==o),o}}function pe(e){return function(t,o){var i,a,s;return(i=401===t.getStatus()?new n(r.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,new n(r.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(a=e.path,new n(r.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")):o).setServerResponseProp(o.serverResponseProp()),i}}function de(e){var t=pe(e);return function(o,i){var a,s=t(o,i);return 404===o.getStatus()&&(a=e.path,s=new n(r.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")),s.setServerResponseProp(i.serverResponseProp()),s}}function ye(e,t,n){var r=G(t.fullServerUrl()),o=e.maxOperationRetryTime(),i=new le(r,"GET",he(e,n),o);return i.errorHandler=de(t),i}function me(e,t,n){var r,o=P(n);return o.fullPath=e.path,o.size=t.size(),o.contentType||(o.contentType=(r=t)&&r.type()||"application/octet-stream"),o}var ve=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function ge(e,t){var n;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){fe(!1)}return fe(ce(t||["active"],n)),n}var be=function(e,t,n){if(j(e)||L(t)||L(n))this.next=e,this.error=t||null,this.complete=n||null;else{var r=e;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},we=function(e,t,n,r,o,i){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=o,this.ref=i};function Ee(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];D(!0).then(function(){e.apply(null,t)})}}var Te=function(){function e(e,t,n,o,i,a){var s=this;void 0===a&&(a=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=i,this.metadata_=a,this.mappings_=o,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=T,this.errorHandler_=function(e){s.request_=null,s.chunkMultiplier_=1,e.codeEquals(r.CANCELED)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=e,s.transition_(O))},this.metadataErrorHandler_=function(e){s.request_=null,e.codeEquals(r.CANCELED)?s.completeTransitions_():(s.error_=e,s.transition_(O))},this.promise_=N(function(e,t){s.resolve_=e,s.reject_=t,s.start_()}),this.promise_.then(null,function(){})}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n,r){e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return 262144<e.size()},e.prototype.start_=function(){this.state_===T&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.authWrapper_.getAuthToken().then(function(n){switch(t.state_){case T:e(n);break;case A:t.transition_(C);break;case _:t.transition_(S)}})},e.prototype.createResumable_=function(){var e=this;this.resolveToken_(function(t){var n,r,o,i,a,s,u,c,l,f,h,p,d,y=(n=e.authWrapper_,r=e.location_,o=e.mappings_,i=e.blob_,a=e.metadata_,s=r.bucketOnlyServerUrl(),u=me(r,i,a),c={name:u.fullPath},l=G(s),f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},h=Z(u,o),p=n.maxUploadRetryTime(),(d=new le(l,"POST",function(e,t){var n;ge(e);try{n=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){fe(!1)}return fe(F(n)),n},p)).urlParams=c,d.headers=f,d.body=h,d.errorHandler=pe(r),d),m=e.authWrapper_.makeRequest(y,t);(e.request_=m).getPromise().then(function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()},e.errorHandler_)})},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_(function(n){var r,o,i,a,s,u,c=(r=e.authWrapper_,o=e.location_,i=t,a=e.blob_,s=r.maxUploadRetryTime(),(u=new le(i,"POST",function(e,t){var n,r=ge(e,["active","final"]);try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){fe(!1)}var o=parseInt(n,10);return fe(!isNaN(o)),new ve(o,a.size(),"final"===r)},s)).headers={"X-Goog-Upload-Command":"query"},u.errorHandler=pe(o),u),l=e.authWrapper_.makeRequest(c,n);(e.request_=l).getPromise().then(function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()},e.errorHandler_)})},e.prototype.continueUpload_=function(){var e=this,t=262144*this.chunkMultiplier_,o=new ve(this.transferred_,this.blob_.size()),i=this.uploadUrl_;this.resolveToken_(function(a){var u;try{u=function(e,t,o,i,a,u,c,l){var f=new ve(0,0);if(f.total=c?(f.current=c.current,c.total):(f.current=0,i.size()),i.size()!==f.total)throw new n(r.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var h=f.total-f.current,p=h;0<a&&(p=Math.min(p,a));var d=f.current,y=d+p,m={"X-Goog-Upload-Command":p===h?"upload, finalize":"upload","X-Goog-Upload-Offset":f.current},v=i.slice(d,y);if(null===v)throw s();var g=t.maxUploadRetryTime(),b=new le(o,"POST",function(e,n){var r,o=ge(e,["active","final"]),a=f.current+p,s=i.size();return r="final"===o?he(t,u)(e,n):null,new ve(a,s,"final"===o,r)},g);return b.headers=m,b.body=v.uploadData(),b.progressCallback=l||null,b.errorHandler=pe(e),b}(e.location_,e.authWrapper_,i,e.blob_,t,e.mappings_,o,e.makeProgressCallback_())}catch(a){return e.error_=a,void e.transition_(O)}var c=e.authWrapper_.makeRequest(u,a);(e.request_=c).getPromise().then(function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_(I)):e.completeTransitions_()},e.errorHandler_)})},e.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_(function(t){var n=ye(e.authWrapper_,e.location_,e.mappings_),r=e.authWrapper_.makeRequest(n,t);(e.request_=r).getPromise().then(function(t){e.request_=null,e.metadata_=t,e.transition_(I)},e.metadataErrorHandler_)})},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_(function(t){var n=function(e,t,n,r,o){var i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+u;var c=me(t,r,o),l="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Z(c,n)+"\r\n--"+u+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",f="\r\n--"+u+"--",h=ue.getBlob(l,r,f);if(null===h)throw s();var p={name:c.fullPath},d=G(i),y=e.maxUploadRetryTime(),m=new le(d,"POST",he(e,n),y);return m.urlParams=p,m.headers=a,m.body=h.uploadData(),m.errorHandler=pe(t),m}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);(e.request_=r).getPromise().then(function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_(I)},e.errorHandler_)})},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case A:case _:this.state_=e,null!==this.request_&&this.request_.cancel();break;case T:var t=this.state_===S;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case S:this.state_=e,this.notifyObservers_();break;case C:this.error_=a(),this.state_=e,this.notifyObservers_();break;case O:case I:this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case _:this.transition_(S);break;case A:this.transition_(C);break;case T:this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=x(this.state_);return new we(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t,n,r){void 0===t&&(t=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0);var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",i=se(!0).validator,a=ae(null,!0).validator;function s(e){try{return void i(e)}catch(e){}try{if(a(e),!(M(e.next)||M(e.error)||M(e.complete)))throw"";return}catch(e){throw o}}te("on",[re(function(t){if(e!==E.STATE_CHANGED)throw"Expected one of the event types: ["+E.STATE_CHANGED+"]."}),ae(s,!0),se(!0),se(!0)],arguments);var u=this;function c(e){return function(t,n,o){null!==e&&te("on",e,arguments);var i=new be(t,n,r);return u.addObserver_(i),function(){u.removeObserver_(i)}}}var l=[ae(function(e){if(null===e)throw o;s(e)}),se(!0),se(!0)];return M(t)||M(n)||M(r)?c(null)(t,n,r):c(l)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){var t,n,r;t=this.observers_,n=e,-1!==(r=t.indexOf(n))&&t.splice(r,1)},e.prototype.notifyObservers_=function(){var e,t=this;this.finishPromise_(),(e=this.observers_,Array.prototype.slice.call(e)).forEach(function(e){t.notifyObserver_(e)})},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(x(this.state_)){case k.SUCCESS:Ee(this.resolve_.bind(null,this.snapshot))();break;case k.CANCELED:case k.ERROR:Ee(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(x(this.state_)){case k.RUNNING:case k.PAUSED:null!==e.next&&Ee(e.next.bind(e,this.snapshot))();break;case k.SUCCESS:null!==e.complete&&Ee(e.complete.bind(e))();break;case k.CANCELED:case k.ERROR:null!==e.error&&Ee(e.error.bind(e,this.error_))();break;default:null!==e.error&&Ee(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){te("resume",[],arguments);var e=this.state_===S||this.state_===_;return e&&this.transition_(T),e},e.prototype.pause=function(){te("pause",[],arguments);var e=this.state_===T;return e&&this.transition_(_),e},e.prototype.cancel=function(){te("cancel",[],arguments);var e=this.state_===T||this.state_===_;return e&&this.transition_(A),e},e}(),_e=function(){function e(e,t){this.authWrapper=e,this.location=t instanceof K?t:K.makeFromUrl(t)}return e.prototype.toString=function(){return te("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return function(){if($)return $;var e=[];e.push(new Y("bucket")),e.push(new Y("generation")),e.push(new Y("metageneration")),e.push(new Y("name","fullPath",!0));var t=new Y("name");t.xform=function(e,t){return!F(n=t)||n.length<2?n:H(n=n);var n},e.push(t);var n=new Y("size");return n.xform=function(e,t){return L(t)?+t:t},e.push(n),e.push(new Y("timeCreated")),e.push(new Y("updated")),e.push(new Y("md5Hash",null,!0)),e.push(new Y("cacheControl",null,!0)),e.push(new Y("contentDisposition",null,!0)),e.push(new Y("contentEncoding",null,!0)),e.push(new Y("contentLanguage",null,!0)),e.push(new Y("contentType",null,!0)),e.push(new Y("metadata","customMetadata",!0)),$=e}()},e.prototype.child=function(e){te("child",[re()],arguments);var t,n,r=(t=this.location.path,n=e.split("/").filter(function(e){return 0<e.length}).join("/"),0===t.length?n:t+"/"+n),o=new K(this.location.bucket,r);return this.newRef(this.authWrapper,o)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=function(e){if(0==e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this.location.path);if(null===e)return null;var t=new K(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new K(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return H(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),te("put",[new ne(function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||B()&&e instanceof Blob))throw"Expected Blob or File."}),oe(!0)],arguments),this.throwIfRoot_("put"),new Te(this,this.authWrapper,this.location,this.mappings(),new ue(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=h.RAW),te("putString",[re(),re(p,!0),oe(!0)],arguments),this.throwIfRoot_("putString");var r=y(t,e),o=P(n);return!L(o.contentType)&&L(r.contentType)&&(o.contentType=r.contentType),new Te(this,this.authWrapper,this.location,this.mappings(),new ue(r.data,!0),o)},e.prototype.delete=function(){te("delete",[],arguments),this.throwIfRoot_("delete");var e=this;return this.authWrapper.getAuthToken().then(function(t){var n,r,o,i,a,s=(n=e.authWrapper,r=e.location,o=G(r.fullServerUrl()),i=n.maxOperationRetryTime(),(a=new le(o,"DELETE",function(e,t){},i)).successCodes=[200,204],a.errorHandler=de(r),a);return e.authWrapper.makeRequest(s,t).getPromise()})},e.prototype.getMetadata=function(){te("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(t){var n=ye(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise()})},e.prototype.updateMetadata=function(e){te("updateMetadata",[oe()],arguments),this.throwIfRoot_("updateMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(n){var r,o,i,a,s,u,c,l,f=(r=t.authWrapper,o=t.location,i=e,a=t.mappings(),s=G(o.fullServerUrl()),u=Z(i,a),c=r.maxOperationRetryTime(),(l=new le(s,"PATCH",he(r,a),c)).headers={"Content-Type":"application/json; charset=utf-8"},l.body=u,l.errorHandler=de(o),l);return t.authWrapper.makeRequest(f,n).getPromise()})},e.prototype.getDownloadURL=function(){te("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var e=this;return this.authWrapper.getAuthToken().then(function(t){var o,i,a,s,u,c,l=(o=e.authWrapper,i=e.location,a=e.mappings(),s=G(i.fullServerUrl()),u=o.maxOperationRetryTime(),(c=new le(s,"GET",function(e,t){return function(n,r){var o=J(e,r,t);return fe(null!==o),function(e,t){var n=z(t);if(null===n)return null;if(!F(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var o=encodeURIComponent;return r.split(",").map(function(t){var n=e.bucket,r=e.fullPath;return G("/b/"+o(n)+"/o/"+o(r))+Q({alt:"media",token:t})})[0]}(o,r)}}(o,a),u)).errorHandler=de(i),c);return e.authWrapper.makeRequest(l,t).getPromise().then(function(e){if(null===e)throw new n(r.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})})},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw t=e,new n(r.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').");var t},e}(),Se=function(){function e(e){var t;this.promise_=(t=e,Promise.reject(t))}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){void 0===e&&(e=!1)},e}(),Ie=function(){function e(){this.map_={},this.id_=-9007199254740991}return e.prototype.addRequest=function(e){var t=this.id_;this.id_++,this.map_[t]=e;var n=this;function r(){delete n.map_[t]}e.getPromise().then(r,r)},e.prototype.clear=function(){R(this.map_,function(e,t){t&&t.cancel(!0)}),this.map_={}},e}(),Ae=function(){function e(t,n,r,o,i){if(this.bucket_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var a=this.app_.options;L(a)&&(this.bucket_=e.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=i,this.service_=o,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e4,this.requestMap_=new Ie}return e.extractBucket_=function(e){var t=e.storageBucket||null;return null==t?null:K.makeFromBucketSpec(t).bucket},e.prototype.getAuthToken=function(){return null!==this.app_&&L(this.app_.INTERNAL)&&L(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(e){return null!==e?e.accessToken:null},function(e){return null}):D(null)},e.prototype.bucket=function(){if(this.deleted_)throw c();return this.bucket_},e.prototype.service=function(){return this.service_},e.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},e.prototype.makeRequest=function(e,t){if(this.deleted_)return new Se(c());var n=this.requestMaker_(e,t,this.pool_);return this.requestMap_.addRequest(n),n},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},e.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},e.prototype.setMaxUploadRetryTime=function(e){this.maxUploadRetryTime_=e},e.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},e.prototype.setMaxOperationRetryTime=function(e){this.maxOperationRetryTime_=e},e}(),Ce=function(){function e(e,t,n,r,o,i,a,s,u,c,l){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=o.slice(),this.additionalRetryCodes_=i.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l;var f=this;this.promise_=N(function(e,t){f.resolve_=e,f.reject_=t,f.start_()})}return e.prototype.start_=function(){var e=this;function t(t,o){var s,u=e.resolve_,l=e.reject_,f=o.xhr;if(o.wasSuccessCode)try{var h=e.callback_(f,f.getResponseText());M(h)?u(h):u()}catch(t){l(t)}else null!==f?((s=i()).setServerResponseProp(f.getResponseText()),e.errorCallback_?l(e.errorCallback_(f,s)):l(s)):o.canceled?l(s=e.appDelete_?c():a()):l(s=new n(r.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Oe(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,o=null,i=!1,a=0;function s(){return 2===a}var u=!1;function c(){u||(u=!0,t.apply(null,arguments))}function l(t){o=setTimeout(function(){o=null,e(f,s())},t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];u||(e?c.apply(null,arguments):s()||i?c.apply(null,arguments):(r<64&&(r*=2),l(1===a?(a=2,0):1e3*(r+Math.random()))))}var h=!1;function p(e){h||(h=!0,u||(null!==o?(e||(a=2),clearTimeout(o),l(0)):e||(a=1)))}return l(0),setTimeout(function(){p(i=!0)},n),p}(function(t,n){if(n)t(!1,new Oe(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(o),r.send(e.url_,e.method_,e.body_,e.headers_).then(function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(o),e.pendingXhr_=null;var r=(n=n).getErrorCode()===g.NO_ERROR,i=n.getStatus();if(r&&!e.isRetryStatusCode_(i)){var a=ce(e.successCodes_,i);t(!0,new Oe(a,n))}else{var s=n.getErrorCode()===g.ABORT;t(!1,new Oe(!1,null,s))}})}function o(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}},t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=500<=e&&e<600,n=ce([408,429],e),r=ce(this.additionalRetryCodes_,e);return t||n||r},e}(),Oe=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function ke(t,n,r){var o,i,a,s,u=Q(t.urlParams),c=t.url+u,l=P(t.headers);return o=l,null!==(i=n)&&0<i.length&&(o.Authorization="Firebase "+i),a=l,s=void 0!==e?e.SDK_VERSION:"AppManager",a["X-Firebase-Storage-Version"]="webjs/"+s,new Ce(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}var xe,Re=function(){function e(e,t,n){if(this.bucket_=null,this.authWrapper_=new Ae(e,function(e,t){return new _e(e,t)},ke,this,t),this.app_=e,null!=n)this.bucket_=K.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new K(r,""))}this.internals_=new Pe(this)}return e.prototype.ref=function(e){if(te("ref",[re(function(e){if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var t=new _e(this.authWrapper_,this.bucket_);return null!=e?t.child(e):t},e.prototype.refFromURL=function(e){return te("refFromURL",[re(function(e){if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{K.makeFromUrl(e)}catch(e){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new _e(this.authWrapper_,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){te("setMaxUploadRetryTime",[ie()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)},e.prototype.setMaxOperationRetryTime=function(e){te("setMaxOperationRetryTime",[ie()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),e}(),Pe=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),D(void 0)},e}();xe={TaskState:k,TaskEvent:E,StringFormat:h,Storage:Re,Reference:_e},e.INTERNAL.registerService("storage",function(e,t,n){return new Re(e,new W,n)},xe,void 0,!0)}).apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-storage - be sure to load firebase-app.js first.")}}(n(110))},function(e,t,n){(function(e){!function(t){"use strict";try{(function(){t=t&&t.hasOwnProperty("default")?t.default:t,function(){var e,n=n||{},r=this;function o(e){return"string"==typeof e}function i(e){return"boolean"==typeof e}var a=/^[\w+\/_-]+[=]{0,2}$/,s=null;function u(){}function c(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function l(e){return null===e}function f(e){return"array"==c(e)}function h(e){var t=c(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==c(e)}function d(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function v(e,t,n){return e.call.apply(e.bind,arguments)}function g(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:g).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var E=Date.now||function(){return+new Date};function T(e,t){function n(){}n.prototype=t.prototype,e.pb=t.prototype,e.prototype=new n,(e.prototype.constructor=e).gd=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function _(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function S(e){if(Error.captureStackTrace)Error.captureStackTrace(this,S);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function I(e,t){for(var n="",r=(e=e.split("%s")).length-1,o=0;o<r;o++)n+=e[o]+(o<t.length?t[o]:"%s");S.call(this,n+e[r])}function A(e,t){throw new I("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function C(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function O(e,t){e.f(t),e.b<100&&(e.b++,t.next=e.a,e.a=t)}function k(){this.b=this.a=null}T(S,Error),S.prototype.name="CustomError",T(I,S),I.prototype.name="AssertionError",C.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var x=new C(function(){return new R},function(e){e.reset()});function R(){this.next=this.b=this.a=null}k.prototype.add=function(e,t){var n=x.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},R.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},R.prototype.reset=function(){this.next=this.b=this.a=null};var P=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(o(e))return o(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},N=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=o(e)?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)},D=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=o(e)?e.split(""):e,a=0;a<n;a++)a in i&&(r[a]=t.call(void 0,i[a],a,e));return r},L=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=o(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function M(e,t){return 0<=P(e,t)}function j(e,t){var n;return(n=0<=(t=P(e,t)))&&Array.prototype.splice.call(e,t,1),n}function U(e,t){!function(e,t){for(var n=o(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1).length})}function F(e){return Array.prototype.concat.apply([],arguments)}function q(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var B,V=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},W=/&/g,z=/</g,K=/>/g,H=/"/g,G=/'/g,Q=/\x00/g,X=/[\x00&<>"']/;function Y(e,t){return-1!=e.indexOf(t)}function $(e,t){return e<t?-1:t<e?1:0}e:{var J=r.navigator;if(J){var Z=J.userAgent;if(Z){B=Z;break e}}B=""}function ee(e){return Y(B,e)}function te(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ne(e){for(var t in e)return!1;return!0}function re(e){var t,n={};for(t in e)n[t]=e[t];return n}var oe,ie,ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])e[n]=r[n];for(var i=0;i<ae.length;i++)n=ae[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ue(e,t){for(var n=e.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")}function ce(e){return X.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(W,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(z,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(K,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(H,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(G,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(Q,"&#0;"))),e}function le(e){r.setTimeout(function(){throw e},0)}function fe(e,t){ie||function(){if(r.Promise&&r.Promise.resolve){var e=r.Promise.resolve(void 0);ie=function(){e.then(de)}}else ie=function(){var e=de;!p(r.setImmediate)||r.Window&&r.Window.prototype&&!ee("Edge")&&r.Window.prototype.setImmediate==r.setImmediate?(oe||(oe=function(){var e=r.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ee("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=b(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0===e||ee("Trident")||ee("MSIE"))return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){r.setTimeout(e,0)};var t=new e,n={},o=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).xb;n.xb=null,e()}},function(e){o.next={xb:e},o=o.next,t.port2.postMessage(0)}}()),oe(e)):r.setImmediate(e)}}(),he||(ie(),he=!0),pe.add(e,t)}var he=!1,pe=new k;function de(){for(var e;n=t=void 0,n=null,(t=pe).a&&(n=t.a,t.a=t.a.next,t.a||(t.b=null),n.next=null),e=n;){try{e.a.call(e.b)}catch(e){le(e)}O(x,e)}var t,n;he=!1}function ye(e,t){if(this.a=me,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=u)try{var n=this;e.call(t,function(e){Oe(n,ve,e)},function(e){if(!(e instanceof Le))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Oe(n,ge,e)})}catch(e){Oe(this,ge,e)}}var me=0,ve=2,ge=3;function be(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}be.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var we=new C(function(){return new be},function(e){e.reset()});function Ee(e,t,n){var r=we.get();return r.g=e,r.b=t,r.f=n,r}function Te(e){if(e instanceof ye)return e;var t=new ye(u);return Oe(t,ve,e),t}function _e(e){return new ye(function(t,n){n(e)})}function Se(e,t,n){ke(e,t,n,null)||fe(w(t,e))}function Ie(e){return new ye(function(t){var n=e.length,r=[];if(n)for(var o=function(e,o,i){n--,r[e]=o?{Eb:!0,value:i}:{Eb:!1,reason:i},0==n&&t(r)},i=0;i<e.length;i++)Se(e[i],w(o,i,!0),w(o,i,!1));else t(r)})}function Ae(e,t){e.b||e.a!=ve&&e.a!=ge||xe(e),e.f?e.f.next=t:e.b=t,e.f=t}function Ce(e,t,n,r){var o=Ee(null,null,null);return o.a=new ye(function(e,i){o.g=t?function(n){try{var o=t.call(r,n);e(o)}catch(n){i(n)}}:e,o.b=n?function(t){try{var o=n.call(r,t);void 0===o&&t instanceof Le?i(t):e(o)}catch(t){i(t)}}:i}),Ae(o.a.c=e,o),o.a}function Oe(e,t,n){var r,o;e.a==me&&(e===n&&(t=ge,n=new TypeError("Promise cannot resolve to itself")),e.a=1,ke(n,e.Pc,e.Qc,e)||(e.i=n,e.a=t,e.c=null,xe(e),t!=ge||n instanceof Le||(o=n,(r=e).g=!0,fe(function(){r.g&&De.call(null,o)}))))}function ke(e,t,n,r){if(e instanceof ye)return Ae(e,Ee(t||u,n||null,r)),!0;if(_(e))return e.then(t,n,r),!0;if(d(e))try{var o=e.then;if(p(o))return function(e,t,n,r,o){function i(e){a||(a=!0,r.call(o,e))}var a=!1;try{t.call(e,function(e){a||(a=!0,n.call(o,e))},i)}catch(e){i(e)}}(e,o,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function xe(e){e.h||(e.h=!0,fe(e.Yb,e))}function Re(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Pe(e,t,n,r){if(n==ge&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Ne(t,n,r);else try{t.c?t.g.call(t.f):Ne(t,n,r)}catch(e){De.call(null,e)}O(we,t)}function Ne(e,t,n){t==ve?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}ye.prototype.then=function(e,t,n){return Ce(this,p(e)?e:null,p(t)?t:null,n)},ye.prototype.$goog_Thenable=!0,(e=ye.prototype).ia=function(e,t){return(e=Ee(e,e,t)).c=!0,Ae(this,e),this},e.s=function(e,t){return Ce(this,null,e,t)},e.cancel=function(e){this.a==me&&fe(function(){!function e(t,n){if(t.a==me)if(t.c){var r=t.c;if(r.b){for(var o=0,i=null,a=null,s=r.b;s&&(s.c||(o++,s.a==t&&(i=s),!(i&&1<o)));s=s.next)i||(a=s);i&&(r.a==me&&1==o?e(r,n):(a?((o=a).next==r.f&&(r.f=o),o.next=o.next.next):Re(r),Pe(r,i,ge,n)))}t.c=null}else Oe(t,ge,n)}(this,new Le(e))},this)},e.Pc=function(e){this.a=me,Oe(this,ve,e)},e.Qc=function(e){this.a=me,Oe(this,ge,e)},e.Yb=function(){for(var e;e=Re(this);)Pe(this,e,this.a,this.i);this.h=!1};var De=le;function Le(e){S.call(this,e)}function Me(){this.qa=this.qa,this.ja=this.ja}T(Le,S);var je=0;function Ue(e){e.qa||(e.qa=!0,e.va(),0==je)||e[y]||(e[y]=++m)}function Fe(e){return Fe[" "](e),e}Me.prototype.qa=!(Le.prototype.name="cancel"),Me.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},Fe[" "]=u;var qe,Be,Ve=ee("Opera"),We=ee("Trident")||ee("MSIE"),ze=ee("Edge"),Ke=ze||We,He=ee("Gecko")&&!(Y(B.toLowerCase(),"webkit")&&!ee("Edge"))&&!(ee("Trident")||ee("MSIE"))&&!ee("Edge"),Ge=Y(B.toLowerCase(),"webkit")&&!ee("Edge");function Qe(){var e=r.document;return e?e.documentMode:void 0}e:{var Xe="",Ye=(Be=B,He?/rv:([^\);]+)(\)|;)/.exec(Be):ze?/Edge\/([\d\.]+)/.exec(Be):We?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Be):Ge?/WebKit\/(\S+)/.exec(Be):Ve?/(?:Version)[ \/]?(\S+)/.exec(Be):void 0);if(Ye&&(Xe=Ye?Ye[1]:""),We){var $e=Qe();if(null!=$e&&$e>parseFloat(Xe)){qe=String($e);break e}}qe=Xe}var Je,Ze={};function et(e){return t=e,n=function(){for(var t=0,n=V(String(qe)).split("."),r=V(String(e)).split("."),o=Math.max(n.length,r.length),i=0;0==t&&i<o;i++){var a=n[i]||"",s=r[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=$(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||$(0==a[2].length,0==s[2].length)||$(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t},r=Ze,Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=n();var t,n,r}var tt=r.document;Je=tt&&We?Qe()||("CSS1Compat"==tt.compatMode?parseInt(qe,10):5):void 0;var nt=Object.freeze||function(e){return e},rt=!We||9<=Number(Je),ot=We&&!et("9"),it=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{r.addEventListener("test",u,t),r.removeEventListener("test",u,t)}catch(e){}return e}();function at(e,t){this.type=e,this.b=this.target=t,this.Kb=!0}function st(e,t){if(at.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(He){e:{try{Fe(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,this.screenY=r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=o(e.pointerType)?e.pointerType:ut[e.pointerType]||"",(this.a=e).defaultPrevented&&this.preventDefault()}}at.prototype.preventDefault=function(){this.Kb=!1},T(st,at);var ut=nt({2:"touch",3:"pen",4:"mouse"});st.prototype.preventDefault=function(){st.pb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ot)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}},st.prototype.f=function(){return this.a};var ct="closure_listenable_"+(1e6*Math.random()|0),lt=0;function ft(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Ma=o,this.key=++lt,this.oa=this.Ia=!1}function ht(e){e.oa=!0,e.listener=null,e.proxy=null,e.src=null,e.Ma=null}function pt(e){this.src=e,this.a={},this.b=0}function dt(e,t){var n=t.type;n in e.a&&j(e.a[n],t)&&(ht(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function yt(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.oa&&i.listener==t&&i.capture==!!n&&i.Ma==r)return o}return-1}pt.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.a[i])||(e=this.a[i]=[],this.b++);var a=yt(e,t,r,o);return-1<a?(t=e[a],n||(t.Ia=!1)):((t=new ft(t,this.src,i,!!r,o)).Ia=n,e.push(t)),t};var mt="closure_lm_"+(1e6*Math.random()|0),vt={};function gt(e,t,n,r,o){if(r&&r.once)wt(e,t,n,r,o);else if(f(t))for(var i=0;i<t.length;i++)gt(e,t[i],n,r,o);else n=kt(n),e&&e[ct]?Rt(e,t,n,d(r)?!!r.capture:!!r,o):bt(e,t,n,!1,r,o)}function bt(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var a,s,u=d(o)?!!o.capture:!!o,c=Ct(e);if(c||(e[mt]=c=new pt(e)),!(n=c.add(t,n,r,u,i)).proxy)if(a=At,r=s=rt?function(e){return a.call(s.src,s.listener,e)}:function(e){if(!(e=a.call(s.src,s.listener,e)))return e},(n.proxy=r).src=e,r.listener=n,e.addEventListener)it||(o=u),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(_t(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function wt(e,t,n,r,o){if(f(t))for(var i=0;i<t.length;i++)wt(e,t[i],n,r,o);else n=kt(n),e&&e[ct]?Pt(e,t,n,d(r)?!!r.capture:!!r,o):bt(e,t,n,!0,r,o)}function Et(e,t,n,r,o){if(f(t))for(var i=0;i<t.length;i++)Et(e,t[i],n,r,o);else r=d(r)?!!r.capture:!!r,n=kt(n),e&&e[ct]?(e=e.o,(t=String(t).toString())in e.a&&-1<(n=yt(i=e.a[t],n,r,o))&&(ht(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.a[t],e.b--))):e&&(e=Ct(e))&&(t=e.a[t.toString()],e=-1,t&&(e=yt(t,n,r,o)),(n=-1<e?t[e]:null)&&Tt(n))}function Tt(e){if("number"!=typeof e&&e&&!e.oa){var t=e.src;if(t&&t[ct])dt(t.o,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_t(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ct(t))?(dt(n,e),0==n.b&&(n.src=null,t[mt]=null)):ht(e)}}}function _t(e){return e in vt?vt[e]:vt[e]="on"+e}function St(e,t,n,r){var o=!0;if((e=Ct(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var i=t[e];i&&i.capture==n&&!i.oa&&(i=It(i,r),o=o&&!1!==i)}return o}function It(e,t){var n=e.listener,r=e.Ma||e.src;return e.Ia&&Tt(e),n.call(r,t)}function At(e,t){if(e.oa)return!0;if(rt)return It(e,new st(t,this));if(!t)e:{t=["window","event"];for(var n=r,o=0;o<t.length;o++)if(null==(n=n[t[o]])){t=null;break e}t=n}if(t=new st(o=t,this),n=!0,!(o.keyCode<0||null!=o.returnValue)){e:{var i=!1;if(0==o.keyCode)try{o.keyCode=-1;break e}catch(e){i=!0}(i||null==o.returnValue)&&(o.returnValue=!0)}for(o=[],i=t.b;i;i=i.parentNode)o.push(i);for(e=e.type,i=o.length-1;0<=i;i--){t.b=o[i];var a=St(o[i],e,!0,t);n=n&&a}for(i=0;i<o.length;i++)t.b=o[i],a=St(o[i],e,!1,t),n=n&&a}return n}function Ct(e){return(e=e[mt])instanceof pt?e:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function kt(e){return p(e)?e:(e[Ot]||(e[Ot]=function(t){return e.handleEvent(t)}),e[Ot])}function xt(){Me.call(this),this.o=new pt(this),(this.Rb=this).Wa=null}function Rt(e,t,n,r,o){e.o.add(String(t),n,!1,r,o)}function Pt(e,t,n,r,o){e.o.add(String(t),n,!0,r,o)}function Nt(e,t,n,r){if(!(t=e.o.a[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.oa&&a.capture==n){var s=a.listener,u=a.Ma||a.src;a.Ia&&dt(e.o,a),o=!1!==s.call(u,r)&&o}}return o&&0!=r.Kb}function Dt(e,t,n){if(p(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:r.setTimeout(e,t||0)}function Lt(e){var t=null;return new ye(function(n,r){-1==(t=Dt(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).s(function(e){throw r.clearTimeout(t),e})}function Mt(e){if(e.S&&"function"==typeof e.S)return e.S();if(o(e))return e.split("");if(h(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function jt(e){if(e.U&&"function"==typeof e.U)return e.U();if(!e.S||"function"!=typeof e.S){if(h(e)||o(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Ut(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ut)for(n=e.U(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ft(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];qt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var o={};for(n=t=0;t<e.a.length;)qt(o,r=e.a[t])||(o[e.a[n++]=r]=1),t++;e.a.length=n}}function qt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}T(xt,Me),xt.prototype[ct]=!0,xt.prototype.addEventListener=function(e,t,n,r){gt(this,e,t,n,r)},xt.prototype.removeEventListener=function(e,t,n,r){Et(this,e,t,n,r)},xt.prototype.dispatchEvent=function(e){var t,n=this.Wa;if(n)for(t=[];n;n=n.Wa)t.push(n);n=this.Rb;var r=e.type||e;if(o(e))e=new at(e,n);else if(e instanceof at)e.target=e.target||n;else{var i=e;se(e=new at(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var s=e.b=t[a];i=Nt(s,r,!0,e)&&i}if(i=Nt(s=e.b=n,r,!0,e)&&i,i=Nt(s,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Nt(s=e.b=t[a],r,!1,e)&&i;return i},xt.prototype.va=function(){if(xt.pb.va.call(this),this.o){var e,t=this.o;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ht(n[r]);delete t.a[e],t.b--}}this.Wa=null},(e=Ut.prototype).S=function(){Ft(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.U=function(){return Ft(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return qt(this.b,e)?this.b[e]:t},e.set=function(e,t){qt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.U(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);e.call(t,i,o,this)}};var Bt=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vt(e,t){if(this.b=this.o=this.c="",this.i=null,this.h=this.g="",this.f=!1,e instanceof Vt){this.f=void 0!==t?t:e.f,Wt(this,e.c),this.o=e.o,this.b=e.b,zt(this,e.i),this.g=e.g,t=e.a;var n=new on;n.c=t.c,t.a&&(n.a=new Ut(t.a),n.b=t.b),Kt(this,n),this.h=e.h}else e&&(n=String(e).match(Bt))?(this.f=!!t,Wt(this,n[1]||"",!0),this.o=Yt(n[2]||""),this.b=Yt(n[3]||"",!0),zt(this,n[4]),this.g=Yt(n[5]||"",!0),Kt(this,n[6]||"",!0),this.h=Yt(n[7]||"")):(this.f=!!t,this.a=new on(null,this.f))}function Wt(e,t,n){e.c=n?Yt(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function zt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.i=t}else e.i=null}function Kt(e,t,n){var r,o;t instanceof on?(e.a=t,r=e.a,(o=e.f)&&!r.f&&(an(r),r.c=null,r.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(un(this,t),ln(this,n,e))},r)),r.f=o):(n||(t=$t(t,nn)),e.a=new on(t,e.f))}function Ht(e,t,n){e.a.set(t,n)}function Gt(e,t){return e.a.get(t)}function Qt(e){return e instanceof Vt?new Vt(e):new Vt(e,void 0)}function Xt(e,t){var n=new Vt(null,void 0);return Wt(n,"https"),e&&(n.b=e),t&&(n.g=t),n}function Yt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function $t(e,t,n){return o(e)?(e=encodeURI(e).replace(t,Jt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Vt.prototype.toString=function(){var e=[],t=this.c;t&&e.push($t(t,Zt,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push($t(t,Zt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push($t(n,"/"==n.charAt(0)?tn:en,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.h)&&e.push("#",$t(n,rn)),e.join("")};var Zt=/[#\/\?@]/g,en=/[#\?:]/g,tn=/[#\?]/g,nn=/[#\?@]/g,rn=/#/g;function on(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function an(e){e.a||(e.a=new Ut,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function sn(e){var t=jt(e);if(void 0===t)throw Error("Keys are undefined");var n=new on(null,void 0);e=Mt(e);for(var r=0;r<t.length;r++){var o=t[r],i=e[r];f(i)?ln(n,o,i):n.add(o,i)}return n}function un(e,t){an(e),t=fn(e,t),qt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,qt((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Ft(e)))}function cn(e,t){return an(e),t=fn(e,t),qt(e.a.b,t)}function ln(e,t,n){un(e,t),0<n.length&&(e.c=null,e.a.set(fn(e,t),q(n)),e.b+=n.length)}function fn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(e=on.prototype).add=function(e,t){an(this),this.c=null,e=fn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){an(this),this.a.forEach(function(n,r){N(n,function(n){e.call(t,n,r,this)},this)},this)},e.U=function(){an(this);for(var e=this.a.S(),t=this.a.U(),n=[],r=0;r<t.length;r++)for(var o=e[r],i=0;i<o.length;i++)n.push(t[r]);return n},e.S=function(e){an(this);var t=[];if(o(e))cn(this,e)&&(t=F(t,this.a.get(fn(this,e))));else{e=this.a.S();for(var n=0;n<e.length;n++)t=F(t,e[n])}return t},e.set=function(e,t){return an(this),this.c=null,cn(this,e=fn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.S(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.U(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.S(r);for(var i=0;i<r.length;i++){var a=o;""!==r[i]&&(a+="="+encodeURIComponent(String(r[i]))),e.push(a)}}return this.c=e.join("&")};var hn=!We||9<=Number(Je);function pn(e,t){this.a=e===mn&&t||"",this.b=yn}function dn(e){return e instanceof pn&&e.constructor===pn&&e.b===yn?e.a:(A("expected object of type Const, got '"+e+"'"),"type_error:Const")}pn.prototype.na=!0,pn.prototype.ma=function(){return this.a},pn.prototype.toString=function(){return"Const{"+this.a+"}"};var yn={},mn={};function vn(){this.a="",this.b=Tn}function gn(e){return e instanceof vn&&e.constructor===vn&&e.b===Tn?e.a:(A("expected object of type TrustedResourceUrl, got '"+e+"' of type "+c(e)),"type_error:TrustedResourceUrl")}function bn(e,t){var n,r,o=dn(e);if(!En.test(o))throw Error("Invalid TrustedResourceUrl format: "+o);return e=o.replace(wn,function(e,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+o+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[n])instanceof pn?dn(e):encodeURIComponent(String(e))}),n=e,(r=new vn).a=n,r}vn.prototype.na=!0,vn.prototype.ma=function(){return this.a.toString()},vn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var wn=/%{(\w+)}/g,En=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^\/\\]|[^:\/\\%]+\/|[^:\/\\%]*[?#]|about:blank#)/i,Tn={};function _n(){this.a="",this.b=Cn}function Sn(e){return e instanceof _n&&e.constructor===_n&&e.b===Cn?e.a:(A("expected object of type SafeUrl, got '"+e+"' of type "+c(e)),"type_error:SafeUrl")}_n.prototype.na=!0,_n.prototype.ma=function(){return this.a.toString()},_n.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var In=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function An(e){return e instanceof _n?e:(e="object"==typeof e&&e.na?e.ma():String(e),In.test(e)||(e="about:invalid#zClosurez"),On(e))}var Cn={};function On(e){var t=new _n;return t.a=e,t}function kn(){this.a="",this.b=xn}On("about:blank"),kn.prototype.na=!0,kn.prototype.ma=function(){return this.a.toString()},kn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var xn={};function Rn(e){var t=new kn;return t.a=e,t}function Pn(e){var t=document;return o(e)?t.getElementById(e):e}function Nn(e,t){te(t,function(t,n){t&&"object"==typeof t&&t.na&&(t=t.ma()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Dn.hasOwnProperty(n)?e.setAttribute(Dn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}Rn("<!DOCTYPE html>"),Rn(""),Rn("<br>");var Dn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ln(e){if(e&&"number"==typeof e.length){if(d(e))return"function"==typeof e.item||"string"==typeof e.item;if(p(e))return"function"==typeof e.item}return!1}function Mn(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(f(n)){var o=n;n=o.length,r.push("[");for(var i="",a=0;a<n;a++)r.push(i),e(t,o[a],r),i=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(o in r.push("{"),i="",n)Object.prototype.hasOwnProperty.call(n,o)&&"function"!=typeof(a=n[o])&&(r.push(i),qn(o,r),r.push(":"),e(t,a,r),i=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":qn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new jn,e,t),t.join("")}function jn(){}var Un={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Fn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function qn(e,t){t.push('"',e.replace(Fn,function(e){var t=Un[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Un[e]=t),t}),'"')}function Bn(){var e=ar();return We&&!!Je&&11==Je||/Edge\/\d+/.test(e)}function Vn(){return r.window&&r.window.location.href||self&&self.location&&self.location.href||""}function Wn(e,t){t=t||r.window;var n="about:blank";e&&(n=Sn(An(e)).toString()),t.location.href=n}function zn(e){return!!((e=(e||ar()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function Kn(e){e=e||r.window;try{e.close()}catch(e){}}function Hn(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var o=(window.screen.availHeight-n)/2,i=(window.screen.availWidth-t)/2;for(s in t={width:t,height:n,top:0<o?o:0,left:0<i?i:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=ar().toLowerCase(),r&&(t.target=r,Y(n,"crios/")&&(t.target="_blank")),rr(ar())==tr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof _n?n:An(void 0!==n.href?n.href:String(n)),n=e.target||n.target,o=[],e)switch(s){case"width":case"height":case"top":case"left":o.push(s+"="+e[s]);break;case"target":case"noopener":case"noreferrer":break;default:o.push(s+"="+(e[s]?1:0))}var a,s=o.join(",");if((ee("iPhone")&&!ee("iPod")&&!ee("iPad")||ee("iPad")||ee("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(s=r.document.createElement("A"),t instanceof _n||t instanceof _n||(t="object"==typeof t&&t.na?t.ma():String(t),In.test(t)||(t="about:invalid#zClosurez"),t=On(t)),s.href=Sn(t),s.setAttribute("target",n),e.noreferrer&&s.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(e),s={}):e.noreferrer?(s=r.open("",n,s),e=Sn(t).toString(),s&&(Ke&&Y(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),s.opener=null,e=Rn('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ce(e)+'">'),s.document.write((a=e)instanceof kn&&a.constructor===kn&&a.b===xn?a.a:(A("expected object of type SafeHtml, got '"+a+"' of type "+c(a)),"type_error:SafeHtml")),s.document.close())):(s=r.open(Sn(t).toString(),n,s))&&e.noopener&&(s.opener=null),s)try{s.focus()}catch(e){}return s}var Gn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qn=/^[^@]+@[^@]+$/;function Xn(){var e=null;return new ye(function(t){"complete"==r.document.readyState?t():(e=function(){t()},wt(window,"load",e))}).s(function(t){throw Et(window,"load",e),t})}function Yn(e){return e=e||ar(),!("file:"!==fr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function $n(){var e=r.window;try{return!(!e||e==e.top)}catch(e){return!1}}function Jn(){return void 0!==r.WorkerGlobalScope&&"function"==typeof r.importScripts}function Zn(){return t.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.INTERNAL.hasOwnProperty("node")?"Node":Jn()?"Worker":"Browser"}function er(){var e=Zn();return"ReactNative"===e||"Node"===e}var tr="Firefox",nr="Chrome";function rr(e){var t=e.toLowerCase();return Y(t,"opera/")||Y(t,"opr/")||Y(t,"opios/")?"Opera":Y(t,"iemobile")?"IEMobile":Y(t,"msie")||Y(t,"trident/")?"IE":Y(t,"edge/")?"Edge":Y(t,"firefox/")?tr:Y(t,"silk/")?"Silk":Y(t,"blackberry")?"Blackberry":Y(t,"webos")?"Webos":!Y(t,"safari/")||Y(t,"chrome/")||Y(t,"crios/")||Y(t,"android")?!Y(t,"chrome/")&&!Y(t,"crios/")||Y(t,"edge/")?Y(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":nr:"Safari"}var or={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function ir(e,t){t=t||[];var n,r=[],o={};for(n in or)o[or[n]]=!0;for(n=0;n<t.length;n++)void 0!==o[t[n]]&&(delete o[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Zn())?r=rr(o=ar()):"Worker"===r&&(r=rr(o=ar())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function ar(){return r.navigator&&r.navigator.userAgent||""}function sr(e,t){e=e.split("."),t=t||r;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function ur(){try{var e=r.localStorage,t=mr();if(e)return e.setItem(t,"1"),e.removeItem(t),!Bn()||!!r.indexedDB}catch(e){return Jn()&&!!r.indexedDB}return!1}function cr(){return(lr()||"chrome-extension:"===fr()||Yn())&&!er()&&ur()&&!Jn()}function lr(){return"http:"===fr()||"https:"===fr()}function fr(){return r.location&&r.location.protocol||null}function hr(e){return!zn(e=e||ar())&&rr(e)!=tr}function pr(e){return void 0===e?null:Mn(e)}function dr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function yr(e){if(null!==e)return JSON.parse(e)}function mr(e){return e||Math.floor(1e9*Math.random()).toString()}function vr(e){return"Safari"!=rr(e=e||ar())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function gr(){var e=r.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function br(e,t){if(t<e)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=ar(),t=Zn(),this.b=zn(e)||"ReactNative"===t}function wr(){var e=r.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Er(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Tr(){return!(!sr("fireauth.oauthhelper",r)&&!sr("fireauth.iframe",r))}br.prototype.get=function(){var e=r.navigator;return!e||"boolean"!=typeof e.onLine||!lr()&&"chrome-extension:"!==fr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var _r,Sr={};function Ir(e){Sr[e]||(Sr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Ar={};Object.defineProperty(Ar,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ar,"abcd",{configurable:!0,enumerable:!0,value:2}),_r=2==Ar.abcd}catch(e){_r=!1}function Cr(e,t,n){_r?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Or(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Cr(e,n,t[n])}function kr(e){var t={};return Or(t,e),t}function xr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Cr(t,n,xr(e[n]));return t}function Rr(e){var t={},n=e[Nr],r=e[Dr];if(!(e=e[Lr])||e!=Pr&&!n)throw Error("Invalid provider user info!");t[jr]=r||null,t[Mr]=n||null,Cr(this,Fr,e),Cr(this,Ur,xr(t))}var Pr="EMAIL_SIGNIN",Nr="email",Dr="newEmail",Lr="requestType",Mr="email",jr="fromEmail",Ur="data",Fr="operation";function qr(e,t){this.code=Vr+e,this.message=t||Wr[e]||""}function Br(e){var t=e&&e.code;return t?new qr(t.substring(Vr.length),e.message):null}T(qr,Error),qr.prototype.w=function(){return{code:this.code,message:this.message}},qr.prototype.toJSON=function(){return this.w()};var Vr="auth/",Wr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function zr(e){var t=e[Xr];if(void 0===t)throw new qr("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new qr("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Kr];if(n&&"object"==typeof n){t=n[Jr];var r=n[Yr];if(n=n[$r],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new qr("argument-error",Yr+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new qr("argument-error",$r+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new qr("argument-error",Jr+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new qr("missing-android-pkg-name")}}else if(void 0!==n)throw new qr("argument-error",Kr+" property must be a non null object when specified.");if(this.f=null,(t=e[Qr])&&"object"==typeof t){if("string"==typeof(t=t[Zr])&&t.length)this.f=t;else if(void 0!==t)throw new qr("argument-error",Zr+" property must be a non empty string when specified.")}else if(void 0!==t)throw new qr("argument-error",Qr+" property must be a non null object when specified.");if(void 0!==(t=e[Gr])&&"boolean"!=typeof t)throw new qr("argument-error",Gr+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Hr])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new qr("argument-error",Hr+" property must be a non empty string when specified.");this.i=e||null}var Kr="android",Hr="dynamicLinkDomain",Gr="handleCodeInApp",Qr="iOS",Xr="url",Yr="installApp",$r="minimumVersion",Jr="packageName",Zr="bundleId";function eo(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var to=null,no=null;function ro(e){this.c=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function oo(e){return(e=io(e))&&e.sub&&e.iss&&e.aud&&e.exp?new ro(e):null}function io(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(function(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),o=no[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!to){to={},no={};for(var e=0;e<65;e++)to[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),62<=(no[to[e]]=e)&&(no["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var r=0;;){var o=n(-1),i=n(0),a=n(64),s=n(64);if(64===s&&-1===o)break;t(o<<2|i>>4),64!=a&&(t(i<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,function(e){t+=String.fromCharCode(e)}),t}(e))}catch(e){}return null}ro.prototype.f=function(){return this.b};var ao,so={bd:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",jb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function uo(e){for(var t in so)if(so[t].id===e)return{firebaseEndpoint:(e=so[t]).bb,secureTokenEndpoint:e.jb};return null}ao=uo("__EID__")?"__EID__":void 0;var co="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),lo=["client_id","response_type","scope","redirect_uri","state"],fo={Xc:{Na:"locale",Ba:500,Aa:600,Oa:"facebook.com",ib:lo},Zc:{Na:null,Ba:500,Aa:620,Oa:"github.com",ib:lo},$c:{Na:"hl",Ba:515,Aa:680,Oa:"google.com",ib:lo},fd:{Na:"lang",Ba:485,Aa:705,Oa:"twitter.com",ib:co}};function ho(e){for(var t in fo)if(fo[t].Oa==e)return fo[t];return null}function po(e){var t={};t["facebook.com"]=bo,t["google.com"]=Eo,t["github.com"]=wo,t["twitter.com"]=To;var n=e&&e[mo];try{if(n)return t[n]?new t[n](e):new go(e);if(void 0!==e[yo])return new vo(e)}catch(e){}return null}var yo="idToken",mo="providerId";function vo(e){var t=e[mo];if(!t&&e[yo]){var n=oo(e[yo]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Cr(this,"providerId",t),Cr(this,"isNewUser",n)}function go(e){vo.call(this,e),Cr(this,"profile",xr((e=yr(e.rawUserInfo||"{}"))||{}))}function bo(e){if(go.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function wo(e){if(go.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Cr(this,"username",this.profile&&this.profile.login||null)}function Eo(e){if(go.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function To(e){if(go.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Cr(this,"username",e.screenName||null)}function _o(e){this.a=Qt(e)}function So(e){var t=Qt(e),n=Gt(t,"link"),r=Gt(Qt(n),"link");return Gt(Qt(t=Gt(t,"deep_link_id")),"link")||t||r||n||e}function Io(){}function Ao(e,t){return e.then(function(e){if(e[pa]){var n=oo(e[pa]);if(!n||t!=n.c)throw new qr("user-mismatch");return e}throw new qr("user-mismatch")}).s(function(e){throw e&&e.code&&e.code==Vr+"user-not-found"?new qr("user-mismatch"):e})}function Co(e,t){if(!t)throw new qr("internal-error","failed to construct a credential");this.a=t,Cr(this,"providerId",e),Cr(this,"signInMethod",e)}function Oo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function ko(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Co(e.providerId,e.pendingToken)}catch(e){}return null}function xo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Cr(this,"idToken",t.idToken),t.accessToken&&Cr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Cr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new qr("internal-error","failed to construct a credential");Cr(this,"accessToken",t.oauthToken),Cr(this,"secret",t.oauthTokenSecret)}Cr(this,"providerId",e),Cr(this,"signInMethod",n)}function Ro(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:sn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function Po(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new xo(e.providerId,t,e.signInMethod)}catch(e){}}return null}function No(e,t){this.Fc=t||[],Or(this,{providerId:e,isOAuthProvider:!0}),this.zb={},this.eb=(ho(e)||{}).Na||null,this.ab=null}function Do(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new qr("argument-error",'SAML provider IDs must be prefixed with "saml."');No.call(this,e,[])}function Lo(e){No.call(this,e,lo),this.a=[]}function Mo(){Lo.call(this,"facebook.com")}function jo(e){if(!e)throw new qr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return d(e)&&(t=e.accessToken),(new Mo).credential({accessToken:t})}function Uo(){Lo.call(this,"github.com")}function Fo(e){if(!e)throw new qr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return d(e)&&(t=e.accessToken),(new Uo).credential({accessToken:t})}function qo(){Lo.call(this,"google.com"),this.ua("profile")}function Bo(e,t){var n=e;return d(e)&&(n=e.idToken,t=e.accessToken),(new qo).credential({idToken:n,accessToken:t})}function Vo(){No.call(this,"twitter.com",co)}function Wo(e,t){var n=e;if(d(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new qr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new xo("twitter.com",n,"twitter.com")}function zo(e,t,n){this.a=e,this.c=t,Cr(this,"providerId","password"),Cr(this,"signInMethod",n===Ho.EMAIL_LINK_SIGN_IN_METHOD?Ho.EMAIL_LINK_SIGN_IN_METHOD:Ho.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ko(e){return e&&e.email&&e.password?new zo(e.email,e.password,e.signInMethod):null}function Ho(){Or(this,{providerId:"password",isOAuthProvider:!1})}function Go(e,t){if(!(t=Qo(t)))throw new qr("argument-error","Invalid email link!");return new zo(e,t,Ho.EMAIL_LINK_SIGN_IN_METHOD)}function Qo(e){var t=Gt((e=new _o(e=So(e))).a,"oobCode")||null;return"signIn"===(Gt(e.a,"mode")||null)&&t?t:null}function Xo(e){if(!(e.Ua&&e.Ta||e.Fa&&e.$))throw new qr("internal-error");this.a=e,Cr(this,"providerId","phone"),Cr(this,"signInMethod","phone")}function Yo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return N(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){e[n]&&(t[n]=e[n])}),new Xo(t)}return null}function $o(e){return e.a.Fa&&e.a.$?{temporaryProof:e.a.Fa,phoneNumber:e.a.$}:{sessionInfo:e.a.Ua,code:e.a.Ta}}function Jo(e){try{this.a=e||t.auth()}catch(e){throw new qr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Or(this,{providerId:"phone",isOAuthProvider:!1})}function Zo(e,t){if(!e)throw new qr("missing-verification-id");if(!t)throw new qr("missing-verification-code");return new Xo({Ua:e,Ta:t})}function ei(e){if(e.temporaryProof&&e.phoneNumber)return new Xo({Fa:e.temporaryProof,$:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,o=e&&e.nonce,i=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Bo(i,n);case"facebook.com":return jo(n);case"github.com":return Fo(n);case"twitter.com":return Wo(n,r);default:return n||r||i||a?a?0==t.indexOf("saml.")?new Co(t,a):new xo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Lo(t).credential({idToken:i,accessToken:n,rawNonce:o}):null}}catch(e){return null}}function ti(e){if(!e.isOAuthProvider)throw new qr("invalid-oauth-provider")}function ni(e,t,n,r,o,i){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.h=i||null,this.a=o||null,!this.g&&!this.a)throw new qr("invalid-auth-event");if(this.g&&this.a)throw new qr("invalid-auth-event");if(this.g&&!this.f)throw new qr("invalid-auth-event")}function ri(e){return(e=e||{}).type?new ni(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Br(e.error),e.postBody):null}function oi(){this.b=null,this.a=[]}T(go,vo),T(bo,go),T(wo,go),T(Eo,go),T(To,go),Co.prototype.la=function(e){return Ra(e,Oo(this))},Co.prototype.b=function(e,t){var n=Oo(this);return n.idToken=t,Pa(e,n)},Co.prototype.f=function(e,t){return Ao(Na(e,Oo(this)),t)},Co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},xo.prototype.la=function(e){return Ra(e,Ro(this))},xo.prototype.b=function(e,t){var n=Ro(this);return n.idToken=t,Pa(e,n)},xo.prototype.f=function(e,t){return Ao(Na(e,Ro(this)),t)},xo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},No.prototype.Da=function(e){return this.zb=re(e),this},T(Do,No),T(Lo,No),Lo.prototype.ua=function(e){return M(this.a,e)||this.a.push(e),this},Lo.prototype.Fb=function(){return q(this.a)},Lo.prototype.credential=function(e,t){var n;if(!(n=d(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new qr("argument-error","credential failed: must provide the ID token and/or the access token.");return new xo(this.providerId,n,this.providerId)},T(Mo,Lo),Cr(Mo,"PROVIDER_ID","facebook.com"),Cr(Mo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(Uo,Lo),Cr(Uo,"PROVIDER_ID","github.com"),Cr(Uo,"GITHUB_SIGN_IN_METHOD","github.com"),T(qo,Lo),Cr(qo,"PROVIDER_ID","google.com"),Cr(qo,"GOOGLE_SIGN_IN_METHOD","google.com"),T(Vo,No),Cr(Vo,"PROVIDER_ID","twitter.com"),Cr(Vo,"TWITTER_SIGN_IN_METHOD","twitter.com"),zo.prototype.la=function(e){return this.signInMethod==Ho.EMAIL_LINK_SIGN_IN_METHOD?us(e,Ba,{email:this.a,oobCode:this.c}):us(e,os,{email:this.a,password:this.c})},zo.prototype.b=function(e,t){return this.signInMethod==Ho.EMAIL_LINK_SIGN_IN_METHOD?us(e,Va,{idToken:t,email:this.a,oobCode:this.c}):us(e,Ja,{idToken:t,email:this.a,password:this.c})},zo.prototype.f=function(e,t){return Ao(this.la(e),t)},zo.prototype.w=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Or(Ho,{PROVIDER_ID:"password"}),Or(Ho,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Or(Ho,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Xo.prototype.la=function(e){return e.Va($o(this))},Xo.prototype.b=function(e,t){var n=$o(this);return n.idToken=t,us(e,as,n)},Xo.prototype.f=function(e,t){var n=$o(this);return n.operation="REAUTH",Ao(e=us(e,ss,n),t)},Xo.prototype.w=function(){var e={providerId:"phone"};return this.a.Ua&&(e.verificationId=this.a.Ua),this.a.Ta&&(e.verificationCode=this.a.Ta),this.a.Fa&&(e.temporaryProof=this.a.Fa),this.a.$&&(e.phoneNumber=this.a.$),e},Jo.prototype.Va=function(e,t){var n=this.a.b;return Te(t.verify()).then(function(r){if(!o(r))throw new qr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return(i=n,a={phoneNumber:e,recaptchaToken:r},us(i,Ya,a)).then(function(e){return"function"==typeof t.reset&&t.reset(),e},function(e){throw"function"==typeof t.reset&&t.reset(),e});default:throw new qr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}var i,a})},Or(Jo,{PROVIDER_ID:"phone"}),Or(Jo,{PHONE_SIGN_IN_METHOD:"phone"}),ni.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.i&&e.push(this.i),e.join("-")},ni.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,error:this.a&&this.a.w()}};var ii,ai=null;function si(e){var t="unauthorized-domain",n=void 0,r=Qt(e);e=r.b,"chrome-extension"==(r=r.c)?n=ue("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=ue("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",qr.call(this,t,n)}function ui(e,t,n){qr.call(this,e,n),(e=t||{}).Ab&&Cr(this,"email",e.Ab),e.$&&Cr(this,"phoneNumber",e.$),e.credential&&Cr(this,"credential",e.credential)}function ci(e){if(e.code){var t=e.code||"";0==t.indexOf(Vr)&&(t=t.substring(Vr.length));var n={credential:ei(e)};if(e.email)n.Ab=e.email;else if(e.phoneNumber)n.$=e.phoneNumber;else if(!n.credential)return new qr(t,e.message||void 0);return new ui(t,n,e.message)}return null}function li(){}function fi(e){return e.c||(e.c=e.b())}function hi(){}function pi(e){if(e.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return e.f;for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function di(){}function yi(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.fc,this),this.a.onerror=b(this.Gb,this),this.a.onprogress=b(this.gc,this),this.a.ontimeout=b(this.kc,this)}function mi(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function vi(e,t,n){this.reset(e,t,n,void 0,void 0)}function gi(e){this.f=e,this.b=this.c=this.a=null}function bi(e,t){this.name=e,this.value=t}oi.prototype.subscribe=function(e){var t=this;this.a.push(e),this.b||(this.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=sr("universalLinks.subscribe",r))&&e(null,this.b))},oi.prototype.unsubscribe=function(e){U(this.a,function(t){return t==e})},T(si,qr),T(ui,qr),ui.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber);var t=this.credential&&this.credential.w();return t&&se(e,t),e},ui.prototype.toJSON=function(){return this.w()},li.prototype.c=null,T(hi,li),hi.prototype.a=function(){var e=pi(this);return e?new ActiveXObject(e):new XMLHttpRequest},hi.prototype.b=function(){var e={};return pi(this)&&(e[0]=!0,e[1]=!0),e},ii=new hi,T(di,li),di.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new yi;throw Error("Unsupported browser")},di.prototype.b=function(){return{}},(e=yi.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,mi(this,4)},e.Gb=function(){this.status=500,this.response=this.responseText="",mi(this,4)},e.kc=function(){this.Gb()},e.gc=function(){this.status=200,mi(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},vi.prototype.a=null,vi.prototype.reset=function(e,t,n,r,o){delete this.a},bi.prototype.toString=function(){return this.name};var wi=new bi("SEVERE",1e3),Ei=new bi("WARNING",900),Ti=new bi("CONFIG",700),_i=new bi("FINE",500);gi.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(A("Root logger has no level set."),null)}(this).value)for(p(t)&&(t=t()),e=new vi(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Si,Ii={},Ai=null;function Ci(e){var t;if(Ai||(Ai=new gi(""),(Ii[""]=Ai).c=Ti),!(t=Ii[e])){t=new gi(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=Ci(e.substr(0,n))).b||(n.b={}),(n.b[r]=t).a=n,Ii[e]=t}return t}function Oi(e,t){e&&e.log(_i,t,void 0)}function ki(e){this.f=e}function xi(e){xt.call(this),this.u=e,this.readyState=Ri,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Ci("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}T(ki,li),ki.prototype.a=function(){return new xi(this.f)},ki.prototype.b=(Si={},function(){return Si}),T(xi,xt);var Ri=0;function Pi(e){e.c.read().then(e.ec.bind(e)).catch(e.La.bind(e))}function Ni(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,Di(e)}function Di(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Li(e){xt.call(this),this.headers=new Ut,this.D=e||null,this.c=!1,this.A=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.m=Mi,this.v=this.O=!1}(e=xi.prototype).open=function(e,t){if(this.readyState!=Ri)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,Di(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.g,t)).then(this.jc.bind(this),this.La.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ni(this,!1)),this.readyState=Ri},e.jc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,Di(this)),this.a&&(this.readyState=3,Di(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.hc.bind(this),this.La.bind(this)):void 0!==r.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,Pi(this)):e.text().then(this.ic.bind(this),this.La.bind(this)))))},e.ec=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Ni(this,!0):Di(this),3==this.readyState&&Pi(this)}},e.ic=function(e){this.a&&(this.response=this.responseText=e,Ni(this,!0))},e.hc=function(e){this.a&&(this.response=e,Ni(this,!0))},e.La=function(e){var t=this.h;t&&t.log(Ei,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&Ni(this,!0)},e.setRequestHeader=function(e,t){this.i.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(Ei,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(Ei,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},T(Li,xt);var Mi="";Li.prototype.b=Ci("goog.net.XhrIo");var ji=/^https?$/i,Ui=["POST","PUT"];function Fi(e){return"content-type"==e.toLowerCase()}function qi(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Bi(e),Wi(e)}function Bi(e){e.G||(e.G=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Vi(e){if(e.c&&void 0!==n)if(e.A[1]&&4==Ki(e)&&2==Hi(e))Oi(e.b,Gi(e,"Local request error detected and ignored"));else if(e.i&&4==Ki(e))Dt(e.Jb,0,e);else if(e.dispatchEvent("readystatechange"),4==Ki(e)){Oi(e.b,Gi(e,"Request complete")),e.c=!1;try{var t,o=Hi(e);e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(t=i)){var a;if(a=0===o){var s=String(e.l).match(Bt)[1]||null;if(!s&&r.self&&r.self.location){var u=r.self.location.protocol;s=u.substr(0,u.length-1)}a=!ji.test(s?s.toLowerCase():"")}t=a}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Ki(e)?e.a.statusText:""}catch(t){Oi(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+Hi(e)+"]",Bi(e)}}finally{Wi(e)}}}function Wi(e,t){if(e.a){zi(e);var n=e.a,r=e.A[0]?u:null;e.a=null,e.A=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(wi,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function zi(e){e.a&&e.v&&(e.a.ontimeout=null),e.u&&(r.clearTimeout(e.u),e.u=null)}function Ki(e){return e.a?e.a.readyState:0}function Hi(e){try{return 2<Ki(e)?e.a.status:-1}catch(e){return-1}}function Gi(e,t){return t+" ["+e.N+" "+e.l+" "+Hi(e)+"]"}function Qi(e){var t=ia;this.g=[],this.v=t,this.u=e||null,this.f=this.a=!1,this.c=void 0,this.l=this.A=this.i=!1,this.h=0,this.b=null,this.o=0}function Xi(e,t,n){e.a=!0,e.c=n,e.f=!t,Zi(e)}function Yi(e){if(e.a){if(!e.l)throw new ea(e);e.l=!1}}function $i(e,t,n,r){e.g.push([t,n,r]),e.a&&Zi(e)}function Ji(e){return L(e.g,function(e){return p(e[1])})}function Zi(e){if(e.h&&e.a&&Ji(e)){var t=e.h,n=ra[t];n&&(r.clearTimeout(n.a),delete ra[t]),e.h=0}e.b&&(e.b.o--,delete e.b),t=e.c;for(var o=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),a=i[0],s=i[1];if(i=i[2],a=e.f?s:a)try{var u=a.call(i||e.u,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(_(t)||"function"==typeof r.Promise&&t instanceof r.Promise)&&(o=!0,e.i=!0)}catch(o){t=o,e.f=!0,Ji(e)||(n=!0)}}e.c=t,o&&(u=b(e.m,e,!0),o=b(e.m,e,!1),t instanceof Qi?($i(t,u,o),t.A=!0):t.then(u,o)),n&&(t=new na(t),ra[t.a]=t,e.h=t.a)}function ea(){S.call(this)}function ta(){S.call(this)}function na(e){this.a=r.setTimeout(b(this.c,this),0),this.b=e}(e=Li.prototype).Ga=function(){void 0!==n&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Oi(this.b,Gi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(Oi(this.b,Gi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Wi(this))},e.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Wi(this,!0)),Li.pb.va.call(this)},e.Jb=function(){this.qa||(this.I||this.i||this.f?Vi(this):this.yc())},e.yc=function(){Vi(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Mi:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(wi,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Oi(this.b,"Can not get response: "+e.message),null}},Qi.prototype.cancel=function(e){if(this.a)this.c instanceof Qi&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.o--,t.o<=0&&t.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(e=new ta(this),Yi(this),Xi(this,!1,e))}},Qi.prototype.m=function(e,t){this.i=!1,Xi(this,e,t)},Qi.prototype.then=function(e,t,n){var r,o,i=new ye(function(e,t){r=e,o=t});return $i(this,r,function(e){e instanceof ta?i.cancel():o(e)}),i.then(e,t,n)},Qi.prototype.$goog_Thenable=!0,T(ea,S),ea.prototype.message="Deferred has already fired",ea.prototype.name="AlreadyCalledError",T(ta,S),ta.prototype.message="Deferred was canceled",ta.prototype.name="CanceledError",na.prototype.c=function(){throw delete ra[this.a],this.b};var ra={};function oa(e){var t,n,o,i,u,c=document,l=gn(e).toString(),f=document.createElement("SCRIPT"),h={Lb:f,Ga:void 0},p=new Qi(h);return t=window.setTimeout(function(){aa(f,!0);var e=new ca(ua,"Timeout reached for loading script "+l);Yi(p),Xi(p,!1,e)},5e3),h.Ga=t,f.onload=f.onreadystatechange=function(){f.readyState&&"loaded"!=f.readyState&&"complete"!=f.readyState||(aa(f,!1,t),Yi(p),Xi(p,!0,null))},f.onerror=function(){aa(f,!0,t);var e=new ca(sa,"Error while loading script "+l);Yi(p),Xi(p,!1,e)},se(h={},{type:"text/javascript",charset:"UTF-8"}),Nn(f,h),o=e,(n=f).src=gn(o),null===s&&(s=(o=(o=r.document).querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&a.test(o)?o:""),(o=s)&&n.setAttribute("nonce",o),(i=c,(u=(i||document).getElementsByTagName("HEAD"))&&0!=u.length?u[0]:i.documentElement).appendChild(f),p}function ia(){if(this&&this.Lb){var e=this.Lb;e&&"SCRIPT"==e.tagName&&aa(e,!0,this.Ga)}}function aa(e,t,n){null!=n&&r.clearTimeout(n),e.onload=u,e.onerror=u,e.onreadystatechange=u,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var sa=0,ua=1;function ca(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),S.call(this,n),this.code=e}function la(e){this.f=e}function fa(e,n,o){if(this.b=e,e=n||{},this.i=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.o=e.secureTokenTimeout||da,this.f=re(e.secureTokenHeaders||ya),this.g=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=e.firebaseTimeout||ma,this.a=re(e.firebaseHeaders||va),o&&(this.a["X-Client-Version"]=o,this.f["X-Client-Version"]=o),o="Node"==Zn(),!(o=r.XMLHttpRequest||o&&t.INTERNAL.node&&t.INTERNAL.node.XMLHttpRequest)&&!Jn())throw new qr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,Jn()?this.c=new ki(self):er()?this.c=new la(o):this.c=new di}T(ca,S),T(la,li),la.prototype.a=function(){return new this.f},la.prototype.b=function(){return{}};var ha,pa="idToken",da=new br(3e4,6e4),ya={"Content-Type":"application/x-www-form-urlencoded"},ma=new br(3e4,6e4),va={"Content-Type":"application/json"};function ga(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ba(e,t){t?(e.a["X-Client-Version"]=t,e.f["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.f["X-Client-Version"])}function wa(e,t,n,o,i,a,s){var u;(e=!((u=rr(u=ar())!=nr?null:(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&u<30||We&&Je&&!(9<Je))||Jn()?b(e.m,e):(ha||(ha=new ye(function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{r[Ta]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))};var n=bn(Ea,{onload:Ta});$i(oa(n),null,function(){t(Error("CORS_UNSUPPORTED"))},void 0)}}(e,t)})),b(e.l,e)))(t,n,o,i,a,s)}fa.prototype.m=function(e,t,n,i,a,s){if(Jn()&&(void 0===r.fetch||void 0===r.Headers||void 0===r.Request))throw new qr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var u=new Li(this.c);if(s){u.g=Math.max(0,s);var c=setTimeout(function(){u.dispatchEvent("timeout")},s)}Rt(u,"complete",function(){c&&clearTimeout(c);var n=null;try{n=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Oi(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){n=null}t&&t(n)}),Pt(u,"ready",function(){c&&clearTimeout(c),Ue(this)}),Pt(u,"timeout",function(){c&&clearTimeout(c),Ue(this),t&&t(null)}),function(e,t,n,i,a){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.N=n,e.G=!1,e.c=!0,e.a=e.D?e.D.a():ii.a(),e.A=e.D?fi(e.D):fi(ii),e.a.onreadystatechange=b(e.Jb,e);try{Oi(e.b,Gi(e,"Opening Xhr")),e.I=!0,e.a.open(n,String(t),!0),e.I=!1}catch(t){return Oi(e.b,Gi(e,"Error opening Xhr: "+t.message)),void qi(e,t)}t=i||"";var s,u=new Ut(e.headers);a&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(h(e)||o(e))N(e,t,void 0);else for(var n=jt(e),r=Mt(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(a,function(e,t){u.set(t,e)}),a=function(e){e:{for(var t=Fi,n=e.length,r=o(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:o(e)?e.charAt(t):e[t]}(u.U()),i=r.FormData&&t instanceof r.FormData,!M(Ui,n)||a||i||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.O&&(e.a.withCredentials=e.O);try{zi(e),0<e.g&&(e.v=(s=e.a,We&&et(9)&&"number"==typeof s.timeout&&void 0!==s.ontimeout),Oi(e.b,Gi(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=b(e.Ga,e)):e.u=Dt(e.Ga,e.g,e)),Oi(e.b,Gi(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){Oi(e.b,Gi(e,"Send error: "+t.message)),qi(e,t)}}(u,e,n,i,a)};var Ea=new pn(mn,"https://apis.google.com/js/client.js?onload=%{onload}"),Ta="__fcb"+Math.floor(1e6*Math.random()).toString();function _a(e){if(!o(e=e.email)||!Qn.test(e))throw new qr("invalid-email")}function Sa(e){"email"in e&&_a(e)}function Ia(e){if(!e[pa])throw new qr("internal-error")}function Aa(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new qr("internal-error")}else{if(!e.sessionInfo)throw new qr("missing-verification-id");if(!e.code)throw new qr("missing-verification-code")}}fa.prototype.l=function(e,t,n,r,o){var i=this;ha.then(function(){window.gapi.client.setApiKey(i.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:o,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).s(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},fa.prototype.Ra=function(){return us(this,Za,{})},fa.prototype.qb=function(e,t){return us(this,$a,{idToken:e,email:t})},fa.prototype.rb=function(e,t){return us(this,Ja,{idToken:e,password:t})};var Ca={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Oa(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new qr("internal-error")}function ka(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&cn(e=new on(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function xa(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=ci(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=ci(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=ci(e)):e.errorMessage&&(t=cs(e.errorMessage)),t)throw t;if(!e[pa])throw new qr("internal-error")}function Ra(e,t){return t.returnIdpCredential=!0,us(e,es,t)}function Pa(e,t){return t.returnIdpCredential=!0,us(e,ns,t)}function Na(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,us(e,ts,t)}function Da(e){if(!e.oobCode)throw new qr("invalid-action-code")}(e=fa.prototype).sb=function(e,t){var n={idToken:e},r=[];return te(Ca,function(e,o){var i=t[o];null===i?r.push(e):o in t&&(n[o]=i)}),r.length&&(n.deleteAttribute=r),us(this,$a,n)},e.lb=function(e,t){return se(e={requestType:"PASSWORD_RESET",email:e},t),us(this,Ha,e)},e.mb=function(e,t){return se(e={requestType:"EMAIL_SIGNIN",email:e},t),us(this,za,e)},e.kb=function(e,t){return se(e={requestType:"VERIFY_EMAIL",idToken:e},t),us(this,Ka,e)},e.Va=function(e){return us(this,is,e)},e.$a=function(e,t){return us(this,Xa,{oobCode:e,newPassword:t})},e.Ja=function(e){return us(this,Ma,{oobCode:e})},e.Xa=function(e){return us(this,La,{oobCode:e})};var La={endpoint:"setAccountInfo",C:Da,da:"email"},Ma={endpoint:"resetPassword",C:Da,J:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new qr("internal-error")}},ja={endpoint:"signupNewUser",C:function(e){if(_a(e),!e.password)throw new qr("weak-password")},J:Ia,R:!0},Ua={endpoint:"createAuthUri"},Fa={endpoint:"deleteAccount",T:["idToken"]},qa={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],C:function(e){if(!f(e.deleteProvider))throw new qr("internal-error")}},Ba={endpoint:"emailLinkSignin",T:["email","oobCode"],C:_a,J:Ia,R:!0},Va={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],C:_a,J:Ia,R:!0},Wa={endpoint:"getAccountInfo"},za={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new qr("internal-error");_a(e)},da:"email"},Ka={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],C:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new qr("internal-error")},da:"email"},Ha={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(e){if("PASSWORD_RESET"!=e.requestType)throw new qr("internal-error");_a(e)},da:"email"},Ga={vb:!0,endpoint:"getProjectConfig",Ib:"GET"},Qa={vb:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(e){if(!e.recaptchaSiteKey)throw new qr("internal-error")}},Xa={endpoint:"resetPassword",C:Da,da:"email"},Ya={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},$a={endpoint:"setAccountInfo",T:["idToken"],C:Sa,R:!0},Ja={endpoint:"setAccountInfo",T:["idToken"],C:function(e){if(Sa(e),!e.password)throw new qr("weak-password")},J:Ia,R:!0},Za={endpoint:"signupNewUser",J:Ia,R:!0},es={endpoint:"verifyAssertion",C:Oa,Pa:ka,J:xa,R:!0},ts={endpoint:"verifyAssertion",C:Oa,Pa:ka,J:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new qr("user-not-found");if(e.errorMessage)throw cs(e.errorMessage);if(!e[pa])throw new qr("internal-error")},R:!0},ns={endpoint:"verifyAssertion",C:function(e){if(Oa(e),!e.idToken)throw new qr("internal-error")},Pa:ka,J:xa,R:!0},rs={endpoint:"verifyCustomToken",C:function(e){if(!e.token)throw new qr("invalid-custom-token")},J:Ia,R:!0},os={endpoint:"verifyPassword",C:function(e){if(_a(e),!e.password)throw new qr("wrong-password")},J:Ia,R:!0},is={endpoint:"verifyPhoneNumber",C:Aa,J:Ia},as={endpoint:"verifyPhoneNumber",C:function(e){if(!e.idToken)throw new qr("internal-error");Aa(e)},J:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",ci(e);Ia(e)}},ss={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",C:Aa,J:Ia};function us(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.T))return _e(new qr("internal-error"));var r,o=t.Ib||"POST";return Te(n).then(t.C).then(function(){return t.R&&(n.returnSecureToken=!0),function(e,t,n,r,o,i){var a=Qt(e.g+t);Ht(a,"key",e.b),i&&Ht(a,"cb",E().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&Ht(a,u,r[u]);return new ye(function(t,i){wa(e,a.toString(),function(e){e?e.error?i(ls(e,o||{})):t(e):i(new qr("network-request-failed"))},n,s?void 0:Mn(dr(r)),e.a,e.h.get())})}(e,t.endpoint,o,n,t.Xb,t.vb||!1)}).then(function(e){return r=e,t.Pa?t.Pa(n,r):r}).then(t.J).then(function(){if(!t.da)return r;if(!(t.da in r))throw new qr("internal-error");return r[t.da]})}function cs(e){return ls({error:{errors:[{message:e}],code:400,message:e}})}function ls(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new qr(r[n]):null)return n;for(var o in n=e.error&&e.error.message||"",se(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(o))return new qr(r[o],t);return!t&&e&&(t=pr(e)),new qr("internal-error",t)}function fs(e){var t;this.b=e,this.a=null,this.gb=(t=this,(ys||(ys=new ye(function(e,t){function n(){gr(),sr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){gr(),t(Error("Network Error"))},timeout:ps.get()})}if(sr("gapi.iframes.Iframe"))e();else if(sr("gapi.load"))n();else{var o="__iframefcb"+Math.floor(1e6*Math.random()).toString();r[o]=function(){sr("gapi.load")?n():t(Error("Network Error"))},Te(oa(o=bn(hs,{onload:o}))).s(function(){t(Error("Network Error"))})}}).s(function(e){throw ys=null,e}))).then(function(){return new ye(function(e,n){sr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function o(){clearTimeout(i),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var i=setTimeout(function(){n(Error("Network Error"))},ds.get());r.ping(o).then(o,function(){n(Error("Network Error"))})})})}))}var hs=new pn(mn,"https://apis.google.com/js/api.js?onload=%{onload}"),ps=new br(3e4,6e4),ds=new br(5e3,15e3),ys=null;function ms(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=Xt(this.i,"/__/auth/iframe"),Ht(this.a,"apiKey",this.g),Ht(this.a,"appName",this.h),this.b=null,this.c=[]}function vs(e,t,n,r,o){this.m=e,this.l=t,this.c=n,this.o=r,this.h=this.g=this.i=null,this.a=o,this.f=null}function gs(e){try{return t.app(e).auth().ya()}catch(e){return[]}}function bs(e,t,n,r,o){this.l=e,this.f=t,this.b=n,this.c=r||null,this.h=o||null,this.m=this.u=this.v=null,this.g=[],this.o=this.a=null}function ws(e){var t,n=Vn();return(t=e,us(t,Ga,{}).then(function(e){return e.authorizedDomains||[]})).then(function(e){e:{var t=Qt(n),r=t.c;t=t.b;for(var o=0;o<e.length;o++){var i=e[o],a=t,s=r;if(a=0==i.indexOf("chrome-extension://")?Qt(i).b==a&&"chrome-extension"==s:("http"==s||"https"==s)&&(Gn.test(i)?a==i:(i=i.split(".").join("\\."),new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)))){e=!0;break e}}e=!1}if(!e)throw new si(Vn())})}function Es(e){return e.o||(e.o=Xn().then(function(){if(!e.u){var t=e.c,n=e.h,r=gs(e.b),o=new ms(e.l,e.f,e.b);o.f=t,o.b=n,o.c=q(r||[]),e.u=o.toString()}e.i=new fs(e.u),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");var t,n;t=e.i,n=function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=ri(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Te(n)}return n.status="ERROR",Te(n)},t.gb.then(function(){t.a.register("authEvent",n,sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e)})),e.o}function Ts(e){return e.m||(e.v=e.c?ir(e.c,gs(e.b)):null,e.m=new fa(e.f,uo(e.h),e.v)),e.m}function _s(e,t,n,r,o,i,a,s,u,c){return(e=new vs(e,t,n,r,o)).i=i,e.g=a,e.h=s,e.b=re(u||null),e.f=c,e.toString()}function Ss(e){if(this.a=e||t.INTERNAL.reactNative&&t.INTERNAL.reactNative.AsyncStorage,!this.a)throw new qr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Is(e){this.b=e,this.a={},this.c=b(this.f,this)}ms.prototype.toString=function(){return this.f?Ht(this.a,"v",this.f):un(this.a.a,"v"),this.b?Ht(this.a,"eid",this.b):un(this.a.a,"eid"),this.c.length?Ht(this.a,"fw",this.c.join(",")):un(this.a.a,"fw"),this.a.toString()},vs.prototype.toString=function(){var e=Xt(this.m,"/__/auth/handler");if(Ht(e,"apiKey",this.l),Ht(e,"appName",this.c),Ht(e,"authType",this.o),this.a.isOAuthProvider){var n=this.a;try{var r=t.app(this.c).auth().ea()}catch(e){r=null}for(var o in n.ab=r,Ht(e,"providerId",this.a.providerId),r=dr((n=this.a).zb))r[o]=r[o].toString();o=n.Fc,r=re(r);for(var i=0;i<o.length;i++){var a=o[i];a in r&&delete r[a]}n.eb&&n.ab&&!r[n.eb]&&(r[n.eb]=n.ab),ne(r)||Ht(e,"customParameters",pr(r))}if("function"==typeof this.a.Fb&&(n=this.a.Fb()).length&&Ht(e,"scopes",n.join(",")),this.i?Ht(e,"redirectUrl",this.i):un(e.a,"redirectUrl"),this.g?Ht(e,"eventId",this.g):un(e.a,"eventId"),this.h?Ht(e,"v",this.h):un(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Gt(e,s)&&Ht(e,s,this.b[s]);return this.f?Ht(e,"eid",this.f):un(e.a,"eid"),(s=gs(this.c)).length&&Ht(e,"fw",s.join(",")),e.toString()},(e=bs.prototype).Ea=function(e,t,n){var r=new qr("popup-closed-by-user"),o=new qr("web-storage-unsupported"),i=this,a=!1;return this.ga().then(function(){var n,r;(n=i,r={type:"webStorageSupport"},Es(n).then(function(){return e=n.i,t=r,e.gb.then(function(){return new ye(function(n){e.a.send(t.type,t,n,sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})});var e,t}).then(function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})).then(function(n){n||(e&&Kn(e),t(o),a=!0)})}).s(function(){}).then(function(){if(!a)return t=e,new ye(function(e){return function n(){Lt(2e3).then(function(){if(t&&!t.closed)return n();e()})}()});var t}).then(function(){if(!a)return Lt(n).then(function(){t(r)})})},e.Mb=function(){var e=ar();return!hr(e)&&!vr(e)},e.Hb=function(){return!1},e.Db=function(e,t,n,r,o,i,a){if(!e)return _e(new qr("popup-blocked"));if(a&&!hr())return this.ga().s(function(t){Kn(e),o(t)}),r(),Te();this.a||(this.a=ws(Ts(this)));var s=this;return this.a.then(function(){var t=s.ga().s(function(t){throw Kn(e),o(t),t});return r(),t}).then(function(){ti(n),a||Wn(_s(s.l,s.f,s.b,t,n,null,i,s.c,void 0,s.h),e)}).s(function(e){throw"auth/network-request-failed"==e.code&&(s.a=null),e})},e.Ca=function(e,t,n){this.a||(this.a=ws(Ts(this)));var r=this;return this.a.then(function(){ti(t),Wn(_s(r.l,r.f,r.b,e,t,Vn(),n,r.c,void 0,r.h))}).s(function(e){throw"auth/network-request-failed"==e.code&&(r.a=null),e})},e.ga=function(){var e=this;return Es(this).then(function(){return e.i.gb}).s(function(){throw e.a=null,new qr("network-request-failed")})},e.Qb=function(){return!0},e.wa=function(e){this.g.push(e)},e.Ka=function(e){U(this.g,function(t){return t==e})},(e=Ss.prototype).get=function(e){return Te(this.a.getItem(e)).then(function(e){return e&&yr(e)})},e.set=function(e,t){return Te(this.a.setItem(e,pr(t)))},e.P=function(e){return Te(this.a.removeItem(e))},e.Y=function(){},e.ca=function(){};var As,Cs=[];function Os(e){this.a=e}function ks(e){this.c=e,this.b=!1,this.a=[]}function xs(e,t,n,r){var o,i,a,s,u=n||{},c=null;if(e.b)return _e(Error("connection_unavailable"));var l=r?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye(function(n,r){f?(o=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),c={messageChannel:f,onMessage:i=function(e){e.data.eventId===o&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),f.port1.addEventListener("message",i),e.c.postMessage({eventType:t,eventId:o,data:u},[f.port2])):r(Error("connection_unavailable"))}).then(function(t){return Rs(e,c),t}).s(function(t){throw Rs(e,c),t})}function Rs(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),U(e.a,function(e){return e==t})}}function Ps(){if(!Ds())throw new qr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.l=r.indexedDB,this.type="indexedDB",this.g=this.o=this.f=this.i=null,this.u=!1,this.h=null;var e,t=this;Jn()&&self?(this.o=function(){var e=Jn()?self:null;if(N(Cs,function(n){n.b==e&&(t=n)}),!t){var t=new Is(e);Cs.push(t)}return t}(),this.o.subscribe("keyChanged",function(e,n){return Fs(t).then(function(e){return 0<e.length&&N(t.a,function(t){t(e)}),{keyProcessed:M(e,n.key)}})}),this.o.subscribe("ping",function(){return Te(["keyChanged"])})):(e=r.navigator,e&&e.serviceWorker?Te().then(function(){return e.serviceWorker.ready}).then(function(e){return e.active||null}).s(function(){return null}):Te(null)).then(function(e){(t.h=e)&&(t.g=new ks(new Os(e)),xs(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&M(e[0].value,"keyChanged")&&(t.u=!0)}).s(function(){}))})}function Ns(e){return e.m||(e.m=function e(t){return new ye(function(n,r){var o=t.l.open("firebaseLocalStorageDb",1);o.onerror=function(e){try{e.preventDefault()}catch(e){}r(Error(e.target.error))},o.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},o.onsuccess=function(o){var i;(o=o.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(o):(i=t,new ye(function(e,t){var n=i.l.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){e()},n.onerror=function(e){t(Error(e.target.error))}})).then(function(){return e(t)}).then(function(e){n(e)}).s(function(e){r(e)})}})}(e)),e.m}function Ds(){try{return!!r.indexedDB}catch(e){return!1}}function Ls(e){return e.objectStore("firebaseLocalStorage")}function Ms(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function js(e){return new ye(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}})}function Us(e,t){return e.g&&e.h&&((n=r.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===e.h?xs(e.g,"keyChanged",{key:t},e.u).then(function(){}).s(function(){}):Te();var n}function Fs(e){return Ns(e).then(function(e){var t=Ls(Ms(e,!1));return t.getAll?js(t.getAll()):new ye(function(e,n){var r=[],o=t.openCursor();o.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},o.onerror=function(e){n(e.target.error)}})}).then(function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,o=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?o.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&o.push(r):t[r]!==n[r]&&o.push(r):o.push(r);for(r in n)r in t||o.push(r);return o}(e.c,n),e.c=n}return r})}function qs(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Bs(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Te().then(function(){if(Ds()){var e=mr(),r="__sak"+e;return As||(As=new Ps),(n=As).set(r,e).then(function(){return n.get(r)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return t.c})}return t.c}).then(function(e){return t.type=e.type,e.Y(function(e){N(t.a,function(t){t(e)})}),e})}function Vs(){this.a={},this.type="inMemory"}function Ws(){if(!function(){var e="Node"==Zn();if(!(e=zs()||e&&t.INTERNAL.node&&t.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Zn())throw new qr("internal-error","The LocalStorage compatibility library was not found.");throw new qr("web-storage-unsupported")}this.a=zs()||t.INTERNAL.node.localStorage,this.type="localStorage"}function zs(){try{var e=r.localStorage,t=mr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Ks(){this.type="nullStorage"}function Hs(){if(!function(){var e="Node"==Zn();if(!(e=Gs()||e&&t.INTERNAL.node&&t.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Zn())throw new qr("internal-error","The SessionStorage compatibility library was not found.");throw new qr("web-storage-unsupported")}this.a=Gs()||t.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Gs(){try{var e=r.sessionStorage,t=mr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Qs(){var e={};e.Browser=$s,e.Node=Js,e.ReactNative=Zs,e.Worker=eu,this.a=e[Zn()]}Is.prototype.f=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var o=[];N(r,function(t){o.push(Te().then(function(){return t(e.origin,e.data.data)}))}),Ie(o).then(function(r){var o=[];N(r,function(e){o.push({fulfilled:e.Eb,value:e.value,reason:e.reason?e.reason.message:void 0})}),N(o,function(e){for(var t in e)void 0===e[t]&&delete e[t]}),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:o})})}},Is.prototype.subscribe=function(e,t){ne(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[e]&&(this.a[e]=[]),this.a[e].push(t)},Is.prototype.unsubscribe=function(e,t){void 0!==this.a[e]&&t?(U(this.a[e],function(e){return e==t}),0==this.a[e].length&&delete this.a[e]):t||delete this.a[e],ne(this.a)&&this.b.removeEventListener("message",this.c)},Os.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},ks.prototype.close=function(){for(;0<this.a.length;)Rs(this,this.a[0]);this.b=!0},(e=Ps.prototype).set=function(e,t){var n,r=!1,o=this;return Ns(this).then(function(t){return js((t=Ls(Ms(n=t,!0))).get(e))}).then(function(i){var a=Ls(Ms(n,!0));return i?(i.value=t,js(a.put(i))):(o.b++,r=!0,(i={}).fbase_key=e,i.value=t,js(a.add(i)))}).then(function(){return o.c[e]=t,Us(o,e)}).ia(function(){r&&o.b--})},e.get=function(e){return Ns(this).then(function(t){return js(Ls(Ms(t,!1)).get(e))}).then(function(e){return e&&e.value})},e.P=function(e){var t=!1,n=this;return Ns(this).then(function(r){return t=!0,n.b++,js(Ls(Ms(r,!0)).delete(e))}).then(function(){return delete n.c[e],Us(n,e)}).ia(function(){t&&n.b--})},e.Y=function(e){var t;0==this.a.length&&(qs(t=this),function e(){t.f=setTimeout(function(){t.i=Fs(t).then(function(e){0<e.length&&N(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()),this.a.push(e)},e.ca=function(e){U(this.a,function(t){return t==e}),0==this.a.length&&qs(this)},(e=Bs.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},e.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},e.P=function(e){return this.b.then(function(t){return t.P(e)})},e.Y=function(e){this.a.push(e)},e.ca=function(e){U(this.a,function(t){return t==e})},(e=Vs.prototype).get=function(e){return Te(this.a[e])},e.set=function(e,t){return this.a[e]=t,Te()},e.P=function(e){return delete this.a[e],Te()},e.Y=function(){},e.ca=function(){},(e=Ws.prototype).get=function(e){var t=this;return Te().then(function(){return yr(t.a.getItem(e))})},e.set=function(e,t){var n=this;return Te().then(function(){var r=pr(t);null===r?n.P(e):n.a.setItem(e,r)})},e.P=function(e){var t=this;return Te().then(function(){t.a.removeItem(e)})},e.Y=function(e){r.window&&gt(r.window,"storage",e)},e.ca=function(e){r.window&&Et(r.window,"storage",e)},(e=Ks.prototype).get=function(){return Te(null)},e.set=function(){return Te()},e.P=function(){return Te()},e.Y=function(){},e.ca=function(){},(e=Hs.prototype).get=function(e){var t=this;return Te().then(function(){return yr(t.a.getItem(e))})},e.set=function(e,t){var n=this;return Te().then(function(){var r=pr(t);null===r?n.P(e):n.a.setItem(e,r)})},e.P=function(e){var t=this;return Te().then(function(){t.a.removeItem(e)})},e.Y=function(){},e.ca=function(){};var Xs,Ys,$s={B:Ws,Sa:Hs},Js={B:Ws,Sa:Hs},Zs={B:Ss,Sa:Ks},eu={B:Ws,Sa:Ks},tu={ad:"local",NONE:"none",cd:"session"};function nu(){var e=!(vr(ar())||!$n()),t=hr(),n=ur();this.m=e,this.h=t,this.o=n,this.a={},Xs||(Xs=new Qs),e=Xs;try{this.g=!Bn()&&Tr()||!r.indexedDB?new e.a.B:new Bs(Jn()?new Vs:new e.a.B)}catch(e){this.g=new Vs,this.h=!0}try{this.i=new e.a.Sa}catch(e){this.i=new Vs}this.l=new Vs,this.f=b(this.Pb,this),this.b={}}function ru(){return Ys||(Ys=new nu),Ys}function ou(e,t){switch(t){case"session":return e.i;case"none":return e.l;default:return e.g}}function iu(e,t){return"firebase:"+e.name+(t?":"+t:"")}function au(e,t,n){return n=iu(t,n),"local"==t.B&&(e.b[n]=null),ou(e,t.B).P(n)}function su(e){e.c&&(clearInterval(e.c),e.c=null)}function uu(e){this.a=e,this.b=ru()}(e=nu.prototype).get=function(e,t){return ou(this,e.B).get(iu(e,t))},e.set=function(e,t,n){var r=iu(e,n),o=this,i=ou(this,e.B);return i.set(r,t).then(function(){return i.get(r)}).then(function(t){"local"==e.B&&(o.b[r]=t)})},e.addListener=function(e,t,n){var o;e=iu(e,t),this.o&&(this.b[e]=r.localStorage.getItem(e)),ne(this.a)&&(ou(this,"local").Y(this.f),this.h||(Bn()||!Tr())&&r.indexedDB||!this.o||(su(o=this),o.c=setInterval(function(){for(var e in o.a){var t=r.localStorage.getItem(e),n=o.b[e];t!=n&&(o.b[e]=t,t=new st({type:"storage",key:e,target:window,oldValue:n,newValue:t,a:!0}),o.Pb(t))}},1e3))),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=iu(e,t),this.a[e]&&(U(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),ne(this.a)&&(ou(this,"local").ca(this.f),su(this))},e.Pb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var o=this.b[n];void 0===o&&(o=null);var i=r.localStorage.getItem(n);i!==o&&(this.b[n]=i,this.Ya(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?ou(this,"local").ca(this.f):su(this),this.m)if(n=r.localStorage.getItem(t),(o=e.a.newValue)!==n)null!==o?r.localStorage.setItem(t,o):r.localStorage.removeItem(t);else if(this.b[t]===o&&void 0===e.a.a)return;var a=this;n=function(){void 0===e.a.a&&a.b[t]===r.localStorage.getItem(t)||(a.b[t]=r.localStorage.getItem(t),a.Ya(t))},We&&Je&&10==Je&&r.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else N(e,b(this.Ya,this))},e.Ya=function(e){this.a[e]&&N(this.a[e],function(e){e()})};var cu,lu={name:"authEvent",B:"local"};function fu(){this.a=ru()}function hu(e,t){this.b=pu,this.f=r.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.o=r.Int32Array?new Int32Array(64):Array(64),void 0!==cu||(cu=r.Int32Array?new Int32Array(wu):wu),this.reset()}T(hu,function(){this.b=-1});for(var pu=64,du=pu-1,yu=[],mu=0;mu<du;mu++)yu[mu]=0;var vu=F(128,yu);function gu(e){for(var t=e.f,n=e.o,r=0,o=0;o<t.length;)n[r++]=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3],o=4*r;for(t=16;t<64;t++){o=0|n[t-15],r=0|n[t-2];var i=(0|n[t-16])+((o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=i+a|0}r=0|e.a[0],o=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(i=0|e.a[7],t=0;t<64;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&s^o&s)|0;a=(i=i+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|cu[t])|0)+(0|n[t])|0)|0,i=f,f=l,l=c,c=u+a|0,u=s,s=o,o=r,r=a+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+o|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+i|0}function bu(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if(o(t))for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(gu(e),i=0);else{if(!h(t))throw Error("message must be string or array");for(;r<n;){var a=t[r++];if(!("number"==typeof a&&0<=a&&a<=255&&a==(0|a)))throw Error("message must be a byte array");e.f[i++]=a,i==e.b&&(gu(e),i=0)}}e.c=i,e.g+=n}hu.prototype.reset=function(){this.g=this.c=0,this.a=r.Int32Array?new Int32Array(this.h):q(this.h)};var wu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Eu(){hu.call(this,8,Tu)}T(Eu,hu);var Tu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _u(e,t,n,r,o){this.l=e,this.i=t,this.o=n,this.m=r||null,this.u=o||null,this.h=t+":"+n,this.v=new fu,this.g=new uu(this.h),this.f=null,this.b=[],this.a=this.c=null}function Su(e){return new qr("invalid-cordova-configuration",e)}function Iu(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Au(e){return e.f||(e.f=e.ga().then(function(){return new ye(function(t){e.wa(function n(r){return t(r),e.Ka(n),!1}),function(e){function t(t){o=!0,i&&i.cancel(),Cu(e).then(function(r){var o=n;if(r&&t&&t.url){var i=null;-1!=(o=So(t.url)).indexOf("/__/auth/callback")&&(i=(i="object"==typeof(i=yr(Gt(i=Qt(o),"firebaseError")||null))?Br(i):null)?new ni(r.c,r.b,null,null,i):new ni(r.c,r.b,o,r.f)),o=i||n}Iu(e,o)})}var n=new ni("unknown",null,null,null,new qr("no-auth-event")),o=!1,i=Lt(500).then(function(){return Cu(e).then(function(){o||Iu(e,n)})}),a=r.handleOpenURL;r.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(sr("BuildInfo.packageName",r).toLowerCase()+"://")&&t({url:e}),"function"==typeof a)try{a(e)}catch(e){console.error(e)}},ai||(ai=new oi),ai.subscribe(t)}(e)})})),e.f}function Cu(e){var t,n=null;return(t=e.g,t.b.get(lu,t.a).then(function(e){return ri(e)})).then(function(t){return n=t,au((t=e.g).b,lu,t.a)}).then(function(){return n})}function Ou(e){this.a=e,this.b=ru()}(e=_u.prototype).ga=function(){return this.za?this.za:this.za=(Yn(void 0)?Xn().then(function(){return new ye(function(e,t){var n=r.document,o=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(o),e()},!1)})}):_e(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof sr("universalLinks.subscribe",r))throw Su("cordova-universal-links-plugin-fix is not installed");if(void 0===sr("BuildInfo.packageName",r))throw Su("cordova-plugin-buildinfo is not installed");if("function"!=typeof sr("cordova.plugins.browsertab.openUrl",r))throw Su("cordova-plugin-browsertab is not installed");if("function"!=typeof sr("cordova.InAppBrowser.open",r))throw Su("cordova-plugin-inappbrowser is not installed")},function(){throw new qr("cordova-not-ready")})},e.Ea=function(e,t){return t(new qr("operation-not-supported-in-this-environment")),Te()},e.Db=function(){return _e(new qr("operation-not-supported-in-this-environment"))},e.Qb=function(){return!1},e.Mb=function(){return!0},e.Hb=function(){return!0},e.Ca=function(e,t,n){if(this.c)return _e(new qr("redirect-operation-pending"));var o=this,i=r.document,a=null,s=null,u=null,c=null;return this.c=Te().then(function(){return ti(t),Au(o)}).then(function(){return function(e,t,n,o){var i=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new ni(t,o,null,i,new qr("no-auth-event")),s=sr("BuildInfo.packageName",r);if("string"!=typeof s)throw new qr("invalid-cordova-configuration");var u=sr("BuildInfo.displayName",r),c={};if(ar().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!ar().toLowerCase().match(/android/))return _e(new qr("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),i=function(e){var t=new Eu;bu(t,e),e=[];var n=8*t.g;t.c<56?bu(t,vu,56-t.c):bu(t,vu,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(gu(t),r=n=0;r<t.i;r++)for(var o=24;0<=o;o-=8)e[n++]=t.a[r]>>o&255;return D(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")}(i),c.sessionId=i;var l=_s(e.l,e.i,e.o,t,n,null,o,e.m,c,e.u);return e.ga().then(function(){var t=e.h;return e.v.a.set(lu,a.w(),t)}).then(function(){var t=sr("cordova.plugins.browsertab.isAvailable",r);if("function"!=typeof t)throw new qr("invalid-cordova-configuration");var n=null;t(function(t){if(t){if("function"!=typeof(n=sr("cordova.plugins.browsertab.openUrl",r)))throw new qr("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=sr("cordova.InAppBrowser.open",r)))throw new qr("invalid-cordova-configuration");t=ar(),e.a=n(l,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(o,e,t,n)}).then(function(){return new ye(function(e,t){s=function(){var t=sr("cordova.plugins.browsertab.close",r);return e(),"function"==typeof t&&t(),o.a&&"function"==typeof o.a.close&&(o.a.close(),o.a=null),!1},o.wa(s),u=function(){a||(a=Lt(2e3).then(function(){t(new qr("redirect-cancelled-by-user"))}))},c=function(){wr()&&u()},i.addEventListener("resume",u,!1),ar().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",c,!1)}).s(function(e){return Cu(o).then(function(){throw e})})}).ia(function(){u&&i.removeEventListener("resume",u,!1),c&&i.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&o.Ka(s),o.c=null})},e.wa=function(e){this.b.push(e),Au(this).s(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new ni("unknown",null,null,null,new qr("no-auth-event")),e(t))})},e.Ka=function(e){U(this.b,function(t){return t==e})};var ku={name:"pendingRedirect",B:"session"};function xu(e){return au(e.b,ku,e.a)}function Ru(e,t,n){this.i={},this.u=0,this.A=e,this.l=t,this.m=n,this.h=[],this.f=!1,this.o=b(this.cb,this),this.b=new Bu,this.v=new Ku,this.g=new Ou(this.l+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.v,this.c.linkViaPopup=this.v,this.c.reauthViaPopup=this.v,this.a=Pu(this.A,this.l,this.m,ao)}function Pu(e,n,r,o){var i=t.SDK_VERSION||null;return Yn()?new _u(e,n,r,i,o):new bs(e,n,r,i,o)}function Nu(e){e.f||(e.f=!0,e.a.wa(e.o));var t=e.a;return e.a.ga().s(function(n){throw e.a==t&&e.reset(),n})}function Du(e){e.a.Mb()&&Nu(e).s(function(t){var n=new ni("unknown",null,null,null,new qr("operation-not-supported-in-this-environment"));Uu(t)&&e.cb(n)}),e.a.Hb()||Vu(e.b)}(e=Ru.prototype).reset=function(){this.f=!1,this.a.Ka(this.o),this.a=Pu(this.A,this.l,this.m),this.i={}},e.Za=function(){this.b.Za()},e.subscribe=function(e){if(M(this.h,e)||this.h.push(e),!this.f){var t=this;(n=this.g,n.b.get(ku,n.a).then(function(e){return"pending"==e})).then(function(e){e?xu(t.g).then(function(){Nu(t).s(function(e){var n=new ni("unknown",null,null,null,new qr("operation-not-supported-in-this-environment"));Uu(e)&&t.cb(n)})}):Du(t)}).s(function(){Du(t)})}var n},e.unsubscribe=function(e){U(this.h,function(t){return t==e})},e.cb=function(e){if(!e)throw new qr("invalid-auth-event");if(6e5<=E()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.wb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=E())),t=!0;break}}return Vu(this.b),t};var Lu=new br(2e3,1e4),Mu=new br(3e4,6e4);function ju(e,t,n,r,o,i){return e.a.Db(t,n,r,function(){e.f||(e.f=!0,e.a.wa(e.o))},function(){e.reset()},o,i)}function Uu(e){return!(!e||"auth/cordova-not-ready"!=e.code)}Ru.prototype.fa=function(){return this.b.fa()},Ru.prototype.Ca=function(e,t,n){var r,o,i=this;return(o=this.g,o.b.set(ku,"pending",o.a)).then(function(){return i.a.Ca(e,t,n).s(function(e){if(Uu(e))throw new qr("operation-not-supported-in-this-environment");return r=e,xu(i.g).then(function(){throw r})}).then(function(){return i.a.Qb()?new ye(function(){}):xu(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},Ru.prototype.Ea=function(e,t,n,r){return this.a.Ea(n,function(n){e.ha(t,null,n,r)},Lu.get())};var Fu={};function qu(e,t,n){var r=t+":"+n;return Fu[r]||(Fu[r]=new Ru(e,t,n)),Fu[r]}function Bu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Vu(e){e.g||(e.g=!0,zu(e,!1,null,null))}function Wu(e,t){if(e.b=function(){return Te(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function zu(e,t,n,r){t?r?function(e,t){if(e.b=function(){return _e(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Wu(e,n):Wu(e,{user:null}),e.f=[],e.c=[]}function Ku(){}function Hu(){this.tb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.tb},set:function(e){this.tb=e},enumerable:!1})}function Gu(e,t){this.a=t,Cr(this,"verificationId",e)}function Qu(e,t,n,r){return new Jo(e).Va(t,n).then(function(e){return new Gu(e,r)})}function Xu(e){var t=io(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new qr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Or(this,{token:e,expirationTime:Er(1e3*t.exp),authTime:Er(1e3*t.auth_time),issuedAtTime:Er(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function Yu(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function $u(e){this.f=e,this.b=this.a=null,this.c=0}function Ju(e,t){var n=t[pa],r=t.refreshToken;t=Zu(t.expiresIn),e.b=n,e.c=t,e.a=r}function Zu(e){return E()+1e3*parseInt(e,10)}function ec(e,t){this.a=e||null,this.b=t||null,Or(this,{lastSignInTime:Er(t||null),creationTime:Er(e||null)})}function tc(e,t,n,r,o,i){Or(this,{uid:e,displayName:r||null,photoURL:o||null,email:n||null,phoneNumber:i||null,providerId:t})}function nc(e,t){for(var n in at.call(this,e),t)this[n]=t[n]}function rc(e,n,r){var o;this.G=[],this.l=e.apiKey,this.m=e.appName,this.u=e.authDomain||null,e=t.SDK_VERSION?ir(t.SDK_VERSION):null,this.b=new fa(this.l,uo(ao),e),this.h=new $u(this.b),lc(this,n[pa]),Ju(this.h,n),Cr(this,"refreshToken",this.h.a),pc(this,r||{}),xt.call(this),this.I=!1,this.u&&cr()&&(this.a=qu(this.u,this.l,this.m)),this.N=[],this.i=null,this.A=(o=this,new Yu(function(){return o.F(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var e=o.h.c-E()-3e5;return 0<e?e:0})),this.V=b(this.Ha,this);var i=this;this.ka=null,this.ta=function(e){i.pa(e.g)},this.X=null,this.O=[],this.sa=function(e){ic(i,e.c)},this.W=null}function oc(e,t){e.X&&Et(e.X,"languageCodeChanged",e.ta),(e.X=t)&&gt(t,"languageCodeChanged",e.ta)}function ic(e,n){e.O=n,ba(e.b,t.SDK_VERSION?ir(t.SDK_VERSION,e.O):null)}function ac(e,t){e.W&&Et(e.W,"frameworkChanged",e.sa),(e.W=t)&&gt(t,"frameworkChanged",e.sa)}function sc(n){try{return t.app(n.m).auth()}catch(e){throw new qr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+n.m+"'!")}}function uc(e){e.D||e.A.b||(e.A.start(),Et(e,"tokenChanged",e.V),gt(e,"tokenChanged",e.V))}function cc(e){Et(e,"tokenChanged",e.V),e.A.stop()}function lc(e,t){e.ra=t,Cr(e,"_lat",t)}function fc(e){for(var t=[],n=0;n<e.N.length;n++)t.push(e.N[n](e));return Ie(t).then(function(){return e})}function hc(e){e.a&&!e.I&&(e.I=!0,e.a.subscribe(e))}function pc(e,t){Or(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,metadata:new ec(t.createdAt,t.lastLoginAt),providerData:[]})}function dc(){}function yc(e){return Te().then(function(){if(e.D)throw new qr("app-deleted")})}function mc(e){return D(e.providerData,function(e){return e.providerId})}function vc(e,t){t&&(gc(e,t.providerId),e.providerData.push(t))}function gc(e,t){U(e.providerData,function(e){return e.providerId==t})}function bc(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Cr(e,t,n)}function wc(e,t){var n,r,o;e!=t&&(Or(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,providerData:[]}),t.metadata?Cr(e,"metadata",new ec((o=t.metadata).a,o.b)):Cr(e,"metadata",new ec),N(t.providerData,function(t){vc(e,t)}),n=e.h,r=t.h,n.b=r.b,n.a=r.a,n.c=r.c,Cr(e,"refreshToken",e.h.a))}function Ec(e){return e.F().then(function(t){var n,r,o=e.isAnonymous;return(n=e,r=t,us(n.b,Wa,{idToken:r}).then(b(n.zc,n))).then(function(){return o||bc(e,"isAnonymous",!1),t})})}function Tc(e,t){t[pa]&&e.ra!=t[pa]&&(Ju(e.h,t),e.dispatchEvent(new nc("tokenChanged")),lc(e,t[pa]),bc(e,"refreshToken",e.h.a))}function _c(e,t){return Ec(e).then(function(){if(M(mc(e),t))return fc(e).then(function(){throw new qr("provider-already-linked")})})}function Sc(e,t,n){return kr({user:e,credential:ei(t),additionalUserInfo:t=po(t),operationType:n})}function Ic(e,t){return Tc(e,t),e.reload().then(function(){return e})}function Ac(e,n,r,o,i){if(!cr())return _e(new qr("operation-not-supported-in-this-environment"));if(e.i&&!i)return _e(e.i);var a=ho(r.providerId),s=mr(e.uid+":::"),u=null;(!hr()||$n())&&e.u&&r.isOAuthProvider&&(u=_s(e.u,e.l,e.m,n,r,null,s,t.SDK_VERSION||null));var c=Hn(u,a&&a.Ba,a&&a.Aa);return o=o().then(function(){if(Oc(e),!i)return e.F().then(function(){})}).then(function(){return ju(e.a,c,n,r,s,!!u)}).then(function(){return new ye(function(t,r){e.ha(n,null,new qr("cancelled-popup-request"),e.g||null),e.f=t,e.v=r,e.g=s,e.c=e.a.Ea(e,n,c,s)})}).then(function(e){return c&&Kn(c),e?kr(e):null}).s(function(e){throw c&&Kn(c),e}),kc(e,o,i)}function Cc(e,t,n,r,o){if(!cr())return _e(new qr("operation-not-supported-in-this-environment"));if(e.i&&!o)return _e(e.i);var i=null,a=mr(e.uid+":::");return r=r().then(function(){if(Oc(e),!o)return e.F().then(function(){})}).then(function(){return e.aa=a,fc(e)}).then(function(t){return e.ba&&(t=(t=e.ba).b.set(Pc,e.w(),t.a)),t}).then(function(){return e.a.Ca(t,n,a)}).s(function(t){if(i=t,e.ba)return Nc(e.ba);throw i}).then(function(){if(i)throw i}),kc(e,r,o)}function Oc(e){if(!e.a||!e.I){if(e.a&&!e.I)throw new qr("internal-error");throw new qr("auth-domain-config-required")}}function kc(e,t,n){var r,o,i,a=(o=t,i=n,(r=e).i&&!i?(o.cancel(),_e(r.i)):o.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(r.i||r.dispatchEvent(new nc("userInvalidated")),r.i=e),e}));return e.G.push(a),a.ia(function(){j(e.G,a)}),a}function xc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[pa]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-E())/1e3;var r=new rc(t,n,e);return e.providerData&&N(e.providerData,function(e){e&&vc(r,kr(e))}),e.redirectEventId&&(r.aa=e.redirectEventId),r}function Rc(e){this.a=e,this.b=ru()}Bu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bu.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,o=e.a&&"auth/web-storage-unsupported"==e.a.code,i=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!o&&!i),"unknown"!=n||o||i?e.a?(zu(this,!0,null,e.a),Te()):t.xa(n,r)?function(e,t,n){n=n.xa(t.c,t.b);var r=t.g,o=t.f,i=t.h,a=!!t.c.match(/Redirect$/);n(r,o,i).then(function(t){zu(e,a,t,null)}).s(function(t){zu(e,a,null,t)})}(this,e,t):_e(new qr("invalid-auth-event")):(zu(this,!1,null,null),Te())}else _e(new qr("invalid-auth-event"))},Bu.prototype.Za=function(){this.g&&!this.i&&zu(this,!1,null,null)},Bu.prototype.fa=function(){var e=this;return new ye(function(t,n){var r,o;e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),r=e,o=new qr("timeout"),r.a&&r.a.cancel(),r.a=Lt(Mu.get()).then(function(){r.b||(r.g=!0,zu(r,!0,null,o))}))})},Ku.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.ha(e.c,null,e.a,e.b),Te()):t.xa(n,r)?(i=t,a=(o=e).b,s=o.c,i.xa(s,a)(o.g,o.f,o.h).then(function(e){i.ha(s,e,null,a)}).s(function(e){i.ha(s,null,e,a)})):_e(new qr("invalid-auth-event"))}else _e(new qr("invalid-auth-event"));var o,i,a,s},Gu.prototype.confirm=function(e){return e=Zo(this.verificationId,e),this.a(e)},Yu.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=Lt(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then(function(){return e=r.document,t=null,wr()||!e?Te():new ye(function(n){t=function(){wr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).s(function(n){throw e.removeEventListener("visibilitychange",t,!1),n});var e,t}).then(function(){return t.h()}).then(function(){e(t,!0)}).s(function(n){t.i(n)&&e(t,!1)})}(this,!0)},Yu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},$u.prototype.w=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},$u.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?_e(new qr("user-token-expired")):e||!this.b||E()>this.c-3e4?this.a?function(e,t){return(n=e.f,r=t,new ye(function(e,t){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?wa(n,n.i+"?key="+encodeURIComponent(n.b),function(n){n?n.error?t(ls(n)):n.access_token&&n.refresh_token?e(n):t(new qr("internal-error")):t(new qr("network-request-failed"))},"POST",sn(r).toString(),n.f,n.o.get()):t(new qr("internal-error"))})).then(function(t){return e.b=t.access_token,e.c=Zu(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}}).s(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t});var n,r}(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},ec.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(nc,at),T(rc,xt),rc.prototype.pa=function(e){this.ka=e,ga(this.b,e)},rc.prototype.ea=function(){return this.ka},rc.prototype.ya=function(){return q(this.O)},rc.prototype.Ha=function(){this.A.b&&(this.A.stop(),this.A.start())},Cr(rc.prototype,"providerId","firebase"),(e=rc.prototype).reload=function(){var e=this;return kc(this,yc(this).then(function(){return Ec(e).then(function(){return fc(e)}).then(dc)}))},e.dc=function(e){return this.F(e).then(function(e){return new Xu(e)})},e.F=function(e){var t=this;return kc(this,yc(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new qr("internal-error");return e.accessToken!=t.ra&&(lc(t,e.accessToken),t.dispatchEvent(new nc("tokenChanged"))),bc(t,"refreshToken",e.refreshToken),e.accessToken}))},e.zc=function(e){if(!(e=e.users)||!e.length)throw new qr("internal-error");pc(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt});for(var t=(r=(r=e).providerUserInfo)&&r.length?D(r,function(e){return new tc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[],n=0;n<t.length;n++)vc(this,t[n]);var r;bc(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))},e.hb=function(e){var t=this,n=null;return kc(this,e.f(this.b,this.uid).then(function(e){return Tc(t,e),n=Sc(t,e,"reauthenticate"),t.i=null,t.reload()}).then(function(){return n}),!0)},e.Ac=function(e){return Ir("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.hb(e).then(function(){})},e.fb=function(e){var t=this,n=null;return kc(this,_c(this,e.providerId).then(function(){return t.F()}).then(function(n){return e.b(t.b,n)}).then(function(e){return n=Sc(t,e,"link"),Ic(t,e)}).then(function(){return n}))},e.rc=function(e){return Ir("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.fb(e).then(function(e){return e.user})},e.sc=function(e,t){var n=this;return kc(this,_c(this,"phone").then(function(){return Qu(sc(n),e,t,b(n.fb,n))}))},e.Bc=function(e,t){var n=this;return kc(this,Te().then(function(){return Qu(sc(n),e,t,b(n.hb,n))}),!0)},e.qb=function(e){var t=this;return kc(this,this.F().then(function(n){return t.b.qb(n,e)}).then(function(e){return Tc(t,e),t.reload()}))},e.Tc=function(e){var t=this;return kc(this,this.F().then(function(n){return e.b(t.b,n)}).then(function(e){return Tc(t,e),t.reload()}))},e.rb=function(e){var t=this;return kc(this,this.F().then(function(n){return t.b.rb(n,e)}).then(function(e){return Tc(t,e),t.reload()}))},e.sb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return yc(this);var t=this;return kc(this,this.F().then(function(n){return t.b.sb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return Tc(t,e),bc(t,"displayName",e.displayName||null),bc(t,"photoURL",e.photoUrl||null),N(t.providerData,function(e){"password"===e.providerId&&(Cr(e,"displayName",t.displayName),Cr(e,"photoURL",t.photoURL))}),fc(t)}).then(dc))},e.Rc=function(e){var t=this;return kc(this,Ec(this).then(function(n){return M(mc(t),e)?(r=t.b,o=n,i=[e],us(r,qa,{idToken:o,deleteProvider:i})).then(function(e){var n={};return N(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),N(mc(t),function(e){n[e]||gc(t,e)}),n[Jo.PROVIDER_ID]||Cr(t,"phoneNumber",null),fc(t)}):fc(t).then(function(){throw new qr("no-such-provider")});var r,o,i}))},e.delete=function(){var e=this;return kc(this,this.F().then(function(t){return us(e.b,Fa,{idToken:t})}).then(function(){e.dispatchEvent(new nc("userDeleted"))})).then(function(){for(var t=0;t<e.G.length;t++)e.G[t].cancel("app-deleted");oc(e,null),ac(e,null),e.G=[],e.D=!0,cc(e),Cr(e,"refreshToken",null),e.a&&e.a.unsubscribe(e)})},e.wb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.aa||null)==t||"reauthViaRedirect"==e&&(this.aa||null)==t)},e.ha=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.xa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?b(this.Bb,this):"reauthViaPopup"==e&&t==(this.g||null)?b(this.Cb,this):"linkViaRedirect"==e&&(this.aa||null)==t?b(this.Bb,this):"reauthViaRedirect"==e&&(this.aa||null)==t?b(this.Cb,this):null},e.tc=function(e){var t=this;return Ac(this,"linkViaPopup",e,function(){return _c(t,e.providerId).then(function(){return fc(t)})},!1)},e.Cc=function(e){return Ac(this,"reauthViaPopup",e,function(){return Te()},!0)},e.uc=function(e){var t=this;return Cc(this,"linkViaRedirect",e,function(){return _c(t,e.providerId)},!1)},e.Dc=function(e){return Cc(this,"reauthViaRedirect",e,function(){return Te()},!0)},e.Bb=function(e,t,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return kc(this,this.F().then(function(o){return Pa(r.b,{requestUri:e,postBody:n,sessionId:t,idToken:o})}).then(function(e){return o=Sc(r,e,"link"),Ic(r,e)}).then(function(){return o}))},e.Cb=function(e,t,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return kc(this,Te().then(function(){return Ao(Na(r.b,{requestUri:e,sessionId:t,postBody:n}),r.uid)}).then(function(e){return o=Sc(r,e,"reauthenticate"),Tc(r,e),r.i=null,r.reload()}).then(function(){return o}),!0)},e.kb=function(e){var t=this,n=null;return kc(this,this.F().then(function(t){return n=t,void 0===e||ne(e)?{}:eo(new zr(e))}).then(function(e){return t.b.kb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.u,stsTokenManager:this.h.w(),redirectEventId:this.aa||null};return this.metadata&&se(e,this.metadata.w()),N(this.providerData,function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))}),e};var Pc={name:"redirectUser",B:"session"};function Nc(e){return au(e.b,Pc,e.a)}function Dc(e){var t,n,o,i,a,s,u,c,l;this.a=e,this.b=ru(),this.c=null,this.f=(t=this,n=jc("local"),o=jc("session"),i=jc("none"),(a=t.b,s=n,u=t.a,c=iu(s,u),l=ou(a,s.B),a.get(s,u).then(function(e){var t=null;try{t=yr(r.localStorage.getItem(c))}catch(e){}if(t&&!e)return r.localStorage.removeItem(c),a.set(s,t,u);t&&e&&"localStorage"!=l.type&&r.localStorage.removeItem(c)})).then(function(){return t.b.get(o,t.a)}).then(function(e){return e?o:t.b.get(i,t.a).then(function(e){return e?i:t.b.get(n,t.a).then(function(e){return e?n:t.b.get(Mc,t.a).then(function(e){return e?jc(e):n})})})}).then(function(e){return t.c=e,Lc(t,e.B)}).s(function(){t.c||(t.c=n)})),this.b.addListener(jc("local"),this.a,b(this.g,this))}function Lc(e,t){var n,r,o=[];for(n in tu)tu[n]!==t&&o.push(au(e.b,jc(tu[n]),e.a));return o.push(au(e.b,Mc,e.a)),r=o,new ye(function(e,t){var n=r.length,o=[];if(n)for(var i=function(t,r){n--,o[t]=r,0==n&&e(o)},a=function(e){t(e)},s=0;s<r.length;s++)Se(r[s],w(i,s),a);else e(o)})}Dc.prototype.g=function(){var e=this,t=jc("local");Bc(this,function(){return Te().then(function(){return e.c&&"local"!=e.c.B?e.b.get(t,e.a):null}).then(function(n){if(n)return Lc(e,"local").then(function(){e.c=t})})})};var Mc={name:"persistence",B:"session"};function jc(e){return{name:"authUser",B:e}}function Uc(e,t){return Bc(e,function(){return e.b.set(e.c,t.w(),e.a)})}function Fc(e){return Bc(e,function(){return au(e.b,e.c,e.a)})}function qc(e,t){return Bc(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),xc(e||{})})})}function Bc(e,t){return e.f=e.f.then(t,t),e.f}function Vc(e){if(this.l=!1,Cr(this,"settings",new Hu),Cr(this,"app",e),!Xc(this).options||!Xc(this).options.apiKey)throw new qr("invalid-api-key");var n,r,o,i,a,s,u,c,l,f,h;e=t.SDK_VERSION?ir(t.SDK_VERSION):null,this.b=new fa(Xc(this).options&&Xc(this).options.apiKey,uo(ao),e),this.N=[],this.m=[],this.I=[],this.Tb=t.INTERNAL.createSubscribe(b(this.oc,this)),this.O=void 0,this.Ub=t.INTERNAL.createSubscribe(b(this.pc,this)),Gc(this,null),this.h=new Dc(Xc(this).options.apiKey+":"+Xc(this).name),this.A=new Rc(Xc(this).options.apiKey+":"+Xc(this).name),this.V=Zc(this,(r=Xc(n=this).options.authDomain,o=(i=n,a=(s=i.A,u=Xc(i).options.authDomain,s.b.get(Pc,s.a).then(function(e){return e&&u&&(e.authDomain=u),xc(e||{})})).then(function(e){return(i.D=e)&&(e.ba=i.A),Nc(i.A)}),Zc(i,a)).then(function(){return qc(n.h,r)}).then(function(e){return e?(e.ba=n.A,n.D&&(n.D.aa||null)==(e.aa||null)?e:e.reload().then(function(){return Uc(n.h,e).then(function(){return e})}).s(function(t){return"auth/network-request-failed"==t.code?e:Fc(n.h)})):null}).then(function(e){Gc(n,e||null)}),Zc(n,o))),this.i=Zc(this,(c=this).V.then(function(){return c.fa()}).s(function(){}).then(function(){if(!c.l)return c.ka()}).s(function(){}).then(function(){if(!c.l){c.X=!0;var e=c.h;e.b.addListener(jc("local"),e.a,c.ka)}})),this.X=!1,this.ka=b(this.Oc,this),this.Ha=b(this.Z,this),this.ra=b(this.bc,this),this.sa=b(this.mc,this),this.ta=b(this.nc,this),f=Xc(l=this).options.authDomain,h=Xc(l).options.apiKey,f&&cr()&&(l.Sb=l.V.then(function(){if(!l.l){if(l.a=qu(f,h,Xc(l).name),l.a.subscribe(l),Yc(l)&&hc(Yc(l)),l.D){hc(l.D);var e=l.D;e.pa(l.ea()),oc(e,l),ic(e=l.D,l.G),ac(e,l),l.D=null}return l.a}})),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.vc,this),this.u=0,xt.call(this),Object.defineProperty(this,"lc",{get:function(){return this.ea()},set:function(e){this.pa(e)},enumerable:!1}),this.W=null,this.G=[]}function Wc(e){at.call(this,"languageCodeChanged"),this.g=e}function zc(e){at.call(this,"frameworkChanged"),this.c=e}function Kc(e){return e.Sb||_e(new qr("auth-domain-config-required"))}function Hc(e,t){var n={};return n.apiKey=Xc(e).options.apiKey,n.authDomain=Xc(e).options.authDomain,n.appName=Xc(e).name,e.V.then(function(){return r=n,o=t,i=e.A,a=e.ya(),s=new rc(r,o),i&&(s.ba=i),a&&ic(s,a),s.reload().then(function(){return s});var r,o,i,a,s}).then(function(t){return Yc(e)&&t.uid==Yc(e).uid?wc(Yc(e),t):(Gc(e,t),hc(t)),e.Z(t)}).then(function(){Jc(e)})}function Gc(e,t){var n,r;Yc(e)&&(n=Yc(e),r=e.Ha,U(n.N,function(e){return e==r}),Et(Yc(e),"tokenChanged",e.ra),Et(Yc(e),"userDeleted",e.sa),Et(Yc(e),"userInvalidated",e.ta),cc(Yc(e))),t&&(t.N.push(e.Ha),gt(t,"tokenChanged",e.ra),gt(t,"userDeleted",e.sa),gt(t,"userInvalidated",e.ta),0<e.u&&uc(t)),Cr(e,"currentUser",t),t&&(t.pa(e.ea()),oc(t,e),ic(t,e.G),ac(t,e))}function Qc(e,t){var n=null,r=null;return Zc(e,t.then(function(t){return n=ei(t),r=po(t),Hc(e,t)}).then(function(){return kr({user:Yc(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Xc(e){return e.app}function Yc(e){return e.currentUser}function $c(e){return Yc(e)&&Yc(e)._lat||null}function Jc(e){if(e.X){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t]($c(e));if(e.O!==e.getUid()&&e.I.length)for(e.O=e.getUid(),t=0;t<e.I.length;t++)e.I[t]&&e.I[t]($c(e))}}function Zc(e,t){return e.N.push(t),t.ia(function(){j(e.N,t)}),t}function el(){}function tl(){this.a={},this.b=1e12}Dc.prototype.nb=function(e){var t=null,n=this;return function(e){var t=new qr("invalid-persistence-type"),n=new qr("unsupported-persistence-type");e:{for(r in tu)if(tu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(Zn()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!ur()&&"none"!==e)throw n}}(e),Bc(this,function(){return e!=n.c.B?n.b.get(n.c,n.a).then(function(r){return t=r,Lc(n,e)}).then(function(){if(n.c=jc(e),t)return n.b.set(n.c,t,n.a)}):Te()})},T(Vc,xt),T(Wc,at),T(zc,at),(e=Vc.prototype).nb=function(e){return Zc(this,e=this.h.nb(e))},e.pa=function(e){this.W===e||this.l||(this.W=e,ga(this.b,this.W),this.dispatchEvent(new Wc(this.ea())))},e.ea=function(){return this.W},e.Uc=function(){var e=r.navigator;this.pa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.vc=function(e){this.G.push(e),ba(this.b,t.SDK_VERSION?ir(t.SDK_VERSION,this.G):null),this.dispatchEvent(new zc(this.G))},e.ya=function(){return q(this.G)},e.toJSON=function(){return{apiKey:Xc(this).options.apiKey,authDomain:Xc(this).options.authDomain,appName:Xc(this).name,currentUser:Yc(this)&&Yc(this).w()}},e.wb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.ha=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.xa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?b(this.ac,this):null},e.ac=function(e,t,n){var r=this;e={requestUri:e,postBody:n,sessionId:t},this.c&&(this.c.cancel(),this.c=null);var o=null,i=null,a=Ra(r.b,e).then(function(e){return o=ei(e),i=po(e),e});return Zc(this,e=r.V.then(function(){return a}).then(function(e){return Hc(r,e)}).then(function(){return kr({user:Yc(r),credential:o,additionalUserInfo:i,operationType:"signIn"})}))},e.Mc=function(e){if(!cr())return _e(new qr("operation-not-supported-in-this-environment"));var n=this,r=ho(e.providerId),o=mr(),i=null;(!hr()||$n())&&Xc(this).options.authDomain&&e.isOAuthProvider&&(i=_s(Xc(this).options.authDomain,Xc(this).options.apiKey,Xc(this).name,"signInViaPopup",e,null,o,t.SDK_VERSION||null));var a=Hn(i,r&&r.Ba,r&&r.Aa);return Zc(this,r=Kc(this).then(function(t){return ju(t,a,"signInViaPopup",e,o,!!i)}).then(function(){return new ye(function(e,t){n.ha("signInViaPopup",null,new qr("cancelled-popup-request"),n.g),n.f=e,n.v=t,n.g=o,n.c=n.a.Ea(n,"signInViaPopup",a,o)})}).then(function(e){return a&&Kn(a),e?kr(e):null}).s(function(e){throw a&&Kn(a),e}))},e.Nc=function(e){if(!cr())return _e(new qr("operation-not-supported-in-this-environment"));var t=this;return Zc(this,Kc(this).then(function(){return Bc(e=t.h,function(){return e.b.set(Mc,e.c.B,e.a)});var e}).then(function(){return t.a.Ca("signInViaRedirect",e)}))},e.fa=function(){if(!cr())return _e(new qr("operation-not-supported-in-this-environment"));var e=this;return Zc(this,Kc(this).then(function(){return e.a.fa()}).then(function(e){return e?kr(e):null}))},e.Sc=function(e){if(!e)return _e(new qr("null-user"));var t=this,n={};n.apiKey=Xc(this).options.apiKey,n.authDomain=Xc(this).options.authDomain,n.appName=Xc(this).name;var r=function(e,t,n,r){t=t||{apiKey:e.l,authDomain:e.u,appName:e.m};var o=e.h,i={};return i[pa]=o.b,i.refreshToken=o.a,i.expiresIn=(o.c-E())/1e3,t=new rc(t,i),n&&(t.ba=n),r&&ic(t,r),wc(t,e),t}(e,n,t.A,t.ya());return Zc(this,this.i.then(function(){if(Xc(t).options.apiKey!=e.l)return r.reload()}).then(function(){return Yc(t)&&e.uid==Yc(t).uid?(wc(Yc(t),e),t.Z(e)):(Gc(t,r),hc(r),t.Z(r))}).then(function(){Jc(t)}))},e.ob=function(){var e=this;return Zc(this,this.i.then(function(){return Yc(e)?(Gc(e,null),Fc(e.h).then(function(){Jc(e)})):Te()}))},e.Oc=function(){var e=this;return qc(this.h,Xc(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=Yc(e)&&t){n=Yc(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return wc(Yc(e),t),Yc(e).F();(Yc(e)||t)&&(Gc(e,t),t&&(hc(t),t.ba=e.A),e.a&&e.a.subscribe(e),Jc(e))}})},e.Z=function(e){return Uc(this.h,e)},e.bc=function(){Jc(this),this.Z(Yc(this))},e.mc=function(){this.ob()},e.nc=function(){this.ob()},e.oc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(Yc(t))})},e.pc=function(e){var t,n,r=this;n=function(){e.next(Yc(r))},(t=this).I.push(n),Zc(t,t.i.then(function(){!t.l&&M(t.I,n)&&t.O!==t.getUid()&&(t.O=t.getUid(),n($c(t)))}))},e.xc=function(e,n,r){var o=this;return this.X&&t.Promise.resolve().then(function(){p(e)?e(Yc(o)):p(e.next)&&e.next(Yc(o))}),this.Tb(e,n,r)},e.wc=function(e,n,r){var o=this;return this.X&&t.Promise.resolve().then(function(){o.O=o.getUid(),p(e)?e(Yc(o)):p(e.next)&&e.next(Yc(o))}),this.Ub(e,n,r)},e.cc=function(e){var t=this;return Zc(this,this.i.then(function(){return Yc(t)?Yc(t).F(e).then(function(e){return{accessToken:e}}):null}))},e.Nb=function(e){var t=this;return this.i.then(function(){return Qc(t,us(t.b,rs,{token:e}))}).then(function(e){var n=e.user;return bc(n,"isAnonymous",!1),t.Z(n),e})},e.Gc=function(e){return Ir("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Nb(e)},e.Hc=function(e,t){return Ir("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Ob(e,t)},e.Ob=function(e,t){var n=this;return this.i.then(function(){return Qc(n,us(n.b,os,{email:e,password:t}))})},e.yb=function(e,t){var n=this;return this.i.then(function(){return Qc(n,us(n.b,ja,{email:e,password:t}))})},e.Wb=function(e,t){return Ir("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.yb(e,t)},e.Jc=function(e){return Ir("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Qa(e).then(function(e){return e.user})},e.Qa=function(e){var t=this;return this.i.then(function(){return Qc(t,e.la(t.b))})},e.Ra=function(){var e=this;return this.i.then(function(){var t=Yc(e);return t&&t.isAnonymous?kr({user:t,credential:null,additionalUserInfo:kr({providerId:null,isNewUser:!1}),operationType:"signIn"}):Qc(e,e.b.Ra()).then(function(t){var n=t.user;return bc(n,"isAnonymous",!0),e.Z(n),t})})},e.Ic=function(){return Ir("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Ra()},e.getUid=function(){return Yc(this)&&Yc(this).uid||null},e.Vb=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&Yc(this)&&uc(Yc(this))},e.Ec=function(e){var t=this;N(this.m,function(n){n==e&&t.u--}),this.u<0&&(this.u=0),0==this.u&&Yc(this)&&cc(Yc(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.m.push(e),Zc(this,this.i.then(function(){t.l||M(t.m,e)&&e($c(t))}))},e.removeAuthTokenListener=function(e){U(this.m,function(t){return t==e})},e.delete=function(){this.l=!0;for(var e=0;e<this.N.length;e++)this.N[e].cancel("app-deleted");return this.N=[],this.h&&(e=this.h).b.removeListener(jc("local"),e.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Za()),t.Promise.resolve()},e.Zb=function(e){return Ir("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),Zc(this,us(this.b,Ua,{identifier:e,continueUri:lr()?Vn():"http://localhost"}).then(function(e){return e.allProviders||[]}))},e.$b=function(e){return Zc(this,us(this.b,Ua,{identifier:e,continueUri:lr()?Vn():"http://localhost"}).then(function(e){return e.signinMethods||[]}))},e.qc=function(e){return!!Qo(e)},e.mb=function(e,t){var n=this;return Zc(this,Te().then(function(){var e=new zr(t);if(!e.c)throw new qr("argument-error",Gr+" must be true when sending sign in link to email");return eo(e)}).then(function(t){return n.b.mb(e,t)}).then(function(){}))},e.Vc=function(e){return this.Ja(e).then(function(e){return e.data.email})},e.$a=function(e,t){return Zc(this,this.b.$a(e,t).then(function(){}))},e.Ja=function(e){return Zc(this,this.b.Ja(e).then(function(e){return new Rr(e)}))},e.Xa=function(e){return Zc(this,this.b.Xa(e).then(function(){}))},e.lb=function(e,t){var n=this;return Zc(this,Te().then(function(){return void 0===t||ne(t)?{}:eo(new zr(t))}).then(function(t){return n.b.lb(e,t)}).then(function(){}))},e.Lc=function(e,t){return Zc(this,Qu(this,e,t,b(this.Qa,this)))},e.Kc=function(e,t){var n=this;return Zc(this,Te().then(function(){var r=Go(e,t||Vn());return n.Qa(r)}))},el.prototype.render=function(){},el.prototype.reset=function(){},el.prototype.getResponse=function(){},el.prototype.execute=function(){};var nl=null;function rl(e,t){return(t=ol(t))&&e.a[t]||null}function ol(e){return(e=void 0===e?1e12:e)?e.toString():null}function il(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Pn(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():gt(this.f,"click",this.i)}function al(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function sl(){}tl.prototype.render=function(e,t){return this.a[this.b.toString()]=new il(e,t),this.b++},tl.prototype.reset=function(e){var t=rl(this,e);e=ol(e),t&&e&&(t.delete(),delete this.a[e])},tl.prototype.getResponse=function(e){return(e=rl(this,e))?e.getResponse():null},tl.prototype.execute=function(e){(e=rl(this,e))&&e.execute()},il.prototype.getResponse=function(){return al(this),this.b},il.prototype.execute=function(){al(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(t){}e.a=setTimeout(function(){if(e.a=null,e.b=null,n)try{n()}catch(t){}e.h&&e.execute()},6e4)},500))},il.prototype.delete=function(){al(this),this.g=!0,clearTimeout(this.a),this.a=null,Et(this.f,"click",this.i)},sl.prototype.g=function(){return nl||(nl=new tl),Te(nl)},sl.prototype.c=function(){};var ul=null;function cl(){this.b=r.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var ll=new pn(mn,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),fl=new br(3e4,6e4);cl.prototype.g=function(e){var t=this;return new ye(function(n,o){var i=setTimeout(function(){o(new qr("network-request-failed"))},fl.get());!r.grecaptcha||e!==t.f&&!t.b?(r[t.a]=function(){if(r.grecaptcha){t.f=e;var a=r.grecaptcha.render;r.grecaptcha.render=function(e,n){return e=a(e,n),t.b++,e},clearTimeout(i),n(r.grecaptcha)}else clearTimeout(i),o(new qr("internal-error"));delete r[t.a]},Te(oa(bn(ll,{onload:t.a,hl:e||""}))).s(function(){clearTimeout(i),o(new qr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(r.grecaptcha))})},cl.prototype.c=function(){this.b--};var hl=null;function pl(e,t,n,o,i,a,s){if(Cr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.l=t,this.g=null,s=s?(ul||(ul=new sl),ul):(hl||(hl=new cl),hl),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[ml])throw new qr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[vl],!r.document)throw new qr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Pn(t)||!this.i&&Pn(t).hasChildNodes())throw new qr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new fa(e,a||null,i||null),this.v=o||function(){return null};var u=this;this.o=[];var c=this.a[dl];this.a[dl]=function(e){if(gl(u,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=sr(c,r);"function"==typeof t&&t(e)}};var l=this.a[yl];this.a[yl]=function(){if(gl(u,null),"function"==typeof l)l();else if("string"==typeof l){var e=sr(l,r);"function"==typeof e&&e()}}}var dl="callback",yl="expired-callback",ml="sitekey",vl="size";function gl(e,t){for(var n=0;n<e.o.length;n++)try{e.o[n](t)}catch(e){}}function bl(e,t){return e.h.push(t),t.ia(function(){j(e.h,t)}),t}function wl(e){if(e.D)throw new qr("internal-error","RecaptchaVerifier instance has been destroyed.")}function El(e,n,r){var o=!1;try{this.b=r||t.app()}catch(e){throw new qr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new qr("invalid-api-key");r=this.b.options.apiKey;var i=this,a=null;try{a=this.b.auth().ya()}catch(e){}try{o=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}a=t.SDK_VERSION?ir(t.SDK_VERSION,a):null,pl.call(this,r,e,n,function(){try{var t=i.b.auth().ea()}catch(e){t=null}return t},a,uo(ao),o)}function Tl(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var o=0,i=!1,a=0;a<t.length;a++)if(t[a].optional)i=!0;else{if(i)throw new qr("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(i=t.length,n.length<o||i<n.length)r="Expected "+(o==i?1==o?"1 argument":o+" arguments":o+"-"+i+" arguments")+" but got "+n.length+".";else{for(o=0;o<n.length;o++)if(i=t[o].optional&&void 0===n[o],!t[o].M(n[o])&&!i){if(t=t[o],o<0||o>=_l.length)throw new qr("internal-error","Argument validator received an unsupported number of arguments.");n=_l[o],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new qr("argument-error",e+" failed: "+r)}(e=pl.prototype).za=function(){var e=this;return this.f?this.f:this.f=bl(this,Te().then(function(){if(lr()&&!Jn())return Xn();throw new qr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.v())}).then(function(t){return e.g=t,us(e.u,Qa,{})}).then(function(t){e.a[ml]=t.recaptchaSiteKey}).s(function(t){throw e.f=null,t}))},e.render=function(){wl(this);var e=this;return bl(this,this.za().then(function(){if(null===e.c){var t=e.l;if(!e.i){var n=Pn(t);t=function(e,t,n){var r=arguments,i=document,a=String(r[0]),s=r[1];if(!hn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',ce(s.name),'"'),s.type){a.push(' type="',ce(s.type),'"');var u={};se(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=i.createElement(a),s&&(o(s)?a.className=s:f(s)?a.className=s.join(" "):Nn(a,s)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild(o(n)?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var a=n[i];!h(a)||d(a)&&0<a.nodeType?r(a):N(Ln(a)?q(a):a,r)}}(i,a,r),a}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c}))},e.verify=function(){wl(this);var e=this;return bl(this,this.render().then(function(t){return new ye(function(n){var r=e.g.getResponse(t);r?n(r):(e.o.push(function t(r){var o;r&&(o=t,U(e.o,function(e){return e==o}),n(r))}),e.i&&e.g.execute(e.c))})}))},e.reset=function(){wl(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){wl(this),this.D=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=Pn(this.l);for(var t;t=e.firstChild;)e.removeChild(t)}},T(El,pl);var _l="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Sl(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:o}}function Il(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:i}}function Al(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:d}}function Cl(e,t){return{name:e||"",K:"a function",optional:!!t,M:p}}function Ol(e,t){return{name:e||"",K:"null",optional:!!t,M:l}}function kl(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.la||!n)}}}function xl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&o(e.type)&&p(e.verify))}}}function Rl(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Pl(e,t){for(var n in t){var r=t[n].name;e[r]=Ll(r,e[n],t[n].j)}}function Nl(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:w(function(e){return this[e]},n),set:w(function(e,t,n,r){Tl(e,[n],[r],!0),this[t]=r},r,n,t[n].ub),enumerable:!0})}}function Dl(e,t,n,r){e[t]=Ll(t,n,r)}function Ll(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Tl(a,n,e),t.apply(this,e)}if(!n)return t;var o,i,a=(i=(i=e).split("."))[i.length-1];for(o in t)r[o]=t[o];for(o in t.prototype)r.prototype[o]=t.prototype[o];return r}Pl(Vc.prototype,{Xa:{name:"applyActionCode",j:[Sl("code")]},Ja:{name:"checkActionCode",j:[Sl("code")]},$a:{name:"confirmPasswordReset",j:[Sl("code"),Sl("newPassword")]},yb:{name:"createUserWithEmailAndPassword",j:[Sl("email"),Sl("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[Sl("email"),Sl("password")]},Zb:{name:"fetchProvidersForEmail",j:[Sl("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[Sl("email")]},fa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Sl("emailLink")]},wc:{name:"onAuthStateChanged",j:[Rl(Al(),Cl(),"nextOrObserver"),Cl("opt_error",!0),Cl("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[Rl(Al(),Cl(),"nextOrObserver"),Cl("opt_error",!0),Cl("opt_completed",!0)]},lb:{name:"sendPasswordResetEmail",j:[Sl("email"),Rl(Al("opt_actionCodeSettings",!0),Ol(null,!0),"opt_actionCodeSettings",!0)]},mb:{name:"sendSignInLinkToEmail",j:[Sl("email"),Al("actionCodeSettings")]},nb:{name:"setPersistence",j:[Sl("persistence")]},Qa:{name:"signInAndRetrieveDataWithCredential",j:[kl()]},Ra:{name:"signInAnonymously",j:[]},Ic:{name:"signInAnonymouslyAndRetrieveData",j:[]},Jc:{name:"signInWithCredential",j:[kl()]},Nb:{name:"signInWithCustomToken",j:[Sl("token")]},Gc:{name:"signInAndRetrieveDataWithCustomToken",j:[Sl("token")]},Ob:{name:"signInWithEmailAndPassword",j:[Sl("email"),Sl("password")]},Kc:{name:"signInWithEmailLink",j:[Sl("email"),Sl("emailLink",!0)]},Hc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[Sl("email"),Sl("password")]},Lc:{name:"signInWithPhoneNumber",j:[Sl("phoneNumber"),xl()]},Mc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Sc:{name:"updateCurrentUser",j:[Rl({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof rc)}},Ol(),"user")]},ob:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Sl(null,!0)]},Uc:{name:"useDeviceLanguage",j:[]},Vc:{name:"verifyPasswordResetCode",j:[Sl("code")]}}),Nl(Vc.prototype,{lc:{name:"languageCode",ub:Rl(Sl(),Ol(),"languageCode")}}),(Vc.Persistence=tu).LOCAL="local",Vc.Persistence.SESSION="session",Vc.Persistence.NONE="none",Pl(rc.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Il("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[Il("opt_forceRefresh",!0)]},fb:{name:"linkAndRetrieveDataWithCredential",j:[kl()]},rc:{name:"linkWithCredential",j:[kl()]},sc:{name:"linkWithPhoneNumber",j:[Sl("phoneNumber"),xl()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},hb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[kl()]},Ac:{name:"reauthenticateWithCredential",j:[kl()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Sl("phoneNumber"),xl()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},kb:{name:"sendEmailVerification",j:[Rl(Al("opt_actionCodeSettings",!0),Ol(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Sl(null,!0)]},Rc:{name:"unlink",j:[Sl("provider")]},qb:{name:"updateEmail",j:[Sl("email")]},rb:{name:"updatePassword",j:[Sl("password")]},Tc:{name:"updatePhoneNumber",j:[kl("phone")]},sb:{name:"updateProfile",j:[Al("profile")]}}),Pl(tl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Pl(el.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Pl(ye.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Nl(Hu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",ub:Il("appVerificationDisabledForTesting")}}),Pl(Gu.prototype,{confirm:{name:"confirm",j:[Sl("verificationCode")]}}),Dl(Io,"fromJSON",function(e){e=o(e)?JSON.parse(e):e;for(var t,n=[Po,Ko,Yo,ko],r=0;r<n.length;r++)if(t=n[r](e))return t;return null},[Rl(Sl(),Al(),"json")]),Dl(Ho,"credential",function(e,t){return new zo(e,t)},[Sl("email"),Sl("password")]),Pl(zo.prototype,{w:{name:"toJSON",j:[Sl(null,!0)]}}),Pl(Mo.prototype,{ua:{name:"addScope",j:[Sl("scope")]},Da:{name:"setCustomParameters",j:[Al("customOAuthParameters")]}}),Dl(Mo,"credential",jo,[Rl(Sl(),Al(),"token")]),Dl(Ho,"credentialWithLink",Go,[Sl("email"),Sl("emailLink")]),Pl(Uo.prototype,{ua:{name:"addScope",j:[Sl("scope")]},Da:{name:"setCustomParameters",j:[Al("customOAuthParameters")]}}),Dl(Uo,"credential",Fo,[Rl(Sl(),Al(),"token")]),Pl(qo.prototype,{ua:{name:"addScope",j:[Sl("scope")]},Da:{name:"setCustomParameters",j:[Al("customOAuthParameters")]}}),Dl(qo,"credential",Bo,[Rl(Sl(),Rl(Al(),Ol()),"idToken"),Rl(Sl(),Ol(),"accessToken",!0)]),Pl(Vo.prototype,{Da:{name:"setCustomParameters",j:[Al("customOAuthParameters")]}}),Dl(Vo,"credential",Wo,[Rl(Sl(),Al(),"token"),Sl("secret",!0)]),Pl(Lo.prototype,{ua:{name:"addScope",j:[Sl("scope")]},credential:{name:"credential",j:[Rl(Sl(),Rl(Al(),Ol()),"optionsOrIdToken"),Rl(Sl(),Ol(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[Al("customOAuthParameters")]}}),Pl(xo.prototype,{w:{name:"toJSON",j:[Sl(null,!0)]}}),Pl(Co.prototype,{w:{name:"toJSON",j:[Sl(null,!0)]}}),Dl(Jo,"credential",Zo,[Sl("verificationId"),Sl("verificationCode")]),Pl(Jo.prototype,{Va:{name:"verifyPhoneNumber",j:[Sl("phoneNumber"),xl()]}}),Pl(Xo.prototype,{w:{name:"toJSON",j:[Sl(null,!0)]}}),Pl(qr.prototype,{toJSON:{name:"toJSON",j:[Sl(null,!0)]}}),Pl(ui.prototype,{toJSON:{name:"toJSON",j:[Sl(null,!0)]}}),Pl(si.prototype,{toJSON:{name:"toJSON",j:[Sl(null,!0)]}}),Pl(El.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===t||!t.INTERNAL||!t.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={Auth:Vc,AuthCredential:Io,Error:qr};Dl(e,"EmailAuthProvider",Ho,[]),Dl(e,"FacebookAuthProvider",Mo,[]),Dl(e,"GithubAuthProvider",Uo,[]),Dl(e,"GoogleAuthProvider",qo,[]),Dl(e,"TwitterAuthProvider",Vo,[]),Dl(e,"OAuthProvider",Lo,[Sl("providerId")]),Dl(e,"SAMLAuthProvider",Do,[Sl("providerId")]),Dl(e,"PhoneAuthProvider",Jo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof Vc)}}]),Dl(e,"RecaptchaVerifier",El,[Rl(Sl(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Al("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof t.app.App)}}]),t.INTERNAL.registerService("auth",function(e,t){return t({INTERNAL:{getUid:b((e=new Vc(e)).getUid,e),getToken:b(e.cc,e),addAuthTokenListener:b(e.Vb,e),removeAuthTokenListener:b(e.Ec,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(e){}}),t.INTERNAL.extendNamespace({User:rc})}()}.apply("undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).apply(this,arguments)}catch(n){throw console.error(n),new Error("Cannot instantiate firebase-auth - be sure to load firebase-app.js first.")}}(n(110))}).call(this,n(23))},function(e,t,n){(function(e){!function(t){"use strict";try{(function(){var n,r;t=t&&t.hasOwnProperty("default")?t.default:t,(r=n||(n={}))[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT";var o=n.INFO,i=function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(!(t<e.logLevel)){var i=(new Date).toISOString();switch(t){case n.DEBUG:case n.VERBOSE:console.log.apply(console,["["+i+"]  "+e.name+":"].concat(r));break;case n.INFO:console.info.apply(console,["["+i+"]  "+e.name+":"].concat(r));break;case n.WARN:console.warn.apply(console,["["+i+"]  "+e.name+":"].concat(r));break;case n.ERROR:console.error.apply(console,["["+i+"]  "+e.name+":"].concat(r));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},a=function(){function e(e){this.name=e,this._logLevel=o,this._logHandler=i}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in n))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.ERROR].concat(e))},e}(),s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function u(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function c(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function l(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var f,h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},p=p||{},d=h;function y(e){return"string"==typeof e}function m(e){return"number"==typeof e}function v(e,t){e=e.split("."),t=t||d;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function g(){}function b(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function w(e){return"array"==b(e)}function E(e){var t=b(e);return"array"==t||"object"==t&&"number"==typeof e.length}function T(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var _="closure_uid_"+(1e9*Math.random()>>>0),S=0;function I(e,t,n){return e.call.apply(e.bind,arguments)}function A(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function C(e,t,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?I:A).apply(null,arguments)}function O(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var k=Date.now||function(){return+new Date};function x(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,(e.prototype.constructor=e).yb=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function R(){this.j=this.j,this.i=this.i}R.prototype.j=!1,R.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[_]||(this[_]=++S))},R.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var P=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(y(e))return y(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},N=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=y(e)?e.split(""):e,i=0;i<r;i++)i in o&&t.call(n,o[i],i,e)};function D(e){return Array.prototype.concat.apply([],arguments)}function L(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function M(e){return/^[\s\xa0]*$/.test(e)}var j,U=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function F(e,t){return-1!=e.indexOf(t)}function q(e,t){return e<t?-1:t<e?1:0}e:{var B=d.navigator;if(B){var V=B.userAgent;if(V){j=V;break e}}j=""}function W(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function z(e){var t,n={};for(t in e)n[t]=e[t];return n}var K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])e[n]=r[n];for(var i=0;i<K.length;i++)n=K[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function G(e){return G[" "](e),e}G[" "]=g;var Q,X,Y=F(j,"Opera"),$=F(j,"Trident")||F(j,"MSIE"),J=F(j,"Edge"),Z=J||$,ee=F(j,"Gecko")&&!(F(j.toLowerCase(),"webkit")&&!F(j,"Edge"))&&!(F(j,"Trident")||F(j,"MSIE"))&&!F(j,"Edge"),te=F(j.toLowerCase(),"webkit")&&!F(j,"Edge");function ne(){var e=d.document;return e?e.documentMode:void 0}e:{var re="",oe=(X=j,ee?/rv:([^\);]+)(\)|;)/.exec(X):J?/Edge\/([\d\.]+)/.exec(X):$?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(X):te?/WebKit\/(\S+)/.exec(X):Y?/(?:Version)[ \/]?(\S+)/.exec(X):void 0);if(oe&&(re=oe?oe[1]:""),$){var ie=ne();if(null!=ie&&ie>parseFloat(re)){Q=String(ie);break e}}Q=re}var ae,se={};function ue(e){return t=e,n=function(){for(var t=0,n=U(String(Q)).split("."),r=U(String(e)).split("."),o=Math.max(n.length,r.length),i=0;0==t&&i<o;i++){var a=n[i]||"",s=r[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=q(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||q(0==a[2].length,0==s[2].length)||q(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t},r=se,Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=n();var t,n,r}var ce=d.document;ae=ce&&$?ne()||("CSS1Compat"==ce.compatMode?parseInt(Q,10):5):void 0;var le=!$||9<=Number(ae),fe=$&&!ue("9"),he=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{d.addEventListener("test",g,t),d.removeEventListener("test",g,t)}catch(e){}return e}();function pe(e,t){this.type=e,this.a=this.target=t,this.Ja=!0}function de(e,t){if(pe.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(ee){e:{try{G(t.nodeName);var o=!0;break e}catch(e){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,this.screenY=r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=y(e.pointerType)?e.pointerType:ye[e.pointerType]||"",(this.c=e).defaultPrevented&&this.b()}}pe.prototype.b=function(){this.Ja=!1},x(de,pe);var ye={2:"touch",3:"pen",4:"mouse"};de.prototype.b=function(){de.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,fe)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}};var me="closure_listenable_"+(1e6*Math.random()|0),ve=0;function ge(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=o,this.key=++ve,this.X=this.Z=!1}function be(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function we(e){this.src=e,this.a={},this.b=0}function Ee(e,t){var n=t.type;if(n in e.a){var r,o=e.a[n],i=P(o,t);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(be(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function Te(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.X&&i.listener==t&&i.capture==!!n&&i.da==r)return o}return-1}we.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.a[i])||(e=this.a[i]=[],this.b++);var a=Te(e,t,r,o);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new ge(t,this.src,i,!!r,o)).Z=n,e.push(t)),t};var _e="closure_lm_"+(1e6*Math.random()|0),Se={};function Ie(e,t,n,r,o){if(r&&r.once)return function e(t,n,r,o,i){if(w(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,o,i);return null}return r=Ne(r),t&&t[me]?t.Ba(n,r,T(o)?!!o.capture:!!o,i):Ae(t,n,r,!0,o,i)}(e,t,n,r,o);if(w(t)){for(var i=0;i<t.length;i++)Ie(e,t[i],n,r,o);return null}return n=Ne(n),e&&e[me]?e.Aa(t,n,T(r)?!!r.capture:!!r,o):Ae(e,t,n,!1,r,o)}function Ae(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var a=T(o)?!!o.capture:!!o;if(a&&!le)return null;var s,u,c=Re(e);if(c||(e[_e]=c=new we(e)),(n=c.add(t,n,r,a,i)).proxy)return n;if(s=xe,r=u=le?function(e){return s.call(u.src,u.listener,e)}:function(e){if(!(e=s.call(u.src,u.listener,e)))return e},(n.proxy=r).src=e,r.listener=n,e.addEventListener)he||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(Oe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ce(e){if(!m(e)&&e&&!e.X){var t=e.src;if(t&&t[me])Ee(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Oe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Re(t))?(Ee(n,e),0==n.b&&(n.src=null,t[_e]=null)):be(e)}}}function Oe(e){return e in Se?Se[e]:Se[e]="on"+e}function ke(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&Ce(e),n.call(r,t)}function xe(e,t){return!!e.X||ke(e,le?new de(t,this):t=new de(t||v("window.event"),this))}function Re(e){return(e=e[_e])instanceof we?e:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ne(e){return"function"==b(e)?e:(e[Pe]||(e[Pe]=function(t){return e.handleEvent(t)}),e[Pe])}function De(){R.call(this),this.c=new we(this),(this.J=this).B=null}function Le(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&Ee(e.c,a),o=!1!==s.call(u,r)&&o}}return o&&0!=r.Ja}x(De,R),De.prototype[me]=!0,(f=De.prototype).addEventListener=function(e,t,n,r){Ie(this,e,t,n,r)},f.removeEventListener=function(e,t,n,r){!function e(t,n,r,o,i){if(w(n))for(var a=0;a<n.length;a++)e(t,n[a],r,o,i);else o=T(o)?!!o.capture:!!o,r=Ne(r),t&&t[me]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=Te(a=t.a[n],r,o,i))&&(be(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):t&&(t=Re(t))&&(n=t.a[n.toString()],t=-1,n&&(t=Te(n,r,o,i)),(r=-1<t?n[t]:null)&&Ce(r))}(this,e,t,n,r)},f.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var r=e.type||e;if(y(e))e=new pe(e,n);else if(e instanceof pe)e.target=e.target||n;else{var o=e;H(e=new pe(r,n),o)}if(o=!0,t)for(var i=t.length-1;0<=i;i--){var a=e.a=t[i];o=Le(a,r,!0,e)&&o}if(o=Le(a=e.a=n,r,!0,e)&&o,o=Le(a,r,!1,e)&&o,t)for(i=0;i<t.length;i++)o=Le(a=e.a=t[i],r,!1,e)&&o;return o},f.G=function(){if(De.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)be(n[r]);delete t.a[e],t.b--}}this.B=null},f.Aa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},f.Ba=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Me=d.JSON.stringify;function je(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Ue(){this.b=this.a=null}je.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Fe,qe=new je(function(){return new Be},function(e){e.reset()});function Be(){this.next=this.b=this.a=null}function Ve(e){d.setTimeout(function(){throw e},0)}function We(e,t){var n;Fe||(n=d.Promise.resolve(void 0),Fe=function(){n.then(He)}),ze||(Fe(),ze=!0),Ke.add(e,t)}Ue.prototype.add=function(e,t){var n=qe.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Be.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};var ze=!(Be.prototype.reset=function(){this.next=this.b=this.a=null}),Ke=new Ue;function He(){for(var e;r=n=void 0,r=null,(n=Ke).a&&(r=n.a,n.a=n.a.next,n.a||(n.b=null),r.next=null),e=r;){try{e.a.call(e.b)}catch(e){Ve(e)}var t=qe;t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}var n,r;ze=!1}function Ge(e,t){De.call(this),this.b=e||1,this.a=t||d,this.f=C(this.gb,this),this.g=k()}function Qe(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function Xe(e,t,n){if("function"==b(e))n&&(e=C(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=C(e.handleEvent,e)}return 2147483647<Number(t)?-1:d.setTimeout(e,t||0)}function Ye(e,t,n){R.call(this),this.f=null!=n?C(e,n):e,this.c=t,this.b=C(this.ab,this),this.a=[]}function $e(e){e.U=Xe(e.b,e.c),e.f.apply(null,e.a)}function Je(e){R.call(this),this.b=e,this.a={}}x(Ge,De),(f=Ge.prototype).ba=!1,f.L=null,f.gb=function(){if(this.ba){var e=k()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Qe(this),this.start()))}},f.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=k())},f.G=function(){Ge.N.G.call(this),Qe(this),delete this.a},x(Ye,R),(f=Ye.prototype).ea=!1,f.U=null,f.Ua=function(e){this.a=arguments,this.U?this.ea=!0:$e(this)},f.G=function(){Ye.N.G.call(this),this.U&&(d.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},f.ab=function(){this.U=null,this.ea&&(this.ea=!1,$e(this))},x(Je,R);var Ze=[];function et(e,t,n,r){w(n)||(n&&(Ze[0]=n.toString()),n=Ze);for(var o=0;o<n.length;o++){var i=Ie(t,n[o],r||e.handleEvent,!1,e.b||e);if(!i)break;e.a[i.key]=i}}function tt(e){W(e.a,function(e,t){this.a.hasOwnProperty(t)&&Ce(e)},e),e.a={}}function nt(){}Je.prototype.G=function(){Je.N.G.call(this),tt(this)},Je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rt=new De;function ot(e){pe.call(this,"serverreachability",e)}function it(e){rt.dispatchEvent(new ot(rt,e))}function at(e){pe.call(this,"statevent",e)}function st(e){rt.dispatchEvent(new at(rt,e))}function ut(e){pe.call(this,"timingevent",e)}function ct(e,t){if("function"!=b(e))throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){e()},t)}x(ot,pe),x(at,pe),x(ut,pe);var lt={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},ft={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ht(){}function pt(e){var t;return(t=e.a)||(t=e.a={}),t}function dt(){}ht.prototype.a=null;var yt,mt={OPEN:"a",ib:"b",Na:"c",rb:"d"};function vt(){pe.call(this,"d")}function gt(){pe.call(this,"c")}function bt(){}function wt(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new Je(this),this.O=Et,e=Z?125:void 0,this.P=new Ge(e),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}x(vt,pe),x(gt,pe),x(bt,ht),yt=new bt;var Et=45e3,Tt={},_t={};function St(e,t,n){e.F=1,e.f=Xt(Vt(t)),e.l=n,e.H=!0,At(e,null)}function It(e,t,n,r){e.F=1,e.f=Xt(Vt(t)),e.l=null,e.H=n,At(e,r)}function At(e,t){e.v=k(),kt(e),e.D=Vt(e.f),Qt(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new Ye(C(e.Ka,e,e.a),e.J)),et(e.I,e.a,"readystatechange",e.eb),t=e.h?z(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),it(1)}function Ct(e,t,n){for(var r=!0;!e.m&&e.A<n.length;){var o=Ot(e,n);if(o==_t){4==t&&(e.c=4,st(14),r=!1);break}if(o==Tt){e.c=4,st(15),r=!1;break}Dt(e,o)}4==t&&0==n.length&&(e.c=1,st(16),r=!1),e.b=e.b&&r,r||(Nt(e),Pt(e))}function Ot(e,t){var n=e.A,r=t.indexOf("\n",n);return-1==r?_t:(n=Number(t.substring(n,r)),isNaN(n)?Tt:(r+=1)+n>t.length?_t:(t=t.substr(r,n),e.A=r+n,t))}function kt(e){e.R=k()+e.O,xt(e,e.O)}function xt(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=ct(C(e.bb,e),t)}function Rt(e){e.i&&(d.clearTimeout(e.i),e.i=null)}function Pt(e){e.g.Da()||e.m||e.g.na(e)}function Nt(e){Rt(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,Qe(e.P),tt(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function Dt(e,t){try{e.g.Ga(e,t),it(4)}catch(e){}}function Lt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(E(e)||y(e))N(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(E(e)||y(e)){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;o=(r=function(e){if(e.C&&"function"==typeof e.C)return e.C();if(y(e))return e.split("");if(E(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var i=0;i<o;i++)t.call(void 0,r[i],n&&n[i],e)}}function Mt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Mt)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function jt(e,t){Ft(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Ut(e))}function Ut(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ft(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var o={};for(n=t=0;t<e.a.length;)Ft(o,r=e.a[t])||(o[e.a[n++]=r]=1),t++;e.a.length=n}}function Ft(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(f=wt.prototype).setTimeout=function(e){this.O=e},f.eb=function(e){e=e.target;var t=this.B;t&&3==Vn(e)?t.Ua():this.Ka(e)},f.Ka=function(e){try{if(e==this.a)e:{var t=Vn(this.a),n=this.a.ya(),r=this.a.T();if(!(t<3||3==t&&!Z&&!this.a.aa())){this.m||4!=t||7==n||it(8==n||r<=0?3:2),Rt(this);var o=this.a.T();this.o=o;var i=this.a.aa();if(this.b=200==o){if(this.S&&!this.s){t:{if(this.a){var a=Wn(this.a,"X-HTTP-Initial-Response");if(a&&!M(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.c=3,st(12),Nt(this),Pt(this);break e}this.s=!0,Dt(this,s)}this.H?(Ct(this,t,i),Z&&this.b&&3==t&&(et(this.I,this.P,"tick",this.cb),this.P.start())):Dt(this,i),4==t&&Nt(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,kt(this)))}else 400==o&&0<i.indexOf("Unknown SID")?(this.c=3,st(12)):(this.c=0,st(13)),Nt(this),Pt(this)}}}catch(e){}},f.cb=function(){if(this.a){var e=Vn(this.a),t=this.a.aa();this.A<t.length&&(Rt(this),Ct(this,e,t),this.b&&4!=e&&kt(this))}},f.cancel=function(){this.m=!0,Nt(this)},f.bb=function(){this.i=null;var e=k();0<=e-this.R?(2!=this.F&&(it(3),st(17)),Nt(this),this.c=2,Pt(this)):xt(this,this.R-e)},(f=Mt.prototype).C=function(){Ut(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},f.K=function(){return Ut(this),this.a.concat()},f.get=function(e,t){return Ft(this.b,e)?this.b[e]:t},f.set=function(e,t){Ft(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},f.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);e.call(t,i,o,this)}};var qt=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bt(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof Bt?(this.h=void 0!==t?t:e.h,Wt(this,e.f),this.j=e.j,zt(this,e.b),Kt(this,e.i),this.a=e.a,Ht(this,ln(e.c)),this.g=e.g):e&&(n=String(e).match(qt))?(this.h=!!t,Wt(this,n[1]||"",!0),this.j=Yt(n[2]||""),zt(this,n[3]||"",!0),Kt(this,n[4]),this.a=Yt(n[5]||"",!0),Ht(this,n[6]||"",!0),this.g=Yt(n[7]||"")):(this.h=!!t,this.c=new on(null,this.h))}function Vt(e){return new Bt(e)}function Wt(e,t,n){e.f=n?Yt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function zt(e,t,n){e.b=n?Yt(t,!0):t}function Kt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.i=t}else e.i=null}function Ht(e,t,n){var r,o;t instanceof on?(e.c=t,r=e.c,(o=e.h)&&!r.f&&(an(r),r.c=null,r.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(sn(this,t),cn(this,n,e))},r)),r.f=o):(n||(t=$t(t,nn)),e.c=new on(t,e.h))}function Gt(e,t,n){e.c.set(t,n)}function Qt(e,t,n){w(n)||(n=[String(n)]),cn(e.c,t,n)}function Xt(e){return Gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^k()).toString(36)),e}function Yt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function $t(e,t,n){return y(e)?(e=encodeURI(e).replace(t,Jt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Bt.prototype.toString=function(){var e=[],t=this.f;t&&e.push($t(t,Zt,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push($t(t,Zt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push($t(n,"/"==n.charAt(0)?tn:en,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",$t(n,rn)),e.join("")},Bt.prototype.resolve=function(e){var t=Vt(this),n=!!e.f;n?Wt(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?zt(t,e.b):n=null!=e.i;var r=e.a;if(n)Kt(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var o=t.a.lastIndexOf("/");-1!=o&&(r=t.a.substr(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(F(o,"./")||F(o,"/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var i=[],a=0;a<o.length;){var s=o[a++];"."==s?r&&a==o.length&&i.push(""):".."==s?((1<i.length||1==i.length&&""!=i[0])&&i.pop(),r&&a==o.length&&i.push("")):(i.push(s),r=!0)}r=i.join("/")}else r=o}return n?t.a=r:n=""!==e.c.toString(),n?Ht(t,ln(e.c)):n=!!e.g,n&&(t.g=e.g),t};var Zt=/[#\/\?@]/g,en=/[#\?:]/g,tn=/[#\?]/g,nn=/[#\?@]/g,rn=/#/g;function on(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function an(e){e.a||(e.a=new Mt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function sn(e,t){an(e),t=fn(e,t),Ft(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,jt(e.a,t))}function un(e,t){return an(e),t=fn(e,t),Ft(e.a.b,t)}function cn(e,t,n){sn(e,t),0<n.length&&(e.c=null,e.a.set(fn(e,t),L(n)),e.b+=n.length)}function ln(e){var t=new on;return t.c=e.c,e.a&&(t.a=new Mt(e.a),t.b=e.b),t}function fn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function hn(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function pn(e){var t=e.a.F.a;if(null!=t)st(4),t?(st(10),tr(e.a,e,!1)):(st(11),tr(e.a,e,!0));else{e.b=new wt(e,void 0,void 0),e.b.h=e.h,t=ar(t=e.a,t.Y()?e.f:null,e.i),st(4),Qt(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.I;n&&r&&Gt(t,n,r),It(e.b,t,!1,e.f)}}function dn(){this.a=this.b=null}function yn(){this.a=new Mt}function mn(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[_]||(e[_]=++S)):t.charAt(0)+e}function vn(e,t){this.b=e,this.a=t}function gn(e){this.g=e||bn,e=d.PerformanceNavigationTiming?0<(e=d.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(d.ka&&d.ka.Ea&&d.ka.Ea()&&d.ka.Ea().zb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new yn),this.b=null,this.c=[]}(f=on.prototype).add=function(e,t){an(this),this.c=null,e=fn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},f.forEach=function(e,t){an(this),this.a.forEach(function(n,r){N(n,function(n){e.call(t,n,r,this)},this)},this)},f.K=function(){an(this);for(var e=this.a.C(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var o=e[r],i=0;i<o.length;i++)n.push(t[r]);return n},f.C=function(e){an(this);var t=[];if(y(e))un(this,e)&&(t=D(t,this.a.get(fn(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=D(t,e[n])}return t},f.set=function(e,t){return an(this),this.c=null,un(this,e=fn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},f.get=function(e,t){return e&&0<(e=this.C(e)).length?String(e[0]):t},f.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.C(r);for(var i=0;i<r.length;i++){var a=o;""!==r[i]&&(a+="="+encodeURIComponent(String(r[i]))),e.push(a)}}return this.c=e.join("&")},x(function(){},function(){}),(f=hn.prototype).M=null,f.$=function(e){return this.a.$(e)},f.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},f.Da=function(){return!1},f.Ga=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=Wn(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=Wn(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var r=this.a.ja.a.parse(t)}catch(e){return(t=this.a).m=this.c,void or(t,2)}this.f=r[0]}else(t=this.a).m=this.c,or(t,2)}else 1==this.M&&(this.g?st(6):"11111"==t?(st(5),this.g=!0,(!$||10<=Number(ae))&&(this.c=200,this.b.cancel(),st(11),tr(this.a,this,!0))):(st(7),this.g=!1))},f.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,pn(this)):1==this.M&&(this.g?(st(11),tr(this.a,this,!0)):(st(10),tr(this.a,this,!1)));else{0==this.M?st(8):1==this.M&&st(9);var e=this.a;e.m=this.c,or(e,2)}},f.Y=function(){return this.a.Y()},f.ma=function(){return this.a.ma()},yn.prototype.add=function(e){this.a.set(mn(e),e)},yn.prototype.C=function(){return this.a.C()};var bn=10;function wn(e,t){!e.a&&(F(t,"spdy")||F(t,"quic")||F(t,"h2"))&&(e.f=e.g,e.a=new yn,e.b&&(Sn(e,e.b),e.b=null))}function En(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function Tn(e){return e.b?1:e.a?e.a.a.c:0}function _n(e,t){return e=e.b?e.b==t:!!e.a&&(t=mn(t),Ft(e.a.a.b,t))}function Sn(e,t){e.a?e.a.add(t):e.b=t}function In(e,t){var n;e.b&&e.b==t?e.b=null:((n=e.a)&&(n=mn(t),n=Ft(e.a.a.b,n)),n&&jt(e.a.a,mn(t)))}function An(e){if(null!=e.b)return e.c.concat(e.b.j);if(null==e.a||0==e.a.a.c)return L(e.c);var t=e.c;return N(e.a.C(),function(e){t=t.concat(e.j)}),t}function Cn(){}function On(){this.a=new Cn}function kn(e,t,n){var r=n||"";try{Lt(e,function(e,n){var o=e;T(e)&&(o=Me(e)),t.push(r+n+"="+encodeURIComponent(o))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function xn(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch(e){}}gn.prototype.cancel=function(){var e;this.c=An(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(N(this.a.C(),function(e){e.cancel()}),(e=this.a.a).b={},e.a.length=0,e.c=0)},Cn.prototype.stringify=function(e){return d.JSON.stringify(e,void 0)},Cn.prototype.parse=function(e){return d.JSON.parse(e,void 0)};var Rn=d.JSON.parse;function Pn(e){De.call(this),this.headers=new Mt,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Nn,this.D=this.F=!1}x(Pn,De);var Nn="",Dn=/^https?$/i,Ln=["POST","PUT"];function Mn(e){return"content-type"==e.toLowerCase()}function jn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Un(e),qn(e)}function Un(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Fn(e){if(e.b&&void 0!==p&&(!e.s[1]||4!=Vn(e)||2!=e.T()))if(e.l&&4==Vn(e))Xe(e.Fa,0,e);else if(e.dispatchEvent("readystatechange"),4==Vn(e)){e.b=!1;try{var t,n=e.T();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var o;if(o=0===n){var i=String(e.A).match(qt)[1]||null;if(!i&&d.self&&d.self.location){var a=d.self.location.protocol;i=a.substr(0,a.length-1)}o=!Dn.test(i?i.toLowerCase():"")}t=o}t?(e.dispatchEvent("complete"),e.dispatchEvent("success")):(e.h=6,e.f=e.za()+" ["+e.T()+"]",Un(e))}finally{qn(e)}}}function qn(e,t){if(e.a){Bn(e);var n=e.a,r=e.s[0]?g:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){}}}function Bn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(d.clearTimeout(e.m),e.m=null)}function Vn(e){return e.a?e.a.readyState:0}function Wn(e,t){return e.a?e.a.getResponseHeader(t):null}function zn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;var o;if(o="",W(n,function(e,t){o+=t,o+=":",o+=e,o+="\r\n"}),n=o,y(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if((n=e.indexOf("#"))<0&&(n=e.length),(r=e.indexOf("?"))<0||n<r){r=n;var i=""}else i=e.substring(r+1,n);n=(e=[e.substr(0,r),i,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return Gt(e,t,n),e}function Kn(e){this.f=[],this.F=new dn,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!v("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=v("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Sa=v("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Qa=v("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=v("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.La=e&&e.Ab||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new gn(e&&e.concurrentRequestLimit),this.ja=new On,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Hn(e){if(Gn(e),3==e.u){var t=e.P++,n=Vt(e.B);Gt(n,"SID",e.H),Gt(n,"RID",t),Gt(n,"TYPE","terminate"),$n(e,n),(t=new wt(e,t,void 0)).F=2,t.f=Xt(Vt(n)),n=!1,d.navigator&&d.navigator.sendBeacon&&(n=d.navigator.sendBeacon(t.f.toString(),"")),!n&&d.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=k(),kt(t)}ir(e)}function Gn(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(d.clearTimeout(e.l),e.l=null),nr(e),e.b.cancel(),e.h&&(m(e.h)&&d.clearTimeout(e.h),e.h=null)}function Qn(e,t){e.f.push(new vn(e.Ra++,t)),3==e.u&&Xn(e)}function Xn(e){En(e.b)||e.h||(e.h=!0,We(e.Ia,e),e.A=0)}function Yn(e,t){var n;n=t?t.W:e.P++;var r=Vt(e.B);Gt(r,"SID",e.H),Gt(r,"RID",n),Gt(r,"AID",e.O),$n(e,r),e.g&&e.i&&zn(r,e.g,e.i),n=new wt(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=Jn(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),Sn(e.b,n),St(n,r,t)}function $n(e,t){e.c&&Lt({},function(e,n){Gt(t,n,e)})}function Jn(e,t,n){n=Math.min(e.f.length,n);var r=e.c?C(e.c.Ta,e.c,e):null;e:for(var o=e.f,i=-1;;){var a=["count="+n];-1==i?0<n?(i=o[0].b,a.push("ofs="+i)):i=0:a.push("ofs="+i);for(var s=!0,u=0;u<n;u++){var c=o[u].b,l=o[u].a;if((c-=i)<0)i=Math.max(0,o[u].b-100),s=!1;else try{kn(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.f.splice(0,n),t.j=e,r}function Zn(e){e.a||e.l||(e.S=1,We(e.Ha,e),e.v=0)}function er(e){return!(e.a||e.l||3<=e.v)&&(e.S++,e.l=ct(C(e.Ha,e),rr(e,e.v)),e.v++,!0)}function tr(e,t,n){var r=t.l;r&&wn(e.b,r),e.ia=e.oa&&n,e.m=t.c,e.B=ar(e,null,e.ha),Xn(e)}function nr(e){null!=e.s&&(d.clearTimeout(e.s),e.s=null)}function rr(e,t){var n=e.Oa+Math.floor(Math.random()*e.Sa);return e.ma()||(n*=2),n*t}function or(e,t){if(2==t){var n=null;e.c&&(n=null);var r=C(e.fb,e);n||(n=new Bt("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||Wt(n,"https"),Xt(n)),function(e,t){var n=new nt;if(d.Image){var r=new Image;r.onload=O(xn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=O(xn,n,r,"TestLoadImage: error",!1,t),r.onabort=O(xn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=O(xn,n,r,"TestLoadImage: timeout",!1,t),d.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else st(2);e.u=0,e.c&&e.c.ta(t),ir(e),Gn(e)}function ir(e){e.u=0,e.m=-1,e.c&&(0==An(e.b).length&&0==e.f.length||(e.b.c.length=0,L(e.f),e.f.length=0),e.c.sa())}function ar(e,t,n){var r,o,i,a,s,u,c=(r=n)instanceof Bt?Vt(r):new Bt(r,void 0);if(""!=c.b)t&&zt(c,t+"."+c.b),Kt(c,c.i);else{var l,f=d.location;l=t?t+"."+f.hostname:f.hostname,o=f.protocol,i=l,a=+f.port,s=n,u=new Bt(null,void 0),o&&Wt(u,o),i&&zt(u,i),a&&Kt(u,a),s&&(u.a=s),c=u}return e.V&&W(e.V,function(e,t){Gt(c,t,e)}),t=e.j,n=e.I,t&&n&&Gt(c,t,n),Gt(c,"VER",e.wa),$n(e,c),c}function sr(){}function ur(){if($&&!(10<=Number(ae)))throw Error("Environmental error: no available transport.")}function cr(e,t){De.call(this),this.a=new Kn(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:function(e){for(var t=e,n=1;n<arguments.length;n++){var r,o=arguments[n];0==o.lastIndexOf("/",0)?t=o:((r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),t+=r?o:"/"+o)}return t}(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!M(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!M(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new hr(this)}function lr(e){vt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function fr(){gt.call(this),this.status=1}function hr(e){this.a=e}(f=Pn.prototype).ca=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?pt(this.H):pt(yt),this.a.onreadystatechange=C(this.Fa,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(e){return void jn(this,e)}e=n||"";var o,i=new Mt(this.headers);r&&Lt(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=Mn,n=e.length,r=y(e)?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return t<0?null:y(e)?e.charAt(t):e[t]}(i.K()),n=d.FormData&&e instanceof d.FormData,!(0<=P(Ln,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.a.setRequestHeader(t,e)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Bn(this),0<this.o&&((this.D=(o=this.a,$&&ue(9)&&m(o.timeout)&&void 0!==o.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=C(this.Ca,this)):this.m=Xe(this.Ca,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){jn(this,e)}},f.Ca=function(){void 0!==p&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},f.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),qn(this))},f.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),qn(this,!0)),Pn.N.G.call(this)},f.Fa=function(){this.j||(this.w||this.l||this.g?Fn(this):this.$a())},f.$a=function(){Fn(this)},f.T=function(){try{return 2<Vn(this)?this.a.status:-1}catch(r){return-1}},f.za=function(){try{return 2<Vn(this)?this.a.statusText:""}catch(r){return""}},f.aa=function(){try{return this.a?this.a.responseText:""}catch(r){return""}},f.Va=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Rn(t)}},f.ya=function(){return this.h},f.Ya=function(){return y(this.f)?this.f:String(this.f)},(f=Kn.prototype).wa=8,f.u=1,f.Da=function(){return 0==this.u},f.Ia=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random());var t,n=new wt(this,e=this.P++,void 0),r=this.i;if(this.J&&(r?H(r=z(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)e:{for(var o=t=0;o<this.f.length;o++){var i=this.f[o];if(void 0===(i="__data__"in i.a&&y(i=i.a.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=o;break e}if(4096===t||o===this.f.length-1){t=o+1;break e}}t=1e3}else t=1e3;t=Jn(this,n,t),Gt(o=Vt(this.B),"RID",e),Gt(o,"CVER",22),this.o&&this.j&&Gt(o,"X-HTTP-Session-Id",this.j),$n(this,o),this.g&&r&&zn(o,this.g,r),Sn(this.b,n),this.W?(Gt(o,"$req",t),Gt(o,"SID","null"),n.S=!0,St(n,o,null)):St(n,o,t),this.u=2}}else 3==this.u&&(e?Yn(this,e):0==this.f.length||En(this.b)||Yn(this))},f.Ha=function(){this.l=null,this.a=new wt(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=Vt(this.pa);Gt(e,"RID","rpc"),Gt(e,"SID",this.H),Gt(e,"CI",this.ia?"0":"1"),Gt(e,"AID",this.O),$n(this,e),Gt(e,"TYPE","xmlhttp"),this.g&&this.i&&zn(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),It(this.a,e,!0,this.ga)},f.Ga=function(e,t){if(0!=this.u&&(this.a==e||_n(this.b,e)))if(this.m=e.o,!e.s&&_n(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(e){n=null}if(w(n)&&3==n.length){if(0==(t=n)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;nr(this),this.a.cancel(),this.a=null}er(this),st(18)}}else this.ra=t[1],0<this.ra-this.O&&t[2]<37500&&this.ia&&0==this.v&&!this.s&&(this.s=ct(C(this.Za,this),6e3));if(Tn(this.b)<=1&&this.fa){try{this.fa()}catch(e){}this.fa=void 0}}else or(this,11)}else if((e.s||this.a==e)&&nr(this),!M(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var r=t[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var o=r[3];null!=o&&(this.wa=o),null!=(r=r[5])&&m(r)&&0<r&&(this.D=1.5*r),this.o&&(r=e.a)&&((o=Wn(r,"X-Client-Wire-Protocol"))&&wn(this.b,o),this.j&&(r=Wn(r,"X-HTTP-Session-Id")))&&(this.I=r,Gt(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=e,this.pa=ar(this,this.Y()?this.ga:null,this.ha),r.s?(In(this.b,r),(o=this.D)&&r.setTimeout(o),r.i&&(Rt(r),kt(r)),this.a=r):Zn(this),0<this.f.length&&Xn(this)}else"stop"!=r[0]&&"close"!=r[0]||or(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?or(this,7):Hn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},f.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,er(this),st(19))},f.na=function(e){var t,n,r=null;if(this.a==e){nr(this),this.a=null;var o=2}else{if(!_n(this.b,e))return;r=e.j,In(this.b,e),o=1}if(this.m=e.o,0!=this.u)if(e.b)1==o?(r=k()-e.v,rt.dispatchEvent(new ut(rt,e.l?e.l.length:0,r,this.A)),Xn(this)):Zn(this);else{var i=e.c;if(3==i||0==i&&0<this.m||(1!=o||(n=e,Tn((t=this).b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=n.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Pa?0:t.Qa)||(t.h=ct(C(t.Ia,t,n),rr(t,t.A)),t.A++,0))))&&(2!=o||!er(this)))switch(r&&0<r.length&&(e=this.b,e.c=e.c.concat(r)),i){case 1:or(this,5);break;case 4:or(this,10);break;case 3:or(this,6);break;default:or(this,2)}}},f.fb=function(e){st(e?2:1)},f.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pn(this.La)).F=this.R,e},f.ma=function(){return!!this.c&&!0},f.Y=function(){return this.R},(f=sr.prototype).va=function(){},f.ua=function(){},f.ta=function(){},f.sa=function(){},f.Ta=function(){},ur.prototype.a=function(e,t){return new cr(e,t)},x(cr,De),(f=cr.prototype).addEventListener=function(e,t,n,r){cr.N.addEventListener.call(this,e,t,n,r)},f.removeEventListener=function(e,t,n,r){cr.N.removeEventListener.call(this,e,t,n,r)},f.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,r=this.b||void 0;st(0),e.ha=n,e.V=r||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new hn(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=zn(t,e.g,e.i)),(e=e.w).i=n,t=ar(e.a,null,e.i),st(3),null!=(n=e.a.F.b)?(e.f=n[0],e.M=1,pn(e)):(Qt(t,"MODE","init"),!e.a.o&&e.a.j&&Qt(t,"X-HTTP-Session-Id",e.a.j),e.b=new wt(e,void 0,void 0),e.b.h=e.h,It(e.b,t,!1,null),e.M=0)},f.close=function(){Hn(this.a)},f.Xa=function(e){if(y(e)){var t={};t.__data__=e,Qn(this.a,t)}else this.h?((t={}).__data__=Me(e),Qn(this.a,t)):Qn(this.a,e)},f.G=function(){this.a.c=null,delete this.f,Hn(this.a),delete this.a,cr.N.G.call(this)},x(lr,vt),x(fr,gt),x(hr,sr),hr.prototype.va=function(){this.a.dispatchEvent("a")},hr.prototype.ua=function(e){this.a.dispatchEvent(new lr(e))},hr.prototype.ta=function(e){this.a.dispatchEvent(new fr(e))},hr.prototype.sa=function(){this.a.dispatchEvent("b")};var pr=O(function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r},ur);ur.prototype.createWebChannel=ur.prototype.a,cr.prototype.send=cr.prototype.Xa,cr.prototype.open=cr.prototype.Wa,cr.prototype.close=cr.prototype.close,lt.NO_ERROR=0,lt.TIMEOUT=8,lt.HTTP_ERROR=6,ft.COMPLETE="complete",(dt.EventType=mt).OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",De.prototype.listen=De.prototype.Aa,Pn.prototype.listenOnce=Pn.prototype.Ba,Pn.prototype.getLastError=Pn.prototype.Ya,Pn.prototype.getLastErrorCode=Pn.prototype.ya,Pn.prototype.getStatus=Pn.prototype.T,Pn.prototype.getStatusText=Pn.prototype.za,Pn.prototype.getResponseJson=Pn.prototype.Va,Pn.prototype.getResponseText=Pn.prototype.aa,Pn.prototype.send=Pn.prototype.ca;var dr,yr,mr={createWebChannelTransport:pr,ErrorCode:lt,EventType:ft,WebChannel:dt,XhrIo:Pn},vr=mr.createWebChannelTransport,gr=mr.ErrorCode,br=mr.EventType,wr=mr.WebChannel,Er=mr.XhrIo,Tr=function(e){function t(n,r){var o=e.call(this,r)||this;return o.code=n,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,_r.prototype.create),o}return u(t,e),t}(Error),_r=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e,t){void 0===t&&(t={});for(var n,r=this.service+"/"+e,o=this.errors[e],i=o?(n=t,o.replace(Sr,function(e,t){var r=n[t];return null!=r?r.toString():"<"+t+"?>"})):"Error",a=this.serviceName+": "+i+" ("+r+").",s=new Tr(r,a),u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];"_"!==l.slice(-1)&&(l in s&&console.warn('Overwriting FirebaseError base field "'+l+'" can cause unexpected behavior.'),s[l]=t[l])}return s},e}(),Sr=/\{\$([^}]+)}/g,Ir=t.SDK_VERSION,Ar=new a("@firebase/firestore");function Cr(){return Ar.logLevel===n.DEBUG?dr.DEBUG:Ar.logLevel===n.SILENT?dr.SILENT:dr.ERROR}function Or(e){switch(e){case dr.DEBUG:Ar.logLevel=n.DEBUG;break;case dr.ERROR:Ar.logLevel=n.ERROR;break;case dr.SILENT:Ar.logLevel=n.SILENT;break;default:Ar.error("Firestore ("+Ir+"): Invalid value passed to `setLogLevel`")}}function kr(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(Ar.logLevel<=n.DEBUG){var i=r.map(Rr);Ar.debug.apply(Ar,["Firestore ("+Ir+") ["+e+"]: "+t].concat(i))}}function xr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Ar.logLevel<=n.ERROR){var o=t.map(Rr);Ar.error.apply(Ar,["Firestore ("+Ir+"): "+e].concat(o))}}function Rr(e){if("string"==typeof e)return e;var t=Dr.getPlatform();try{return t.formatJSON(e)}catch(t){return e}}function Pr(e){var t="FIRESTORE ("+Ir+") INTERNAL ASSERTION FAILED: "+e;throw xr(t),new Error(t)}function Nr(e,t){e||Pr(t)}(yr=dr||(dr={}))[yr.DEBUG=0]="DEBUG",yr[yr.ERROR=1]="ERROR",yr[yr.SILENT=2]="SILENT";var Dr=function(){function e(){}return e.setPlatform=function(t){e.platform&&Pr("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||Pr("Platform not set"),e.platform},e}();function Lr(){return Dr.getPlatform().emptyByteString}var Mr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},jr=function(e){function t(t,n){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return u(t,e),t}(Error);function Ur(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new jr(Mr.INVALID_ARGUMENT,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function Fr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qr(e,t){return void 0!==e?e:t}function Br(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function Vr(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wr(e){for(var t in Nr(null!=e&&"object"==typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function zr(e,t){if(0!==t.length)throw new jr(Mr.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+ao(t.length,"argument")+".")}function Kr(e,t,n){if(t.length!==n)throw new jr(Mr.INVALID_ARGUMENT,"Function "+e+"() requires "+ao(n,"argument")+", but was called with "+ao(t.length,"argument")+".")}function Hr(e,t,n){if(t.length<n)throw new jr(Mr.INVALID_ARGUMENT,"Function "+e+"() requires at least "+ao(n,"argument")+", but was called with "+ao(t.length,"argument")+".")}function Gr(e,t,n,r){if(t.length<n||t.length>r)throw new jr(Mr.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+ao(t.length,"argument")+".")}function Qr(e,t,n,r){Zr(e,t,io(n)+" argument",r)}function Xr(e,t,n,r){void 0!==r&&Qr(e,t,n,r)}function Yr(e,t,n,r){Zr(e,t,n+" option",r)}function $r(e,t,n,r){void 0!==r&&Yr(e,t,n,r)}function Jr(e,t,n,r,o){void 0!==r&&function(e,t,n,r,o){for(var i=[],a=0,s=o;a<s.length;a++){var u=s[a];if(u===r)return;i.push(to(u))}var c=to(r);throw new jr(Mr.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+i.join(", "))}(e,0,n,r,o)}function Zr(e,t,n,r){if(!("object"===t?eo(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var o=to(r);throw new jr(Mr.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+o)}}function eo(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function to(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":Pr("Unknown wrong type: "+typeof e);if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}function no(e,t,n){if(void 0===n)throw new jr(Mr.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+io(t)+" argument, but it was undefined.")}function ro(e,t,n){Vr(t,function(t,r){if(n.indexOf(t)<0)throw new jr(Mr.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))})}function oo(e,t,n,r){var o=to(r);return new jr(Mr.INVALID_ARGUMENT,"Function "+e+"() requires its "+io(n)+" argument to be a "+t+", but it was: "+o)}function io(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function ao(e,t){return e+" "+t+(1===e?"":"s")}var so=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return Nr(20===t.length,"Invalid auto ID: "+t),t},e}();function uo(e,t){return e<t?-1:t<e?1:0}function co(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function lo(e){return e+"\0"}function fo(){if("undefined"==typeof Uint8Array)throw new jr(Mr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ho(){if(!Dr.getPlatform().base64Available)throw new jr(Mr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var po,yo,mo,vo,go=function(){function e(e){ho(),this._binaryString=e}return e.fromBase64String=function(t){Kr("Blob.fromBase64String",arguments,1),Qr("Blob.fromBase64String","string",1,t),ho();try{return new e(Dr.getPlatform().atob(t))}catch(t){throw new jr(Mr.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(Kr("Blob.fromUint8Array",arguments,1),fo(),!(t instanceof Uint8Array))throw oo("Blob.fromUint8Array","Uint8Array",1,t);return new e(Array.prototype.map.call(t,function(e){return String.fromCharCode(e)}).join(""))},e.prototype.toBase64=function(){return Kr("Blob.toBase64",arguments,0),ho(),Dr.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){Kr("Blob.toUint8Array",arguments,0),fo();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._binaryString===e._binaryString},e.prototype._compareTo=function(e){return uo(this._binaryString,e._binaryString)},e}(),bo=Ur(go,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),wo=function(){function e(e,t){if(Kr("GeoPoint",arguments,2),Qr("GeoPoint","number",1,e),Qr("GeoPoint","number",2,t),!isFinite(e)||e<-90||90<e)throw new jr(Mr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||180<t)throw new jr(Mr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return uo(this._lat,e._lat)||uo(this._long,e._long)},e}(),Eo=function(){function e(e,t){if(this.seconds=e,(this.nanoseconds=t)<0)throw new jr(Mr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new jr(Mr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new jr(Mr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new jr(Mr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?uo(this.nanoseconds,e.nanoseconds):uo(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e}(),To=function(e,t,n,r,o){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=o},_o="(default)",So=function(){function e(e,t){this.projectId=e,this.database=t||_o}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database===_o},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return uo(this.projectId,e.projectId)||uo(this.database,e.database)},e}(),Io="__name__",Ao=function(){function e(e,t,n){this.init(e,t,n)}return e.prototype.init=function(e,t,n){void 0===t?t=0:t>e.length&&Pr("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&Pr("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n},e.prototype.construct=function(e,t,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(e,t,n),r},Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):"string"==typeof t?n.push(t):Pr("Unknown parameter type for Path.child(): "+t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,Nr(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return Nr(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return Nr(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return Nr(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=e.get(r),i=t.get(r);if(o<i)return-1;if(i<o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Co=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(0<=e.indexOf("//"))throw new jr(Mr.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter(function(e){return 0<e.length}))},t.EMPTY_PATH=new t([]),t}(Ao),Oo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ko=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.isValidIdentifier=function(e){return Oo.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&this.get(0)===Io},t.keyField=function(){return new t([Io])},t.fromServerFormat=function(e){for(var n=[],r="",o=0,i=function(){if(0===r.length)throw new jr(Mr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;o<e.length;){var s=e[o];if("\\"===s){if(o+1===e.length)throw new jr(Mr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[o+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new jr(Mr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,o+=2}else"`"===s?a=!a:"."!==s||a?r+=s:i(),o++}if(i(),a)throw new jr(Mr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(Ao),xo=function(){function e(t){this.path=t,Nr(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.hasCollectionId=function(e){return 2<=this.path.length&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Co.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Co.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Co(t.slice()))},e.fromPathString=function(t){return new e(Co.fromString(t))},e.EMPTY=new e(new Co([])),e}(),Ro=function(){function e(e,t){this.key=e,this.version=t}return e.compareByKey=function(e,t){return xo.comparator(e.key,t.key)},e}(),Po=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n)||this;return a.data=r,a.proto=i,a.hasLocalMutations=!!o.hasLocalMutations,a.hasCommittedMutations=!!o.hasCommittedMutations,a}return u(t,e),t.prototype.field=function(e){return this.data.field(e)},t.prototype.fieldValue=function(e){var t=this.field(e);return t?t.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.data.isEqual(e.data)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.compareByField=function(e,t,n){var r=t.field(e),o=n.field(e);return void 0!==r&&void 0!==o?r.compareTo(o):Pr("Trying to compare documents on fields that don't exist")},t}(Ro),No=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.hasCommittedMutations=!(!r||!r.hasCommittedMutations),o}return u(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Ro),Do=function(e){function t(t,n){return e.call(this,t,n)||this}return u(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Ro),Lo=function(){function e(e,t){this.comparator=e,this.root=t||jo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,jo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jo.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;n=r<0?n.left:(t+=n.left.size+1,n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,n){return e.push(t+":"+n),!1}),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Mo(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Mo(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Mo(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Mo(this.root,e,this.comparator,!0)},e}(),Mo=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){Nr(0<this.nodeStack.length,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return 0<this.nodeStack.length},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),jo=function(){function e(t,n,r,o,i){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=o?o:e.EMPTY,this.right=null!=i?i:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,i){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,o=n(e,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(t,o.key)){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Pr("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw Pr("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw Pr("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),Uo=function(){function e(){this.size=0}return e.prototype.copy=function(e,t,n,r,o){return this},e.prototype.insert=function(e,t,n){return new jo(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();jo.EMPTY=new Uo,(yo=po||(po={}))[yo.NullValue=0]="NullValue",yo[yo.BooleanValue=1]="BooleanValue",yo[yo.NumberValue=2]="NumberValue",yo[yo.TimestampValue=3]="TimestampValue",yo[yo.StringValue=4]="StringValue",yo[yo.BlobValue=5]="BlobValue",yo[yo.RefValue=6]="RefValue",yo[yo.GeoPointValue=7]="GeoPointValue",yo[yo.ArrayValue=8]="ArrayValue",yo[yo.ObjectValue=9]="ObjectValue",(vo=mo||(mo={}))[vo.Default=0]="Default",vo[vo.Estimate=1]="Estimate",vo[vo.Previous=2]="Previous";var Fo=function(){function e(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}return e.fromSnapshotOptions=function(t,n){switch(t.serverTimestamps){case"estimate":return new e(mo.Estimate,n);case"previous":return new e(mo.Previous,n);case"none":case void 0:return new e(mo.Default,n);default:return Pr("fromSnapshotOptions() called with invalid options.")}},e}(),qo=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){return Nr(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),uo(this.typeOrder,e.typeOrder)},e}(),Bo=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=po.NullValue,t.internalValue=null,t}return u(t,e),t.prototype.value=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.INSTANCE=new t,t}(qo),Vo=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=po.BooleanValue,n}return u(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?uo(this,e):this.defaultCompareTo(e)},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(qo),Wo=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=po.NumberValue,n}return u(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?(n=this.internalValue,r=e.internalValue,n<r?-1:r<n?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1):this.defaultCompareTo(e);var n,r},t}(qo);function zo(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var Ko=function(e){function t(t){return e.call(this,t)||this}return u(t,e),t.prototype.isEqual=function(e){return e instanceof t&&zo(this.internalValue,e.internalValue)},t}(Wo),Ho=function(e){function t(t){var n=e.call(this,t)||this;return n.internalValue=t,n}return u(t,e),t.prototype.isEqual=function(e){return e instanceof t&&zo(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-1/0),t}(Wo),Go=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=po.StringValue,n}return u(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?uo(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(qo),Qo=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=po.TimestampValue,n}return u(t,e),t.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):e instanceof Xo?-1:this.defaultCompareTo(e)},t}(qo),Xo=function(e){function t(t,n){var r=e.call(this)||this;return r.localWriteTime=t,r.previousValue=n,r.typeOrder=po.TimestampValue,r}return u(t,e),t.prototype.value=function(e){return e&&e.serverTimestampBehavior===mo.Estimate?new Qo(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===mo.Previous&&this.previousValue?this.previousValue.value(e):null},t.prototype.isEqual=function(e){return e instanceof t&&this.localWriteTime.isEqual(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime._compareTo(e.localWriteTime):e instanceof Qo?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t}(qo),Yo=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=po.BlobValue,n}return u(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(qo),$o=function(e){function t(t,n){var r=e.call(this)||this;return r.databaseId=t,r.key=n,r.typeOrder=po.RefValue,r}return u(t,e),t.prototype.value=function(e){return this.key},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId)},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:xo.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t}(qo),Jo=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=po.GeoPointValue,n}return u(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(qo),Zo=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=po.ObjectValue,n}return u(t,e),t.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal(function(n,r){t[n]=r.value(e)}),t},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.isEqual=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext();if(o.key!==i.key||!o.value.isEqual(i.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext(),a=uo(o.key,i.key)||o.value.compareTo(i.value);if(a)return a}return uo(n.hasNext(),r.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(Nr(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var r=this.child(e.firstSegment());r instanceof t||(r=t.EMPTY);var o=r.set(e.popFirst(),n);return this.setChild(e.firstSegment(),o)},t.prototype.delete=function(e){if(Nr(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var r=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),r))}return this},t.prototype.contains=function(e){return void 0!==this.field(e)},t.prototype.field=function(e){Nr(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach(function(e){n=n instanceof t&&n.internalValue.get(e)||void 0}),n},t.prototype.toString=function(){return this.internalValue.toString()},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new Lo(uo)),t}(qo),ei=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=po.ArrayValue,n}return u(t,e),t.prototype.value=function(e){return this.internalValue.map(function(t){return t.value(e)})},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.isEqual=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),r=0;r<n;r++){var o=this.internalValue[r].compareTo(e.internalValue[r]);if(o)return o}return uo(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.toString=function(){return"["+this.internalValue.map(function(e){return e.toString()}).join(",")+"]"},t}(qo),ti=Number,ni=ti.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),ri=ti.MAX_SAFE_INTEGER||Math.pow(2,53)-1,oi=ti.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function ii(e){return null==e}function ai(e){return oi(e)&&e<=ri&&ni<=e}var si,ui,ci=function(){function e(e,t,n,r,o,i,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[gi]:this.memoizedOrderBy=[new vi(e),gi];else{Nr(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field.");for(var n=!(this.memoizedOrderBy=[]),r=0,o=this.explicitOrderBy;r<o.length;r++){var i=o[r];this.memoizedOrderBy.push(i),i.field.isKeyField()&&(n=!0)}if(!n){var a=0<this.explicitOrderBy.length?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:yi.ASCENDING;this.memoizedOrderBy.push(a===yi.ASCENDING?gi:bi)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){Nr(null==this.getInequalityFilterField()||!(t instanceof hi)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),Nr(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){Nr(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.withLimit=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,t)},e.prototype.asCollectionQueryAtPath=function(t){return new e(t,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();this.isCollectionGroupQuery()&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++)e+=n[t].canonicalId(),e+=",";e+="|ob:";for(var r=0,o=this.orderBy;r<o.length;r++)e+=o[r].canonicalId(),e+=",";ii(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(e+=" collectionGroup="+this.collectionGroup),0<this.filters.length&&(e+=", filters: ["+this.filters.join(", ")+"]"),ii(this.limit)||(e+=", limit: "+this.limit),0<this.explicitOrderBy.length&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&!!this.path.isEqual(e.path)&&!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)},e.prototype.docComparator=function(e,t){for(var n=!1,r=0,o=this.orderBy;r<o.length;r++){var i=o[r],a=i.compare(e,t);if(0!==a)return a;n=n||i.field.isKeyField()}return Nr(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimit=function(){return!ii(this.limit)},e.prototype.getFirstOrderByField=function(){return 0<this.explicitOrderBy.length?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof hi&&n.isInequality())return n.field}return null},e.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(e){return e instanceof hi&&e.op===fi.ARRAY_CONTAINS})},e.prototype.isDocumentQuery=function(){return xo.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},e.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},e.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):xo.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&void 0===e.field(r.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++)if(!n[t].matches(e))return!1;return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){Nr(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),li=function(){function e(){}return e.create=function(e,t,n){if(n.isEqual(Bo.INSTANCE)){if(t!==fi.EQUAL)throw new jr(Mr.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new pi(e)}if(n.isEqual(Ho.NAN)){if(t!==fi.EQUAL)throw new jr(Mr.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new di(e)}return new hi(e,t,n)},e}(),fi=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;case"array-contains":return e.ARRAY_CONTAINS;default:return Pr("Unknown relation: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.isEqual=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e.ARRAY_CONTAINS=new e("array-contains"),e}(),hi=function(e){function t(t,n,r){var o=e.call(this)||this;return o.field=t,o.op=n,o.value=r,o}return u(t,e),t.prototype.matches=function(e){if(this.field.isKeyField()){Nr(this.value instanceof $o,"Comparing on key, but filter value not a RefValue"),Nr(this.op!==fi.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var t=this.value,n=xo.comparator(e.key,t.key);return this.matchesComparison(n)}var r=e.field(this.field);return void 0!==r&&this.matchesValue(r)},t.prototype.matchesValue=function(e){var t=this;return this.op===fi.ARRAY_CONTAINS?e instanceof ei&&void 0!==e.internalValue.find(function(e){return e.isEqual(t.value)}):this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},t.prototype.matchesComparison=function(e){switch(this.op){case fi.LESS_THAN:return e<0;case fi.LESS_THAN_OR_EQUAL:return e<=0;case fi.EQUAL:return 0===e;case fi.GREATER_THAN:return 0<e;case fi.GREATER_THAN_OR_EQUAL:return 0<=e;default:return Pr("Unknown relation op"+this.op)}},t.prototype.isInequality=function(){return this.op!==fi.EQUAL&&this.op!==fi.ARRAY_CONTAINS},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value)},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(li),pi=function(e){function t(t){var n=e.call(this)||this;return n.field=t,n}return u(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return void 0!==t&&null===t.value()},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},t.prototype.toString=function(){return this.field.canonicalString()+" IS null"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}(li),di=function(e){function t(t){var n=e.call(this)||this;return n.field=t,n}return u(t,e),t.prototype.matches=function(e){var t=e.field(this.field),n=t&&t.value();return"number"==typeof n&&isNaN(n)},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}(li),yi=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),mi=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++)e+=n[t].toString();return e},e.prototype.sortsBeforeDocument=function(e,t){Nr(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var o=e[r],i=this.position[r];if(o.field.isKeyField())Nr(i instanceof $o,"Bound has a non-key value where the key path is being used."),n=xo.comparator(i.key,t.key);else{var a=t.field(o.field);Nr(void 0!==a,"Field should exist since document matched the orderBy already."),n=i.compareTo(a)}if(o.dir===yi.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];return n.isEqual(r)}return!0},e}(),vi=function(){function e(e,t){this.field=e,void 0===t&&(t=yi.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?Po.compareByKey(e,t):Po.compareByField(this.field,e,t);switch(this.dir){case yi.ASCENDING:return n;case yi.DESCENDING:return-1*n;default:return Pr("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),gi=new vi(ko.keyField(),yi.ASCENDING),bi=new vi(ko.keyField(),yi.DESCENDING),wi=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6);return new e(new Eo(n,t%1e6*1e3))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new Eo(0,0)),e}();(ui=si||(si={}))[ui.Listen=0]="Listen",ui[ui.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",ui[ui.LimboResolution=2]="LimboResolution";var Ei,Ti,_i=function(){function e(e,t,n,r,o,i){void 0===o&&(o=wi.MIN),void 0===i&&(i=Lr()),this.query=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.resumeToken=i}return e.prototype.copy=function(t){return new e(this.query,this.targetId,this.purpose,void 0===t.sequenceNumber?this.sequenceNumber:t.sequenceNumber,void 0===t.snapshotVersion?this.snapshotVersion:t.snapshotVersion,void 0===t.resumeToken?this.resumeToken:t.resumeToken)},e.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.isEqual(e.query)},e}(),Si=function(){function e(e){this.comparator=e,this.data=new Lo(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach(function(e){n=n.add(e)}),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,e[1]))return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Ii(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Ii(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(o,i))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Ii=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Ai=function(){function e(e){this.fields=e}return e.fromSet=function(t){return new e(t)},e.fromArray=function(t){var n=new Si(ko.comparator);return t.forEach(function(e){return n=n.add(e)}),new e(n)},e.prototype.covers=function(e){var t=!1;return this.fields.forEach(function(n){n.isPrefixOf(e)&&(t=!0)}),t},e.prototype.applyTo=function(e){var t=Zo.EMPTY;return this.fields.forEach(function(n){if(n.isEmpty())return e;var r=e.field(n);void 0!==r&&(t=t.set(n,r))}),t},e.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},e}(),Ci=function(){function e(e,t){this.field=e,this.transform=t}return Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return this.transform.isIdempotent},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),Oi=function(e,t){this.version=e,this.transformResults=t};(Ti=Ei||(Ei={}))[Ti.Set=0]="Set",Ti[Ti.Patch=1]="Patch",Ti[Ti.Transform=2]="Transform",Ti[Ti.Delete=3]="Delete";var ki=function(){function e(e,t){this.updateTime=e,this.exists=t,Nr(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof Po&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof Po:(Nr(this.isNone,"Precondition should be empty"),!0)},e.prototype.isEqual=function(e){return t=this.updateTime,n=e.updateTime,(null!=t?!(!n||!t.isEqual(n)):t===n)&&this.exists===e.exists;var t,n},e.NONE=new e,e}(),xi=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&Nr(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof Po?e.version:wi.MIN},e}(),Ri=function(e){function t(t,n,r){var o=e.call(this)||this;return o.key=t,o.value=n,o.precondition=r,o.type=Ei.Set,o}return u(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),Nr(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new Po(this.key,n,this.value,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=xi.getPostMutationVersion(e);return new Po(this.key,r,this.value,{hasLocalMutations:!0})},Object.defineProperty(t.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},t}(xi),Pi=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i.key=t,i.data=n,i.fieldMask=r,i.precondition=o,i.type=Ei.Patch,i}return u(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),Nr(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new Do(this.key,t.version);var n=this.patchDocument(e);return new Po(this.key,t.version,n,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=xi.getPostMutationVersion(e),o=this.patchDocument(e);return new Po(this.key,r,o,{hasLocalMutations:!0})},Object.defineProperty(t.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof Po?e.data:Zo.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e=void 0!==r?e.set(n,r):e.delete(n)}}),e},t}(xi),Ni=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.fieldTransforms=n,r.type=Ei.Transform,r.precondition=ki.exists(!0),r}return u(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),Nr(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new Do(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),o=t.version,i=this.transformObject(n.data,r);return new Po(this.key,o,i,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),o=this.localTransformResults(n,t),i=this.transformObject(r.data,o);return new Po(this.key,r.version,i,{hasLocalMutations:!0})},Object.defineProperty(t.prototype,"isIdempotent",{get:function(){for(var e=0,t=this.fieldTransforms;e<t.length;e++)if(!t[e].isIdempotent)return!1;return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fieldMask",{get:function(){var e=new Si(ko.comparator);return this.fieldTransforms.forEach(function(t){return e=e.add(t.field)}),new Ai(e)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&co(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},t.prototype.requireDocument=function(e){Nr(e instanceof Po,"Unknown MaybeDocument type "+e);var t=e;return Nr(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},t.prototype.serverTransformResults=function(e,t){var n=[];Nr(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var o=this.fieldTransforms[r],i=o.transform,a=null;e instanceof Po&&(a=e.field(o.field)||null),n.push(i.applyToRemoteDocument(a,t[r]))}return n},t.prototype.localTransformResults=function(e,t){for(var n=[],r=0,o=this.fieldTransforms;r<o.length;r++){var i=o[r],a=i.transform,s=null;t instanceof Po&&(s=t.field(i.field)||null),n.push(a.applyToLocalView(s,e))}return n},t.prototype.transformObject=function(e,t){Nr(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;e=e.set(r,t[n])}return e},t}(xi),Di=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=Ei.Delete,r}return u(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),Nr(null==t.transformResults,"Transform results received by DeleteMutation."),new No(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&Nr(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new No(this.key,wi.forDeletedDoc())):e},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},Object.defineProperty(t.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),t}(xi),Li=function(){function e(){this.isIdempotent=!0}return e.prototype.applyToLocalView=function(e,t){return new Xo(t,e)},e.prototype.applyToRemoteDocument=function(e,t){return t},e.prototype.isEqual=function(t){return t instanceof e},e.instance=new e,e}(),Mi=function(){function e(e){this.elements=e,this.isIdempotent=!0}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=Fi(e),n=function(e){t.find(function(t){return t.isEqual(e)})||t.push(e)},r=0,o=this.elements;r<o.length;r++)n(o[r]);return new ei(t)},e.prototype.isEqual=function(t){return t instanceof e&&co(t.elements,this.elements)},e}(),ji=function(){function e(e){this.elements=e,this.isIdempotent=!0}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=Fi(e),n=function(e){t=t.filter(function(t){return!t.isEqual(e)})},r=0,o=this.elements;r<o.length;r++)n(o[r]);return new ei(t)},e.prototype.isEqual=function(t){return t instanceof e&&co(t.elements,this.elements)},e}(),Ui=function(){function e(e){this.operand=e,this.isIdempotent=!1}return e.prototype.applyToLocalView=function(e,t){if(e instanceof Ko&&this.operand instanceof Ko){var n=e.internalValue+this.operand.internalValue;return new Ko(n)}return e instanceof Wo?(n=e.internalValue+this.operand.internalValue,new Ho(n)):this.operand},e.prototype.applyToRemoteDocument=function(e,t){return Nr(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},e.prototype.isEqual=function(t){return t instanceof e&&this.operand.isEqual(t.operand)},e}();function Fi(e){return e instanceof ei?e.internalValue.slice():[]}var qi,Bi,Vi=function(){function e(e){this.count=e}return e.prototype.isEqual=function(e){return e&&e.count===this.count},e}();function Wi(e){switch(e){case Mr.OK:return Pr("Treated status OK as error");case Mr.CANCELLED:case Mr.UNKNOWN:case Mr.DEADLINE_EXCEEDED:case Mr.RESOURCE_EXHAUSTED:case Mr.INTERNAL:case Mr.UNAVAILABLE:case Mr.UNAUTHENTICATED:return!1;case Mr.INVALID_ARGUMENT:case Mr.NOT_FOUND:case Mr.ALREADY_EXISTS:case Mr.PERMISSION_DENIED:case Mr.FAILED_PRECONDITION:case Mr.ABORTED:case Mr.OUT_OF_RANGE:case Mr.UNIMPLEMENTED:case Mr.DATA_LOSS:return!0;default:return Pr("Unknown status code: "+e)}}function zi(e){if(void 0===e)return xr("GRPC error has no .code"),Mr.UNKNOWN;switch(e){case qi.OK:return Mr.OK;case qi.CANCELLED:return Mr.CANCELLED;case qi.UNKNOWN:return Mr.UNKNOWN;case qi.DEADLINE_EXCEEDED:return Mr.DEADLINE_EXCEEDED;case qi.RESOURCE_EXHAUSTED:return Mr.RESOURCE_EXHAUSTED;case qi.INTERNAL:return Mr.INTERNAL;case qi.UNAVAILABLE:return Mr.UNAVAILABLE;case qi.UNAUTHENTICATED:return Mr.UNAUTHENTICATED;case qi.INVALID_ARGUMENT:return Mr.INVALID_ARGUMENT;case qi.NOT_FOUND:return Mr.NOT_FOUND;case qi.ALREADY_EXISTS:return Mr.ALREADY_EXISTS;case qi.PERMISSION_DENIED:return Mr.PERMISSION_DENIED;case qi.FAILED_PRECONDITION:return Mr.FAILED_PRECONDITION;case qi.ABORTED:return Mr.ABORTED;case qi.OUT_OF_RANGE:return Mr.OUT_OF_RANGE;case qi.UNIMPLEMENTED:return Mr.UNIMPLEMENTED;case qi.DATA_LOSS:return Mr.DATA_LOSS;default:return Pr("Unknown status code: "+e)}}(Bi=qi||(qi={}))[Bi.OK=0]="OK",Bi[Bi.CANCELLED=1]="CANCELLED",Bi[Bi.UNKNOWN=2]="UNKNOWN",Bi[Bi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bi[Bi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bi[Bi.NOT_FOUND=5]="NOT_FOUND",Bi[Bi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bi[Bi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bi[Bi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bi[Bi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bi[Bi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bi[Bi.ABORTED=10]="ABORTED",Bi[Bi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bi[Bi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bi[Bi.INTERNAL=13]="INTERNAL",Bi[Bi.UNAVAILABLE=14]="UNAVAILABLE",Bi[Bi.DATA_LOSS=15]="DATA_LOSS";var Ki=new Lo(xo.comparator);function Hi(){return Ki}function Gi(){return Hi()}var Qi=new Lo(xo.comparator);function Xi(){return Qi}var Yi=new Lo(xo.comparator);function $i(){return Yi}var Ji=new Si(xo.comparator);function Zi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ji,r=0,o=e;r<o.length;r++){var i=o[r];n=n.add(i)}return n}var ea=new Si(uo);function ta(){return ea}var na,ra,oa,ia,aa=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||xo.comparator(t.key,n.key)}:function(e,t){return xo.comparator(e.key,t.key)},this.keyedMap=Xi(),this.sortedSet=new Lo(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}();(ra=na||(na={}))[ra.Added=0]="Added",ra[ra.Removed=1]="Removed",ra[ra.Modified=2]="Modified",ra[ra.Metadata=3]="Metadata",(ia=oa||(oa={}))[ia.Local=0]="Local",ia[ia.Synced=1]="Synced";var sa,ua,ca=function(){function e(){this.changeMap=new Lo(xo.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==na.Added&&n.type===na.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===na.Metadata&&n.type!==na.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===na.Modified&&n.type===na.Modified?this.changeMap=this.changeMap.insert(t,{type:na.Modified,doc:e.doc}):e.type===na.Modified&&n.type===na.Added?this.changeMap=this.changeMap.insert(t,{type:na.Added,doc:e.doc}):e.type===na.Removed&&n.type===na.Added?this.changeMap=this.changeMap.remove(t):e.type===na.Removed&&n.type===na.Modified?this.changeMap=this.changeMap.insert(t,{type:na.Removed,doc:n.doc}):e.type===na.Added&&n.type===na.Removed?this.changeMap=this.changeMap.insert(t,{type:na.Modified,doc:e.doc}):Pr("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal(function(t,n){e.push(n)}),e},e}(),la=function(){function e(e,t,n,r,o,i,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,o){var i=[];return n.forEach(function(e){i.push({type:na.Added,doc:e})}),new e(t,n,aa.emptySet(n),i,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),fa=function(){function e(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r,o=((r={})[t]=ha.createSynthesizedTargetChangeForCurrentChange(t,n),r);return new e(wi.MIN,o,ta(),Hi(),Zi())},e}(),ha=function(){function e(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Lr(),n,Zi(),Zi(),Zi())},e}(),pa=function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r},da=function(e,t){this.targetId=e,this.existenceFilter=t};(ua=sa||(sa={}))[ua.NoChange=0]="NoChange",ua[ua.Added=1]="Added",ua[ua.Removed=2]="Removed",ua[ua.Current=3]="Current",ua[ua.Reset=4]="Reset";var ya=function(e,t,n,r){void 0===n&&(n=Lr()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},ma=function(){function e(){this.pendingResponses=0,this.documentChanges=ba(),this._resumeToken=Lr(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),e.prototype.updateResumeToken=function(e){0<e.length&&(this._hasPendingChanges=!0,this._resumeToken=e)},e.prototype.toTargetChange=function(){var e=Zi(),t=Zi(),n=Zi();return this.documentChanges.forEach(function(r,o){switch(o){case na.Added:e=e.add(r);break;case na.Modified:t=t.add(r);break;case na.Removed:n=n.add(r);break;default:Pr("Encountered invalid change type: "+o)}}),new ha(this._resumeToken,this._current,e,t,n)},e.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=ba()},e.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},e.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},e.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},e.prototype.recordTargetResponse=function(){this.pendingResponses-=1},e.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},e}(),va=function(){function e(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=Hi(),this.pendingDocumentTargetMapping=ga(),this.pendingTargetResets=new Si(uo)}return e.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof Po?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof No&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var o=0,i=e.removedTargetIds;o<i.length;o++)r=i[o],this.removeDocumentFromTarget(r,e.key,e.newDoc)},e.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.ensureTargetState(n);switch(e.state){case sa.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case sa.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case sa.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),Nr(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case sa.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case sa.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:Pr("Unknown target watch change state: "+e.state)}})},e.prototype.forEachTarget=function(e,t){0<e.targetIds.length?e.targetIds.forEach(t):Br(this.targetStates,t)},e.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.queryDataForActiveTarget(t);if(r){var o=r.query;if(o.isDocumentQuery())if(0===n){var i=new xo(o.path);this.removeDocumentFromTarget(t,i,new No(i,wi.forDeletedDoc()))}else Nr(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},e.prototype.createRemoteEvent=function(e){var t=this,n={};Br(this.targetStates,function(r,o){var i=t.queryDataForActiveTarget(r);if(i){if(o.current&&i.query.isDocumentQuery()){var a=new xo(i.query.path);null!==t.pendingDocumentUpdates.get(a)||t.targetContainsDocument(r,a)||t.removeDocumentFromTarget(r,a,new No(a,e))}o.hasPendingChanges&&(n[r]=o.toTargetChange(),o.clearPendingChanges())}});var r=Zi();this.pendingDocumentTargetMapping.forEach(function(e,n){var o=!0;n.forEachWhile(function(e){var n=t.queryDataForActiveTarget(e);return!n||n.purpose===si.LimboResolution||(o=!1)}),o&&(r=r.add(e))});var o=new fa(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Hi(),this.pendingDocumentTargetMapping=ga(),this.pendingTargetResets=new Si(uo),o},e.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?na.Modified:na.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},e.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,na.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},e.prototype.removeTarget=function(e){delete this.targetStates[e]},e.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},e.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new ma),this.targetStates[e]},e.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new Si(uo),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},e.prototype.isActiveTarget=function(e){return null!==this.queryDataForActiveTarget(e)},e.prototype.queryDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getQueryDataForTarget(e)},e.prototype.resetTarget=function(e){var t=this;Nr(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new ma,this.metadataProvider.getRemoteKeysForTarget(e).forEach(function(n){t.removeDocumentFromTarget(e,n,null)})},e.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},e}();function ga(){return new Lo(xo.comparator)}function ba(){return new Lo(xo.comparator)}var wa,Ea,Ta=((wa={})[yi.ASCENDING.name]="ASCENDING",wa[yi.DESCENDING.name]="DESCENDING",wa),_a=((Ea={})[fi.LESS_THAN.name]="LESS_THAN",Ea[fi.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Ea[fi.GREATER_THAN.name]="GREATER_THAN",Ea[fi.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Ea[fi.EQUAL.name]="EQUAL",Ea[fi.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Ea),Sa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(e,t){Nr(!ii(e),t+" is missing")}function Aa(e){return"number"==typeof e?e:"string"==typeof e?Number(e):Pr("can't parse "+e)}var Ca=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?Mr.UNKNOWN:zi(e.code);return new jr(t,e.message||"")},e.prototype.toInt32Value=function(e){return ii(e)?void 0:{value:e}},e.prototype.fromInt32Value=function(e){var t;return ii(t="object"==typeof e?e.value:e)?null:t},e.prototype.toTimestamp=function(e){return{seconds:e.seconds,nanos:e.nanoseconds}},e.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);Nr(!!e,"Cannot deserialize null or undefined timestamp.");var t=Aa(e.seconds||"0"),n=e.nanos||0;return new Eo(t,n)},e.prototype.fromIso8601String=function(e){var t=0,n=Sa.exec(e);if(Nr(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e),i=Math.floor(o.getTime()/1e3);return new Eo(i,t)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"==typeof e?(Nr(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),go.fromBase64String(e)):(Nr(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),go.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return Nr(!!e,"Trying to deserialize version that isn't set"),wi.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=Co.fromString(e);return Nr(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return Nr(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),Nr(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new xo(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?Co.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){return new Co(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new Co(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return Nr(4<e.length&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof Bo)return{nullValue:"NULL_VALUE"};if(e instanceof Vo)return{booleanValue:e.value()};if(e instanceof Ko)return{integerValue:""+e.value()};if(e instanceof Ho){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof Go?{stringValue:e.value()}:e instanceof Zo?{mapValue:this.toMapValue(e)}:e instanceof ei?{arrayValue:this.toArrayValue(e)}:e instanceof Qo?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof Jo?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof Yo?{bytesValue:this.toBytes(e.value())}:e instanceof $o?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:Pr("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this,n=e.value_type;if(Oa(e,n,"nullValue"))return Bo.INSTANCE;if(Oa(e,n,"booleanValue"))return Vo.of(e.booleanValue);if(Oa(e,n,"integerValue"))return new Ko(Aa(e.integerValue));if(Oa(e,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return Ho.NAN;if("Infinity"===e.doubleValue)return Ho.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return Ho.NEGATIVE_INFINITY}return new Ho(e.doubleValue)}if(Oa(e,n,"stringValue"))return new Go(e.stringValue);if(Oa(e,n,"mapValue"))return this.fromFields(e.mapValue.fields||{});if(Oa(e,n,"arrayValue")){Ia(e.arrayValue,"arrayValue");var r=e.arrayValue.values||[];return new ei(r.map(function(e){return t.fromValue(e)}))}if(Oa(e,n,"timestampValue"))return Ia(e.timestampValue,"timestampValue"),new Qo(this.fromTimestamp(e.timestampValue));if(Oa(e,n,"geoPointValue")){Ia(e.geoPointValue,"geoPointValue");var o=e.geoPointValue.latitude||0,i=e.geoPointValue.longitude||0;return new Jo(new wo(o,i))}if(Oa(e,n,"bytesValue")){Ia(e.bytesValue,"bytesValue");var a=this.fromBlob(e.bytesValue);return new Yo(a)}if(Oa(e,n,"referenceValue")){Ia(e.referenceValue,"referenceValue");var s=this.fromResourceName(e.referenceValue),u=new So(s.get(1),s.get(3)),c=new xo(this.extractLocalPathFromResourceName(s));return new $o(u,c)}return Pr("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return Nr(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e,t){return new Po(this.fromName(e.name),this.fromVersion(e.updateTime),this.fromFields(e.fields||{}),{hasCommittedMutations:!!t})},e.prototype.toFields=function(e){var t=this,n={};return e.forEach(function(e,r){n[e]=t.toValue(r)}),n},e.prototype.fromFields=function(e){var t=this,n=e,r=Zo.EMPTY;return Vr(n,function(e,n){r=r.set(new ko([e]),t.fromValue(n))}),r},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.toValue(e))}),{values:n}},e.prototype.fromFound=function(e){Nr(!!e.found,"Tried to deserialize a found document from a missing document."),Ia(e.found.name,"doc.found.name"),Ia(e.found.updateTime,"doc.found.updateTime");var t=this.fromName(e.found.name),n=this.fromVersion(e.found.updateTime),r=this.fromFields(e.found.fields||{});return new Po(t,n,r,{},e.found)},e.prototype.fromMissing=function(e){Nr(!!e.missing,"Tried to deserialize a missing document from a found document."),Nr(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new No(t,n)},e.prototype.fromMaybeDocument=function(e){var t=e.result;return Oa(e,t,"found")?this.fromFound(e):Oa(e,t,"missing")?this.fromMissing(e):Pr("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case sa.Added:return"ADD";case sa.Current:return"CURRENT";case sa.NoChange:return"NO_CHANGE";case sa.Removed:return"REMOVE";case sa.Reset:return"RESET";default:return Pr("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof da)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof pa){if(e.newDoc instanceof Po){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof No)return t=e.newDoc,{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}};if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof ya){var n=void 0;return e.cause&&(n={code:function(e){if(void 0===e)return qi.OK;switch(e){case Mr.OK:return qi.OK;case Mr.CANCELLED:return qi.CANCELLED;case Mr.UNKNOWN:return qi.UNKNOWN;case Mr.DEADLINE_EXCEEDED:return qi.DEADLINE_EXCEEDED;case Mr.RESOURCE_EXHAUSTED:return qi.RESOURCE_EXHAUSTED;case Mr.INTERNAL:return qi.INTERNAL;case Mr.UNAVAILABLE:return qi.UNAVAILABLE;case Mr.UNAUTHENTICATED:return qi.UNAUTHENTICATED;case Mr.INVALID_ARGUMENT:return qi.INVALID_ARGUMENT;case Mr.NOT_FOUND:return qi.NOT_FOUND;case Mr.ALREADY_EXISTS:return qi.ALREADY_EXISTS;case Mr.PERMISSION_DENIED:return qi.PERMISSION_DENIED;case Mr.FAILED_PRECONDITION:return qi.FAILED_PRECONDITION;case Mr.ABORTED:return qi.ABORTED;case Mr.OUT_OF_RANGE:return qi.OUT_OF_RANGE;case Mr.UNIMPLEMENTED:return qi.UNIMPLEMENTED;case Mr.DATA_LOSS:return qi.DATA_LOSS;default:return Pr("Unknown status code: "+e)}}(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return Pr("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t,n=e.response_type;if(Oa(e,n,"targetChange")){Ia(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],i=e.targetChange.resumeToken||this.emptyByteString(),a=e.targetChange.cause,s=a&&this.fromRpcStatus(a);t=new ya(r,o,i,s||null)}else if(Oa(e,n,"documentChange")){Ia(e.documentChange,"documentChange"),Ia(e.documentChange.document,"documentChange.name"),Ia(e.documentChange.document.name,"documentChange.document.name"),Ia(e.documentChange.document.updateTime,"documentChange.document.updateTime");var u=e.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),f=this.fromFields(u.document.fields||{}),h=new Po(c,l,f,{},u.document),p=u.targetIds||[],d=u.removedTargetIds||[];t=new pa(p,d,h.key,h)}else if(Oa(e,n,"documentDelete")){Ia(e.documentDelete,"documentDelete"),Ia(e.documentDelete.document,"documentDelete.document");var y=e.documentDelete;c=this.fromName(y.document),l=y.readTime?this.fromVersion(y.readTime):wi.forDeletedDoc(),h=new No(c,l),d=y.removedTargetIds||[],t=new pa([],d,h.key,h)}else if(Oa(e,n,"documentRemove")){Ia(e.documentRemove,"documentRemove"),Ia(e.documentRemove.document,"documentRemove");var m=e.documentRemove;c=this.fromName(m.document),d=m.removedTargetIds||[],t=new pa([],d,c,null)}else{if(!Oa(e,n,"filter"))return Pr("Unknown change type "+JSON.stringify(e));Ia(e.filter,"filter"),Ia(e.filter.targetId,"filter.targetId");var v=e.filter,g=v.count||0,b=new Vi(g),w=v.targetId;t=new da(w,b)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?sa.NoChange:"ADD"===e?sa.Added:"REMOVE"===e?sa.Removed:"CURRENT"===e?sa.Current:"RESET"===e?sa.Reset:Pr("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!Oa(e,e.response_type,"targetChange"))return wi.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?wi.MIN:t.readTime?this.fromVersion(t.readTime):wi.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof Ri)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof Di)t={delete:this.toName(e.key)};else if(e instanceof Pi)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof Ni))return Pr("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map(function(e){return n.toFieldTransform(e)})}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):ki.NONE;if(e.update){Ia(e.update.name,"name");var r=this.fromName(e.update.name),o=this.fromFields(e.update.fields||{});if(e.updateMask){var i=this.fromDocumentMask(e.updateMask);return new Pi(r,o,i,n)}return new Ri(r,o,n)}if(e.delete)return r=this.fromName(e.delete),new Di(r,n);if(e.transform){r=this.fromName(e.transform.document);var a=e.transform.fieldTransforms.map(function(e){return t.fromFieldTransform(e)});return Nr(!0===n.exists,'Transforms only support precondition "exists == true"'),new Ni(r,a)}return Pr("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return Nr(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Pr("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?ki.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?ki.exists(e.exists):ki.NONE},e.prototype.fromWriteResult=function(e,t){var n=this,r=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t),o=null;return e.transformResults&&0<e.transformResults.length&&(o=e.transformResults.map(function(e){return n.fromValue(e)})),new Oi(r,o)},e.prototype.fromWriteResults=function(e,t){var n=this;return e&&0<e.length?(Nr(void 0!==t,"Received a write result without a commit time"),e.map(function(e){return n.fromWriteResult(e,t)})):[]},e.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof Li)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Mi)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(e){return t.toValue(e)})}};if(n instanceof ji)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(e){return t.toValue(e)})}};if(n instanceof Ui)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw Pr("Unknown transform: "+e.transform)},e.prototype.fromFieldTransform=function(e){var t=this,n=e.transform_type,r=null;if(Oa(e,n,"setToServerValue"))Nr("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),r=Li.instance;else if(Oa(e,n,"appendMissingElements")){var o=e.appendMissingElements.values||[];r=new Mi(o.map(function(e){return t.fromValue(e)}))}else if(Oa(e,n,"removeAllFromArray"))o=e.removeAllFromArray.values||[],r=new ji(o.map(function(e){return t.fromValue(e)}));else if(Oa(e,n,"increment")){var i=this.fromValue(e.increment);Nr(i instanceof Wo,"NUMERIC_ADD transform requires a NumberValue"),r=new Ui(i)}else Pr("Unknown transform proto: "+JSON.stringify(e));var a=ko.fromServerFormat(e.fieldPath);return new Ci(a,r)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;Nr(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return ci.atPath(this.fromQueryPath(n))},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(Nr(n.length%2==0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(Nr(n.length%2!=0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var o=this.toOrder(e.orderBy);o&&(t.structuredQuery.orderBy=o);var i=this.toInt32Value(e.limit);return void 0!==i&&(t.structuredQuery.limit=i),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(0<r){Nr(1===r,"StructuredQuery.from with more than one collection is not supported.");var i=n.from[0];i.allDescendants?o=i.collectionId:t=t.child(i.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new ci(t,o,s,a,u,c,l)},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case si.Listen:return null;case si.ExistenceFilterMismatch:return"existence-filter-mismatch";case si.LimboResolution:return"limbo-document";default:return Pr("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.query;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,0<e.resumeToken.length&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map(function(e){return e instanceof hi?t.toRelationFilter(e):t.toUnaryFilter(e)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromRelationFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t.fromFilter(e)}).reduce(function(e,t){return e.concat(t)}):Pr("Unknown filter: "+JSON.stringify(e)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map(function(e){return t.toPropertyOrder(e)})},e.prototype.fromOrder=function(e){var t=this;return e.map(function(e){return t.fromPropertyOrder(e)})},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map(function(e){return t.toValue(e)})}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map(function(e){return t.fromValue(e)});return new mi(r,n)},e.prototype.toDirection=function(e){return Ta[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return yi.ASCENDING;case"DESCENDING":return yi.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return _a[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return fi.EQUAL;case"GREATER_THAN":return fi.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return fi.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return fi.LESS_THAN;case"LESS_THAN_OR_EQUAL":return fi.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return fi.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return Pr("Unspecified relation");default:return Pr("Unknown relation")}},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return ko.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new vi(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.toRelationFilter=function(e){return e instanceof hi?{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}:Pr("Unrecognized filter: "+JSON.stringify(e))},e.prototype.fromRelationFilter=function(e){return new hi(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryFilter=function(e){return e instanceof di?{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}}:e instanceof pi?{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}:Pr("Unrecognized filter: "+JSON.stringify(e))},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return new di(t);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return new pi(n);case"OPERATOR_UNSPECIFIED":return Pr("Unspecified filter");default:return Pr("Unknown filter")}},e.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}},e.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map(function(e){return ko.fromServerFormat(e)});return Ai.fromArray(t)},e}();function Oa(e,t,n){return t===n||!t&&n in e}var ka=function(){function e(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){Nr(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){Nr(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){Nr(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){Nr(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){Nr(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){Nr(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),xa="Connection",Ra={BatchGetDocuments:"batchGet",Commit:"commit"},Pa="gl-js/ fire/"+Ir,Na=function(){function e(e){this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host,this.forceLongPolling=e.forceLongPolling}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=Pa},e.prototype.invokeRPC=function(e,t,n){var r=this,o=this.makeUrl(e);return new Promise(function(i,a){var s=new Er;s.listenOnce(br.COMPLETE,function(){try{switch(s.getLastErrorCode()){case gr.NO_ERROR:var t=s.getResponseJson();kr(xa,"XHR received:",JSON.stringify(t)),i(t);break;case gr.TIMEOUT:kr(xa,'RPC "'+e+'" timed out'),a(new jr(Mr.DEADLINE_EXCEEDED,"Request time out"));break;case gr.HTTP_ERROR:var n=s.getStatus();kr(xa,'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),0<n?a(new jr(function(e){switch(e){case 200:return Mr.OK;case 400:return Mr.INVALID_ARGUMENT;case 401:return Mr.UNAUTHENTICATED;case 403:return Mr.PERMISSION_DENIED;case 404:return Mr.NOT_FOUND;case 409:return Mr.ABORTED;case 416:return Mr.OUT_OF_RANGE;case 429:return Mr.RESOURCE_EXHAUSTED;case 499:return Mr.CANCELLED;case 500:return Mr.UNKNOWN;case 501:return Mr.UNIMPLEMENTED;case 503:return Mr.UNAVAILABLE;case 504:return Mr.DEADLINE_EXCEEDED;default:return 200<=e&&e<300?Mr.OK:400<=e&&e<500?Mr.FAILED_PRECONDITION:500<=e&&e<600?Mr.INTERNAL:Mr.UNKNOWN}}(n),"Server responded with status "+s.getStatusText())):(kr(xa,'RPC "'+e+'" failed'),a(new jr(Mr.UNAVAILABLE,"Connection failed.")));break;default:Pr('RPC "'+e+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{kr(xa,'RPC "'+e+'" completed.')}});var u=JSON.stringify(t);kr(xa,"XHR sending: ",o+" "+u);var c={"Content-Type":"text/plain"};r.modifyHeadersForRequest(c,n),s.send(o,"POST",u,c,15)})},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=vr(),o={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(o.initMessageHeaders,t),"object"==typeof navigator&&"ReactNative"===navigator.product||(o.httpHeadersOverwriteParam="$httpHeaders");var i=n.join("");kr(xa,"Creating WebChannel: "+i+" "+o);var a=r.createWebChannel(i,o),s=!1,u=!1,c=new ka({sendFn:function(e){u?kr(xa,"Not sending because WebChannel is closed:",e):(s||(kr(xa,"Opening WebChannel transport."),a.open(),s=!0),kr(xa,"WebChannel sending:",e),a.send(e))},closeFn:function(){return a.close()}}),l=function(e,t){a.listen(e,function(e){try{t(e)}catch(e){setTimeout(function(){throw e},0)}})};return l(wr.EventType.OPEN,function(){u||kr(xa,"WebChannel transport opened.")}),l(wr.EventType.CLOSE,function(){u||(u=!0,kr(xa,"WebChannel transport closed"),c.callOnClose())}),l(wr.EventType.ERROR,function(e){u||(u=!0,kr(xa,"WebChannel transport errored:",e),c.callOnClose(new jr(Mr.UNAVAILABLE,"The operation could not be completed")))}),l(wr.EventType.MESSAGE,function(e){if(!u){var t=e.data[0];Nr(!!t,"Got a webchannel message without data.");var n=t.error||t[0]&&t[0].error;if(n){kr(xa,"WebChannel received error:",n);var r=n.status,o=function(e){var t=qi[e];if(void 0!==t)return zi(t)}(r),i=n.message;void 0===o&&(o=Mr.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),u=!0,c.callOnClose(new jr(o,i)),a.close()}else kr(xa,"WebChannel received:",t),c.callOnMessage(t)}}),setTimeout(function(){c.callOnOpen()},0),c},e.prototype.makeUrl=function(e){var t=Ra[e];Nr(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(t),n.join("")},e}(),Da=function(){function e(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(e.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),e.prototype.loadConnection=function(e){return Promise.resolve(new Na(e))},e.prototype.newSerializer=function(e){return new Ca(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}();Dr.setPlatform(new Da);var La,Ma,ja=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}return e.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},e.INVALID=-1,e}(),Ua=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})};(Ma=La||(La={})).All="all",Ma.ListenStreamIdle="listen_stream_idle",Ma.ListenStreamConnectionBackoff="listen_stream_connection_backoff",Ma.WriteStreamIdle="write_stream_idle",Ma.WriteStreamConnectionBackoff="write_stream_connection_backoff",Ma.OnlineStateTimeout="online_state_timeout",Ma.ClientMetadataRefresh="client_metadata_refresh",Ma.LruGarbageCollection="lru_garbage_collection";var Fa=function(){function e(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new Ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(t,n,r,o,i){var a=new e(t,n,Date.now()+r,o,i);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new jr(Mr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),qa=function(){function e(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueue=function(e){var t=this;this.verifyNotFailed();var n=this.tail.then(function(){return t.operationInProgress=!0,e().catch(function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw xr("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw e},0),e}).then(function(e){return t.operationInProgress=!1,e})});return this.tail=n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),Nr(0<=t,"Attempted to schedule an operation with a negative delay of "+t),Nr(!this.containsDelayedOperation(e),"Attempted to schedule multiple operations with timer id "+e+".");var o=Fa.createAndSchedule(this,e,t,n,function(e){return r.removeDelayedOperation(e)});return this.delayedOperations.push(o),o},e.prototype.verifyNotFailed=function(){this.failure&&Pr("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},e.prototype.verifyOperationInProgress=function(){Nr(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},e.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then(function(){Nr(e===La.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.delayedOperations;n<r.length;n++){var o=r[n];if(o.skipDelay(),e!==La.All&&o.timerId===e)break}return t.drain()})},e.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);Nr(0<=t,"Delayed operation not found."),this.delayedOperations.splice(t,1)},e}(),Ba="\x01",Va="\x01",Wa="\x10",za="\x11";function Ka(e){for(var t="",n=0;n<e.length;n++)0<t.length&&(t=Ga(t)),t=Ha(e.get(n),t);return Ga(t)}function Ha(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var i=e.charAt(o);switch(i){case"\0":n+=Ba+Wa;break;case Ba:n+=Ba+za;break;default:n+=i}}return n}function Ga(e){return e+Ba+Va}function Qa(e){var t=e.length;if(Nr(2<=t,"Invalid path "+e),2===t)return Nr(e.charAt(0)===Ba&&e.charAt(1)===Va,"Non-empty path "+e+" had length 2"),Co.EMPTY_PATH;for(var n=t-2,r=[],o="",i=0;i<t;){var a=e.indexOf(Ba,i);switch((a<0||n<a)&&Pr('Invalid encoded resource path: "'+e+'"'),e.charAt(a+1)){case Va:var s=e.substring(i,a),u=void 0;0===o.length?u=s:(u=o+=s,o=""),r.push(u);break;case Wa:o+=e.substring(i,a),o+="\0";break;case za:o+=e.substring(i,a+1);break;default:Pr('Invalid encoded resource path: "'+e+'"')}i=a+2}return new Co(r)}var Xa,Ya,$a=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,Nr(0<(this.mutations=r).length,"Cannot create an empty mutation batch")}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&Nr(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;Nr(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var o=0;o<this.mutations.length;o++){var i=this.mutations[o];if(i.key.isEqual(e)){var a=r[o];t=i.applyToRemoteDocument(t,a)}}return t},e.prototype.applyToLocalView=function(e,t){t&&Nr(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(e)&&(t=s.applyToLocalView(t,t,this.localWriteTime));for(var o=t,i=0,a=this.mutations;i<a.length;i++){var s;(s=a[i]).key.isEqual(e)&&(t=s.applyToLocalView(t,o,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach(function(r){var o=t.applyToLocalView(r.key,e.get(r.key));o&&(n=n.insert(r.key,o))}),n},e.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},Zi())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations)&&co(this.baseMutations,e.baseMutations)},e}(),Ja=function(){function e(e,t,n,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=o}return e.from=function(t,n,r,o){Nr(t.mutations.length===r.length,"Mutations sent "+t.mutations.length+" must equal results received "+r.length);for(var i=$i(),a=t.mutations,s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new e(t,n,r,o,i)},e}(),Za=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Pr("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,o){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,o)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,o)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return new e(function(e,n){var r=0,o=0,i=!1;t.forEach(function(t){++r,t.next(function(){++o,i&&o===r&&e()},function(e){return n(e)})}),i=!0,o===r&&e()})},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next(function(n){return n?e.resolve(n):t()})},o=0,i=t;o<i.length;o++)r(i[o]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,o){r.push(t.call(n,e,o))}),this.waitFor(r)},e}(),es=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return e.forUser=function(t,n,r,o){return Nr(""!==t.uid,"UserID must not be an empty string."),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return os(e).iterate({index:Ms.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next(function(t){return t.lastStreamToken=rs(n),as(e).put(t)})},e.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next(function(e){return e.lastStreamToken})},e.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next(function(n){return n.lastStreamToken=rs(t),as(e).put(n)})},e.prototype.addMutationBatch=function(e,t,n,r){var o=this,i=is(e),a=os(e);return a.add({}).next(function(s){Nr("number"==typeof s,"Auto-generated key is not a number");var u=new $a(s,t,n,r),c=o.serializer.toDbMutationBatch(o.userId,u);o.documentKeysByBatchId[s]=u.keys();for(var l=[],f=0,h=r;f<h.length;f++){var p=h[f],d=js.key(o.userId,p.key.path,s);l.push(a.put(c)),l.push(i.put(d,js.PLACEHOLDER)),l.push(o.indexManager.addToCollectionParentIndex(e,p.key.path.popLast()))}return Za.waitFor(l).next(function(){return u})})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return os(e).get(t).next(function(e){return e?(Nr(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null})},e.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?Za.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this;return this.getMutationQueueMetadata(e).next(function(r){var o=t+1,i=IDBKeyRange.lowerBound([n.userId,o]),a=null;return os(e).iterate({index:Ms.userMutationsIndex,range:i},function(e,t,r){t.userId===n.userId&&(Nr(t.batchId>=o,"Should have found mutation after "+o),a=n.serializer.fromDbMutationBatch(t)),r.done()}).next(function(){return a})})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return os(e).loadAll(Ms.userMutationsIndex,n).next(function(e){return e.map(function(e){return t.serializer.fromDbMutationBatch(e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=js.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),i=[];return is(e).iterate({range:o},function(r,o,a){var s=r[0],u=r[1],c=r[2],l=Qa(u);if(s===n.userId&&t.path.isEqual(l))return os(e).get(c).next(function(e){if(!e)throw Pr("Dangling document-mutation reference found: "+r+" which points to "+c);Nr(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+c),i.push(n.serializer.fromDbMutationBatch(e))});a.done()}).next(function(){return i})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Si(uo),o=[];return t.forEach(function(t){var i=js.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(i),s=is(e).iterate({range:a},function(e,o,i){var a=e[0],s=e[1],u=e[2],c=Qa(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):i.done()});o.push(s)}),Za.waitFor(o).next(function(){return n.lookupMutationBatches(e,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;Nr(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),Nr(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,o=r.length+1,i=js.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(i),s=new Si(uo);return is(e).iterate({range:a},function(e,t,i){var a=e[0],u=e[1],c=e[2],l=Qa(u);a===n.userId&&r.isPrefixOf(l)?l.length===o&&(s=s.add(c)):i.done()}).next(function(){return n.lookupMutationBatches(e,s)})},e.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],o=[];return t.forEach(function(t){o.push(os(e).get(t).next(function(e){if(null===e)throw Pr("Dangling document-mutation reference found, which points to "+t);Nr(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))}))}),Za.waitFor(o).next(function(){return r})},e.prototype.removeMutationBatch=function(e,t){var n=this;return ns(e.simpleDbTransaction,this.userId,t).next(function(r){return n.removeCachedMutationKeys(t.batchId),Za.forEach(r,function(t){return n.referenceDelegate.removeMutationReference(e,t)})})},e.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return Za.resolve();var r=IDBKeyRange.lowerBound(js.prefixForUser(t.userId)),o=[];return is(e).iterate({range:r},function(e,n,r){if(e[0]===t.userId){var i=Qa(e[1]);o.push(i)}else r.done()}).next(function(){Nr(0===o.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+o.map(function(e){return e.canonicalString()}))})})},e.prototype.containsKey=function(e,t){return ts(e,this.userId,t)},e.prototype.getMutationQueueMetadata=function(e){var t=this;return as(e).get(this.userId).next(function(e){return e||new Ls(t.userId,-1,"")})},e}();function ts(e,t,n){var r=js.prefixForPath(t,n.path),o=r[1],i=IDBKeyRange.lowerBound(r),a=!1;return is(e).iterate({range:i,keysOnly:!0},function(e,n,r){var i=e[0],s=e[1];e[2],i===t&&s===o&&(a=!0),r.done()}).next(function(){return a})}function ns(e,t,n){var r=e.store(Ms.store),o=e.store(js.store),i=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(e,t,n){return s++,n.delete()});i.push(u.next(function(){Nr(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],p=js.key(t,h.key.path,n.batchId);i.push(o.delete(p)),c.push(h.key)}return Za.waitFor(i).next(function(){return c})}function rs(e){return e instanceof Uint8Array?(Nr("YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/notes"}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function os(e){return cu.getStore(e,Ms.store)}function is(e){return cu.getStore(e,js.store)}function as(e){return cu.getStore(e,Ls.store)}(Ya=Xa||(Xa={}))[Ya.QueryCache=0]="QueryCache",Ya[Ya.SyncEngine=1]="SyncEngine";var ss=function(){function e(e,t){Nr((1&(this.generatorId=e))===e,"Generator ID "+e+" contains more than 1 reserved bits"),this.seek(void 0!==t?t:this.generatorId)}return e.prototype.next=function(){var e=this.nextId;return this.nextId+=2,e},e.prototype.after=function(e){return this.seek(e+2),this.next()},e.prototype.seek=function(e){Nr((1&e)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},e.forQueryCache=function(){return new e(Xa.QueryCache,2)},e.forSyncEngine=function(){return new e(Xa.SyncEngine)},e}(),us="SimpleDb",cs=function(){function e(e){this.db=e}return e.openOrCreate=function(t,n,r){return Nr(e.isAvailable(),"IndexedDB not supported in current environment."),kr(us,"Opening database:",t),new Za(function(o,i){var a=window.indexedDB.open(t,n);a.onsuccess=function(t){var n=t.target.result;o(new e(n))},a.onblocked=function(){i(new jr(Mr.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(e){var t=e.target.error;"VersionError"===t.name?i(new jr(Mr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):i(t)},a.onupgradeneeded=function(e){kr(us,'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result,o=new fs(a.transaction);r.createOrUpgrade(n,o,e.oldVersion,Rs).next(function(){kr(us,"Database upgrade to version "+Rs+" complete")})}}).toPromise()},e.delete=function(e){return kr(us,"Removing database:",e),ps(window.indexedDB.deleteDatabase(e)).toPromise()},e.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/notes"}).USE_MOCK_PERSISTENCE;var t=window.navigator.userAgent,n=e.getIOSVersion(t),r=0<n&&n<10,o=e.getAndroidVersion(t),i=0<o&&o<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||r||i)},e.getStore=function(e,t){return e.store(t)},e.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_")[0]:"-1";return Number(n)},e.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.runTransaction=function(e,t,n){var r=fs.open(this.db,e,t),o=n(r).catch(function(e){return r.abort(e),Za.reject(e)}).toPromise();return o.catch(function(){}),r.completionPromise.then(function(){return o})},e.prototype.close=function(){this.db.close()},e}(),ls=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return ps(this.dbCursor.delete())},e}(),fs=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new Ua,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){t.completionDeferred.reject(e.target.error)}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(kr(us,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return Nr(!!t,"Object store not part of transaction: "+e),new hs(t)},e}(),hs=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){return ps(void 0!==t?(kr(us,"PUT",this.store.name,e,t),this.store.put(t,e)):(kr(us,"PUT",this.store.name,"<auto-key>",e),this.store.put(e)))},e.prototype.add=function(e){return kr(us,"ADD",this.store.name,e,e),ps(this.store.add(e))},e.prototype.get=function(e){var t=this;return ps(this.store.get(e)).next(function(n){return void 0===n&&(n=null),kr(us,"GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return kr(us,"DELETE",this.store.name,e),ps(this.store.delete(e))},e.prototype.count=function(){return kr(us,"COUNT",this.store.name),ps(this.store.count())},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.deleteAll=function(e,t){kr(us,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(e,t,n){return n.delete()})},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},e.prototype.iterateSerial=function(e){var t=this.cursor({});return new Za(function(n,r){t.onerror=function(e){r(e.target.error)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})},e.prototype.iterateCursor=function(e,t){var n=[];return new Za(function(r,o){e.onerror=function(e){o(e.target.error)},e.onsuccess=function(e){var o=e.target.result;if(o){var i=new ls(o),a=t(o.primaryKey,o.value,i);if(a instanceof Za){var s=a.catch(function(e){return i.done(),Za.reject(e)});n.push(s)}i.isDone?r():null===i.skipToKey?o.continue():o.continue(i.skipToKey)}else r()}}).next(function(){return Za.waitFor(n)})},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(Nr(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function ps(e){return new Za(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){n(e.target.error)}})}var ds=function(){function e(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=ss.forQueryCache()}return e.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next(function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next(function(){return n.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next(function(e){return wi.fromTimestamp(new Eo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return vs(e.simpleDbTransaction)},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next(function(o){return o.highestListenSequenceNumber=t,n&&(o.lastRemoteSnapshotVersion=n.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),r.saveMetadata(e,o)})},e.prototype.addQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next(function(){return n.retrieveMetadata(e).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(t,r),n.saveMetadata(e,r)})})},e.prototype.updateQueryData=function(e,t){return this.saveQueryData(e,t)},e.prototype.removeQueryData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return ys(e).delete(t.targetId)}).next(function(){return n.retrieveMetadata(e)}).next(function(t){return Nr(0<t.targetCount,"Removing from an empty query cache"),t.targetCount-=1,n.saveMetadata(e,t)})},e.prototype.removeTargets=function(e,t,n){var r=this,o=0,i=[];return ys(e).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=t&&void 0===n[u.targetId]&&(o++,i.push(r.removeQueryData(e,u)))}).next(function(){return Za.waitFor(i)}).next(function(){return o})},e.prototype.forEachTarget=function(e,t){var n=this;return ys(e).iterate(function(e,r){var o=n.serializer.fromDbTarget(r);t(o)})},e.prototype.retrieveMetadata=function(e){return ms(e.simpleDbTransaction)},e.prototype.saveMetadata=function(e,t){return(n=e,cu.getStore(n,zs.store)).put(zs.key,t);var n},e.prototype.saveQueryData=function(e,t){return ys(e).put(this.serializer.toDbTarget(t))},e.prototype.updateMetadataFromQueryData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getQueryCount=function(e){return this.retrieveMetadata(e).next(function(e){return e.targetCount})},e.prototype.getQueryData=function(e,t){var n=this,r=t.canonicalId(),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),i=null;return ys(e).iterate({range:o,index:Vs.queryTargetsIndexName},function(e,r,o){var a=n.serializer.fromDbTarget(r);t.isEqual(a.query)&&(i=a,o.done())}).next(function(){return i})},e.prototype.addMatchingKeys=function(e,t,n){var r=this,o=[],i=gs(e);return t.forEach(function(t){var a=Ka(t.path);o.push(i.put(new Ws(n,a))),o.push(r.referenceDelegate.addReference(e,t))}),Za.waitFor(o)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,o=gs(e);return Za.forEach(t,function(t){var i=Ka(t.path);return Za.waitFor([o.delete([n,i]),r.referenceDelegate.removeReference(e,t)])})},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=gs(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=gs(e),o=Zi();return r.iterate({range:n,keysOnly:!0},function(e,t,n){var r=Qa(e[1]),i=new xo(r);o=o.add(i)}).next(function(){return o})},e.prototype.containsKey=function(e,t){var n=Ka(t.path),r=IDBKeyRange.bound([n],[lo(n)],!1,!0),o=0;return gs(e).iterate({index:Ws.documentTargetsIndex,keysOnly:!0,range:r},function(e,t,n){var r=e[0];e[1],0!==r&&(o++,n.done())}).next(function(){return 0<o})},e.prototype.getQueryDataForTarget=function(e,t){var n=this;return ys(e).get(t).next(function(e){return e?n.serializer.fromDbTarget(e):null})},e}();function ys(e){return cu.getStore(e,Vs.store)}function ms(e){return cs.getStore(e,zs.store).get(zs.key).next(function(e){return Nr(null!==e,"Missing metadata row."),e})}function vs(e){return ms(e).next(function(e){return e.highestListenSequenceNumber})}function gs(e){return cu.getStore(e,Ws.store)}var bs=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,o=n;r<o.length;r++){var i=o[r],a=i[0],s=i[1];if(a.isEqual(e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var o=0;o<r.length;o++)if(r[o][0].isEqual(e))return void(r[o]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Vr(this.inner,function(t,n){for(var r=0,o=n;r<o.length;r++){var i=o[r],a=i[0],s=i[1];e(a,s)}})},e.prototype.isEmpty=function(){return Wr(this.inner)},e}(),ws=function(){function e(){this.changes=Hi(),this.documentSizes=new bs(function(e){return e.toString()})}return e.prototype.addEntry=function(e){var t=this.assertChanges();this.changes=t.insert(e.key,e)},e.prototype.getEntry=function(e,t){var n=this,r=this.assertChanges().get(t);return r?Za.resolve(r):this.getFromCache(e,t).next(function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)})},e.prototype.getEntries=function(e,t){var n=this;return this.getAllFromCache(e,t).next(function(e){var t=e.maybeDocuments;return e.sizeMap.forEach(function(e,t){n.documentSizes.set(e,t)}),t})},e.prototype.apply=function(e){var t=this.applyChanges(e);return this.changes=null,t},e.prototype.assertChanges=function(){return Nr(null!==this.changes,"Changes have already been applied."),this.changes},e}(),Es="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Ts=function(){function e(e,t,n){this.serializer=e,this.indexManager=t,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(e.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),e.prototype.start=function(e){var t=cs.getStore(e,Gs.store);return this.synchronizeLastDocumentChangeId(t)},e.prototype.addEntries=function(e,t,n){var r=[];if(0<t.length){for(var o=Is(e),i=Zi(),a=0,s=t;a<s.length;a++){var u=s[a],c=u.key,l=u.doc;r.push(o.put(Cs(c),l)),i=i.add(c),r.push(this.indexManager.addToCollectionParentIndex(e,c.path.popLast()))}this.keepDocumentChangeLog&&r.push(As(e).put({changes:this.serializer.toDbResourcePaths(i)})),r.push(this.updateSize(e,n))}return Za.waitFor(r)},e.prototype.removeEntry=function(e,t){var n=Is(e),r=Cs(t);return n.get(r).next(function(e){return e?n.delete(r).next(function(){return Os(e)}):Za.resolve(0)})},e.prototype.getEntry=function(e,t){var n=this;return Is(e).get(Cs(t)).next(function(e){return e?n.serializer.fromDbRemoteDocument(e):null})},e.prototype.getSizedEntry=function(e,t){var n=this;return Is(e).get(Cs(t)).next(function(e){return e?{maybeDocument:n.serializer.fromDbRemoteDocument(e),size:Os(e)}:null})},e.prototype.getEntries=function(e,t){var n=this,r=Gi();return this.forEachDbEntry(e,t,function(e,t){r=t?r.insert(e,n.serializer.fromDbRemoteDocument(t)):r.insert(e,null)}).next(function(){return r})},e.prototype.getSizedEntries=function(e,t){var n=this,r=Gi(),o=new Lo(xo.comparator);return this.forEachDbEntry(e,t,function(e,t){o=t?(r=r.insert(e,n.serializer.fromDbRemoteDocument(t)),o.insert(e,Os(t))):(r=r.insert(e,null),o.insert(e,0))}).next(function(){return{maybeDocuments:r,sizeMap:o}})},e.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return Za.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),o=t.getIterator(),i=o.getNext();return Is(e).iterate({range:r},function(e,t,r){for(var a=xo.fromSegments(e);i&&xo.comparator(i,a)<0;)n(i,null),i=o.getNext();i&&i.isEqual(a)&&(n(i,t),i=o.hasNext()?o.getNext():null),i?r.skip(i.path.toArray()):r.done()}).next(function(){for(;i;)n(i,null),i=o.hasNext()?o.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(e,t){var n=this;Nr(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Xi(),o=t.path.length+1,i=t.path.toArray(),a=IDBKeyRange.lowerBound(i);return Is(e).iterate({range:a},function(e,i,a){if(e.length===o){var s=n.serializer.fromDbRemoteDocument(i);t.path.isPrefixOf(s.key.path)?s instanceof Po&&t.matches(s)&&(r=r.insert(s.key,s)):a.done()}}).next(function(){return r})},e.prototype.getNewDocumentChanges=function(e){var t=this;Nr(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Zi(),r=Hi(),o=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),i=!0,a=As(e);return a.iterate({range:o},function(e,r){if(i&&(i=!1,t._lastProcessedDocumentChangeId+1!==r.id))return t.synchronizeLastDocumentChangeId(a).next(function(){return Za.reject(new jr(Mr.DATA_LOSS,Es))});n=n.unionWith(t.serializer.fromDbResourcePaths(r.changes)),t._lastProcessedDocumentChangeId=r.id}).next(function(){var o=[];return n.forEach(function(n){o.push(t.getEntry(e,n).next(function(e){var t=e||new No(n,wi.forDeletedDoc());r=r.insert(n,t)}))}),Za.waitFor(o)}).next(function(){return r})},e.prototype.removeDocumentChangesThroughChangeId=function(e,t){var n=IDBKeyRange.upperBound(t);return As(e).delete(n)},e.prototype.synchronizeLastDocumentChangeId=function(e){var t=this;return this._lastProcessedDocumentChangeId=0,e.iterate({keysOnly:!0,reverse:!0},function(e,n,r){t._lastProcessedDocumentChangeId=e,r.done()})},e.prototype.newChangeBuffer=function(){return new Ss(this)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return _s(e).get(Bs.key).next(function(e){return Nr(!!e,"Missing document cache metadata"),e})},e.prototype.setMetadata=function(e,t){return _s(e).put(Bs.key,t)},e.prototype.updateSize=function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.setMetadata(e,r)})},e}();function _s(e){return cu.getStore(e,Bs.store)}var Ss=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n}return u(t,e),t.prototype.applyChanges=function(e){var t=this,n=this.assertChanges(),r=0,o=[];return n.forEach(function(e,n){var i=t.documentCache.serializer.toDbRemoteDocument(n),a=t.documentSizes.get(e);Nr(void 0!==a,"Attempting to change document "+e.toString()+" without having read it first");var s=Os(i);r+=s-a,o.push({key:e,doc:i})}),this.documentCache.addEntries(e,o,r)},t.prototype.getFromCache=function(e,t){return this.documentCache.getSizedEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getSizedEntries(e,t)},t}(ws);function Is(e){return cu.getStore(e,qs.store)}function As(e){return cu.getStore(e,Gs.store)}function Cs(e){return e.path.toArray()}function Os(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Pr("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var ks=function(){function e(){this.collectionParentIndex=new xs}return e.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),Za.resolve()},e.prototype.getCollectionParents=function(e,t){return Za.resolve(this.collectionParentIndex.getEntries(t))},e}(),xs=function(){function e(){this.index={}}return e.prototype.add=function(e){Nr(e.length%2==1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Si(Co.comparator),o=!r.has(n);return this.index[t]=r.add(n),o},e.prototype.getEntries=function(e){return(this.index[e]||new Si(Co.comparator)).toArray()},e}(),Rs=8,Ps=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var o,i=this;Nr(n<r&&0<=n&&r<=Rs,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&1<=r&&(e.createObjectStore(Ds.store),(o=e).createObjectStore(Ls.store,{keyPath:Ls.keyPath}),o.createObjectStore(Ms.store,{keyPath:Ms.keyPath,autoIncrement:!0}).createIndex(Ms.userMutationsIndex,Ms.userMutationsKeyPath,{unique:!0}),o.createObjectStore(js.store),Hs(e),e.createObjectStore(qs.store));var a,s=Za.resolve();return n<3&&3<=r&&(0!==n&&((a=e).deleteObjectStore(Ws.store),a.deleteObjectStore(Vs.store),a.deleteObjectStore(zs.store),Hs(e)),s=s.next(function(){return e=t.store(zs.store),n=new zs(0,0,wi.MIN.toTimestamp(),0),e.put(zs.key,n);var e,n})),n<4&&4<=r&&(0!==n&&(s=s.next(function(){return n=e,(r=t).store(Ms.store).loadAll().next(function(e){n.deleteObjectStore(Ms.store);var t=n.createObjectStore(Ms.store,{keyPath:Ms.keyPath,autoIncrement:!0});t.createIndex(Ms.userMutationsIndex,Ms.userMutationsKeyPath,{unique:!0});var o=r.store(Ms.store),i=e.map(function(e){return o.put(e)});return Za.waitFor(i)});var n,r})),s=s.next(function(){e.createObjectStore(Qs.store,{keyPath:Qs.keyPath}),e.createObjectStore(Gs.store,{keyPath:"id",autoIncrement:!0})})),n<5&&5<=r&&(s=s.next(function(){return i.removeAcknowledgedMutations(t)})),n<6&&6<=r&&(s=s.next(function(){return e.createObjectStore(Bs.store),i.addDocumentGlobal(t)})),n<7&&7<=r&&(s=s.next(function(){return i.ensureSequenceNumbers(t)})),n<8&&8<=r&&(s=s.next(function(){return i.createCollectionParentIndex(e,t)})),s},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(qs.store).iterate(function(e,n){t+=Os(n)}).next(function(){var n=new Bs(t);return e.store(Bs.store).put(Bs.key,n)})},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(Ls.store),r=e.store(Ms.store);return n.loadAll().next(function(n){return Za.forEach(n,function(n){var o=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(Ms.userMutationsIndex,o).next(function(r){return Za.forEach(r,function(r){Nr(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var o=t.serializer.fromDbMutationBatch(r);return ns(e,n.userId,o).next(function(){})})})})})},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(Ws.store),n=e.store(qs.store);return vs(e).next(function(e){var r=[];return n.iterate(function(n,o){var i=new Co(n),a=[0,Ka(i)];r.push(t.get(a).next(function(n){return n?Za.resolve():(r=i,t.put(new Ws(0,Ka(r),e)));var r}))}).next(function(){return Za.waitFor(r)})})},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(Ks.store,{keyPath:Ks.keyPath});var n=t.store(Ks.store),r=new xs,o=function(e){if(r.add(e)){var t=e.lastSegment(),o=e.popLast();return n.put({collectionId:t,parent:Ka(o)})}};return t.store(qs.store).iterate({keysOnly:!0},function(e,t){var n=new Co(e);return o(n.popLast())}).next(function(){return t.store(js.store).iterate({keysOnly:!0},function(e,t){e[0];var n=e[1],r=(e[2],Qa(n));return o(r.popLast())})})},e}(),Ns=function(e,t){this.seconds=e,this.nanoseconds=t},Ds=function(){function e(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}return e.store="owner",e.key="owner",e}(),Ls=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),Ms=function(){function e(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o}return e.store="mutations",e.keyPath="batchId",e.userMutationsIndex="userMutationsIndex",e.userMutationsKeyPath=["userId","batchId"],e}(),js=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Ka(t)]},e.key=function(e,t,n){return[e,Ka(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}(),Us=function(e,t){this.path=e,this.readTime=t},Fs=function(e,t){this.path=e,this.version=t},qs=function(){function e(e,t,n,r){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r}return e.store="remoteDocuments",e}(),Bs=function(){function e(e){this.byteSize=e}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e}(),Vs=function(){function e(e,t,n,r,o,i){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.query=i}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),Ws=function(){function e(e,t,n){this.targetId=e,this.path=t,Nr(0===e==(void 0!==(this.sequenceNumber=n)),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),zs=function(){function e(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return e.key="targetGlobalKey",e.store="targetGlobal",e}(),Ks=function(){function e(e,t){this.collectionId=e,this.parent=t}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e}();function Hs(e){e.createObjectStore(Ws.store,{keyPath:Ws.keyPath}).createIndex(Ws.documentTargetsIndex,Ws.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Vs.store,{keyPath:Vs.keyPath}).createIndex(Vs.queryTargetsIndexName,Vs.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(zs.store)}var Gs=function(){function e(e){this.changes=e}return e.store="remoteDocumentChanges",e.keyPath="id",e}(),Qs=function(){function e(e,t,n,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=o}return e.store="clientMetadata",e.keyPath="clientId",e}(),Xs=[Ls.store,Ms.store,js.store,qs.store,Vs.store,Ds.store,zs.store,Ws.store].concat([Qs.store,Gs.store]).concat([Bs.store]).concat([Ks.store]),Ys=function(){function e(){this.collectionParentsCache=new xs}return e.prototype.addToCollectionParentIndex=function(e,t){if(Nr(t.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(t)){Nr(1<=t.length,"Invalid collection path.");var n=t.lastSegment(),r=t.popLast();return $s(e).put({collectionId:n,parent:Ka(r)})}return Za.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[lo(t),""],!1,!0);return $s(e).loadAll(r).next(function(e){for(var r=0,o=e;r<o.length;r++){var i=o[r];if(i.collectionId!==t)break;n.push(Qa(i.parent))}return n})},e}();function $s(e){return cu.getStore(e,Ks.store)}var Js=function(){function e(e){this.remoteSerializer=e}return e.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=xo.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new No(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?(t=xo.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version),new Do(t,n)):Pr("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(e){if(e instanceof Po){var t=e.proto?e.proto:this.remoteSerializer.toDocument(e),n=e.hasCommittedMutations;return new qs(null,null,t,n)}if(e instanceof No){var r=e.key.path.toArray(),o=this.toDbTimestamp(e.version);return n=e.hasCommittedMutations,new qs(null,new Us(r,o),null,n)}return e instanceof Do?(r=e.key.path.toArray(),o=this.toDbTimestamp(e.version),new qs(new Fs(r,o),null,null,!0)):Pr("Unexpected MaybeDocumment")},e.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new Ns(t.seconds,t.nanoseconds)},e.prototype.fromDbTimestamp=function(e){var t=new Eo(e.seconds,e.nanoseconds);return wi.fromTimestamp(t)},e.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map(function(e){return n.remoteSerializer.toMutation(e)}),o=t.mutations.map(function(e){return n.remoteSerializer.toMutation(e)});return new Ms(e,t.batchId,t.localWriteTime.toMillis(),r,o)},e.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map(function(e){return t.remoteSerializer.fromMutation(e)}),r=e.mutations.map(function(e){return t.remoteSerializer.fromMutation(e)}),o=Eo.fromMillis(e.localWriteTimeMs);return new $a(e.batchId,o,n,r)},e.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach(function(e){t.push(Ka(e.path))}),t},e.prototype.fromDbResourcePaths=function(e){for(var t=Zi(),n=0,r=e;n<r.length;n++){var o=r[n];t=t.add(new xo(Qa(o)))}return t},e.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime);return t=void 0!==e.query.documents?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new _i(t,e.targetId,si.Listen,e.lastListenSequenceNumber,n,e.resumeToken)},e.prototype.toDbTarget=function(e){Nr(si.Listen===e.purpose,"Only queries with purpose "+si.Listen+" may be stored, got "+e.purpose);var t,n,r=this.toDbTimestamp(e.snapshotVersion);return t=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),n=e.resumeToken instanceof Uint8Array?(Nr("YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/notes"}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),e.resumeToken.toString()):e.resumeToken,new Vs(e.targetId,e.query.canonicalId(),r,n,e.sequenceNumber,t)},e}();function Zs(e,t){var n=e[0],r=e[1],o=t[0],i=t[1],a=uo(n,o);return 0===a?uo(r,i):a}var eu=function(){function e(e){this.maxElements=e,this.buffer=new Si(Zs),this.previousIndex=0}return e.prototype.nextIndex=function(){return++this.previousIndex},e.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Zs(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),tu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nu=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e.COLLECTION_DISABLED=-1,e.MINIMUM_CACHE_SIZE_BYTES=1048576,e.DEFAULT=new e(e.DEFAULT_CACHE_SIZE_BYTES=41943040,e.DEFAULT_COLLECTION_PERCENTILE=10,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),e.DISABLED=new e(e.COLLECTION_DISABLED,0,0),e}(),ru=function(){function e(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.gcTask=null}return e.prototype.start=function(){Nr(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==nu.COLLECTION_DISABLED&&this.scheduleGC()},e.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),e.prototype.scheduleGC=function(){var e=this;Nr(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;kr("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(La.LruGarbageCollection,t,function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then(function(){return e.scheduleGC()}).catch(lu)})},e}(),ou=function(){function e(e,t){this.delegate=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Za.resolve(ja.INVALID);var r=new eu(t);return this.delegate.forEachTarget(e,function(e){return r.addElement(e.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,function(e){return r.addElement(e)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===nu.COLLECTION_DISABLED?(kr("LruGarbageCollector","Garbage collection skipped; disabled"),Za.resolve(tu)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(kr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),tu):n.runGarbageCollection(e,t)})},e.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},e.prototype.runGarbageCollection=function(e,t){var n,r,o,i,a,s,u,c,l=this;return i=Date.now(),this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return r=t>l.params.maximumSequenceNumbersToCollect?(kr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),l.params.maximumSequenceNumbersToCollect):t,a=Date.now(),l.nthSequenceNumber(e,r)}).next(function(r){return n=r,s=Date.now(),l.removeTargets(e,n,t)}).next(function(t){return o=t,u=Date.now(),l.removeOrphanedDocuments(e,n)}).next(function(e){return c=Date.now(),Cr()<=dr.DEBUG&&kr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-i)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-i)+"ms"),Za.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})})},e}(),iu="IndexedDbPersistence",au="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",su="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.",uu=function(e){function t(t,n){var r=e.call(this)||this;return r.simpleDbTransaction=t,r.currentSequenceNumber=n,r}return u(t,e),t}(function(){}),cu=function(){function e(t,n,r,o,i,a,s){if(this.persistenceKey=t,this.clientId=n,this.queue=o,this.multiClientParams=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},!e.isAvailable())throw new jr(Mr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");if(this.referenceDelegate=new pu(this,a),this.dbName=t+e.MAIN_DATABASE,this.serializer=new Js(i),this.document=r.document,this.allowTabSynchronization=void 0!==s,this.queryCache=new ds(this.referenceDelegate,this.serializer),this.indexManager=new Ys,this.remoteDocumentCache=new Ts(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new jr(Mr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return e.getStore=function(e,t){if(e instanceof uu)return cs.getStore(e.simpleDbTransaction,t);throw Pr("IndexedDbPersistence must use instances of IndexedDbTransaction")},e.createIndexedDbPersistence=function(t,n,r,o,i,a){return c(this,void 0,void 0,function(){var s;return l(this,function(u){switch(u.label){case 0:return[4,(s=new e(t,n,r,o,i,a)).start()];case 1:return u.sent(),[2,s]}})})},e.createMultiClientIndexedDbPersistence=function(t,n,r,o,i,a,s){return c(this,void 0,void 0,function(){var u;return l(this,function(c){switch(c.label){case 0:return[4,(u=new e(t,n,r,o,i,a,s)).start()];case 1:return c.sent(),[2,u]}})})},e.prototype.start=function(){var e=this;return Nr(!this.started,"IndexedDbPersistence double-started!"),Nr(null!==this.window,"Expected 'window' to be defined"),cs.openOrCreate(this.dbName,Rs,new Ps(this.serializer)).then(function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()}).then(function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.startRemoteDocumentCache()}).then(function(){return e.simpleDb.runTransaction("readonly",[zs.store],function(t){return vs(t).next(function(t){var n=e.multiClientParams?e.multiClientParams.sequenceNumberSyncer:void 0;e.listenSequence=new ja(t,n)})})}).then(function(){e._started=!0}).catch(function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)})},e.prototype.startRemoteDocumentCache=function(){var e=this;return this.simpleDb.runTransaction("readonly",Xs,function(t){return e.remoteDocumentCache.start(t)})},e.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return c(t,void 0,void 0,function(){return l(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget(function(){return c(t,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite",Xs,function(t){return hu(t).put(new Qs(e.clientId,Date.now(),e.networkEnabled,e.inForeground,e.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next(function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget(function(){return e.primaryStateListener(!1)}))})}).next(function(){return e.canActAsPrimary(t)}).next(function(n){var r=e.isPrimary;return e.isPrimary=n,r!==e.isPrimary&&e.queue.enqueueAndForget(function(){return e.primaryStateListener(e.isPrimary)}),r&&!e.isPrimary?e.releasePrimaryLeaseIfHeld(t):e.isPrimary?e.acquireOrExtendPrimaryLease(t):void 0})})},e.prototype.verifyPrimaryLease=function(e){var t=this;return fu(e).get(Ds.key).next(function(e){return Za.resolve(t.isLocalClient(e))})},e.prototype.removeClientMetadata=function(e){return hu(e).delete(this.clientId)},e.prototype.maybeGarbageCollectMultiClientState=function(){return c(this,void 0,void 0,function(){var t,n,r=this;return l(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(o){var i=e.getStore(o,Qs.store);return i.loadAll().next(function(e){t=r.filterActiveClients(e,18e5),n=e.filter(function(e){return-1===t.indexOf(e)})}).next(function(){return Za.forEach(n,function(e){return i.delete(e.clientId)})}).next(function(){if(0<(t=t.filter(function(e){return e.clientId!==r.clientId})).length){var e=t.map(function(e){return e.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,e);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(o,n)}})})]);case 1:o.sent(),n.forEach(function(e){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(e.clientId))}),o.label=2;case 2:return[2]}})})},e.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(La.ClientMetadataRefresh,4e3,function(){return e.updateClientMetadataAndTryBecomePrimary().then(function(){return e.maybeGarbageCollectMultiClientState()}).then(function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},e.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.canActAsPrimary=function(e){var t=this;return fu(e).get(Ds.key).next(function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new jr(Mr.FAILED_PRECONDITION,su);return!1}}return!(!t.networkEnabled||!t.inForeground)||hu(e).loadAll().next(function(e){return void 0===t.filterActiveClients(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,o=t.networkEnabled===e.networkEnabled;if(n||r&&o)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&kr(iu,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(){return c(this,void 0,void 0,function(){var e=this;return l(this,function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[Ds.store,Qs.store],function(t){return e.releasePrimaryLeaseIfHeld(t).next(function(){return e.removeClientMetadata(t)})})];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},e.prototype.filterActiveClients=function(e,t){var n=this;return e.filter(function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)})},e.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly",[Qs.store],function(t){return hu(t).loadAll().next(function(t){return e.filterActiveClients(t,18e5).map(function(e){return e.clientId})})})},e.clearPersistence=function(t){return c(this,void 0,void 0,function(){var n;return l(this,function(r){switch(r.label){case 0:return e.isAvailable()?(n=t+e.MAIN_DATABASE,[4,cs.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}})})},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getMutationQueue=function(e){return Nr(this.started,"Cannot initialize MutationQueue before persistence is started."),es.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},e.prototype.getQueryCache=function(){return Nr(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},e.prototype.getRemoteDocumentCache=function(){return Nr(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},e.prototype.getIndexManager=function(){return Nr(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},e.prototype.runTransaction=function(e,t,n){var r=this;return kr(iu,"Starting transaction:",e),this.simpleDb.runTransaction("readonly"===t?"readonly":"readwrite",Xs,function(o){return"readwrite-primary"===t?r.verifyPrimaryLease(o).next(function(t){if(!t)throw xr("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new jr(Mr.FAILED_PRECONDITION,au);return n(new uu(o,r.listenSequence.next()))}).next(function(e){return r.acquireOrExtendPrimaryLease(o).next(function(){return e})}):r.verifyAllowTabSynchronization(o).next(function(){return n(new uu(o,r.listenSequence.next()))})})},e.prototype.verifyAllowTabSynchronization=function(e){var t=this;return fu(e).get(Ds.key).next(function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new jr(Mr.FAILED_PRECONDITION,su)})},e.prototype.acquireOrExtendPrimaryLease=function(e){var t=new Ds(this.clientId,this.allowTabSynchronization,Date.now());return fu(e).put(Ds.key,t)},e.isAvailable=function(){return cs.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=fu(e);return n.get(Ds.key).next(function(e){return t.isLocalClient(e)?(kr(iu,"Releasing primary lease."),n.delete(Ds.key)):Za.resolve()})},e.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t)&&(!(n<e)||(xr("Detected an update time that is in the future: "+e+" > "+n),!1))},e.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},e.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(Nr(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(Nr("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return kr(iu,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(e){return xr(iu,"Failed to get zombied client id.",e),!1}},e.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(r){xr("Failed to set zombie client id.",r)}},e.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(r){}},e.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e.MAIN_DATABASE="main",e}();function lu(e){return c(this,void 0,void 0,function(){return l(this,function(t){if((n=e).code!==Mr.FAILED_PRECONDITION||n.message!==au)throw e;var n;return kr(iu,"Unexpectedly lost primary lease"),[2]})})}function fu(e){return e.store(Ds.store)}function hu(e){return e.store(Qs.store)}var pu=function(){function e(e,t){this.db=e,this.garbageCollector=new ou(this,t)}return e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getQueryCache().getQueryCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,function(e){t++}).next(function(){return t})},e.prototype.forEachTarget=function(e,t){return this.db.getQueryCache().forEachTarget(e,t)},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,function(e,n){return t(n)})},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return du(e,t)},e.prototype.removeReference=function(e,t){return du(e,t)},e.prototype.removeTargets=function(e,t,n){return this.db.getQueryCache().removeTargets(e,t,n)},e.prototype.removeMutationReference=function(e,t){return du(e,t)},e.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?Za.resolve(!0):(r=t,o=!1,as(n=e).iterateSerial(function(e){return ts(n,e,r).next(function(e){return e&&(o=!0),Za.resolve(!e)})}).next(function(){return o}));var n,r,o},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,o=0,i=[];return this.forEachOrphanedDocument(e,function(a,s){if(s<=t){var u=n.isPinned(e,a).next(function(t){if(!t)return r++,n.removeOrphanedDocument(e,a).next(function(e){o+=e})});i.push(u)}}).next(function(){return Za.waitFor(i)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(e,-o)}).next(function(){return r})},e.prototype.removeOrphanedDocument=function(e,t){var n,r=0,o=this.db.getRemoteDocumentCache();return Za.waitFor([gs(e).delete((n=t,[0,Ka(n.path)])),o.removeEntry(e,t).next(function(e){r+=e})]).next(function(){return r})},e.prototype.removeTarget=function(e,t){var n=t.copy({sequenceNumber:e.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(e,n)},e.prototype.updateLimboDocument=function(e,t){return du(e,t)},e.prototype.forEachOrphanedDocument=function(e,t){var n,r=gs(e),o=ja.INVALID;return r.iterate({index:Ws.documentTargetsIndex},function(e,r){var i=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===i?(o!==ja.INVALID&&t(new xo(Qa(n)),o),o=s,n=a):o=ja.INVALID}).next(function(){o!==ja.INVALID&&t(new xo(Qa(n)),o)})},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function du(e,t){return gs(e).put((n=t,r=e.currentSequenceNumber,new Ws(0,Ka(n.path),r)));var n,r}var yu,mu,vu=function(){function e(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}return e.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.getDocumentInternal(e,t,r)})},e.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next(function(e){for(var r=0,o=n;r<o.length;r++)e=o[r].applyToLocalView(t,e);return e})},e.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=Gi();return t.forEach(function(e,t){for(var o=0,i=n;o<i.length;o++)t=i[o].applyToLocalView(e,t);r=r.insert(e,t)}),r},e.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.getLocalViewOfDocuments(e,t)})},e.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(r){var o=n.applyLocalMutationsToDocuments(e,t,r),i=Hi();return o.forEach(function(e,t){t||(t=new No(e,wi.forDeletedDoc())),i=i.insert(e,t)}),i})},e.prototype.getDocumentsMatchingQuery=function(e,t){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t):this.getDocumentsMatchingCollectionQuery(e,t)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new xo(t)).next(function(e){var t=Xi();return e instanceof Po&&(t=t.insert(e.key,e)),t})},e.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t){var n=this;Nr(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=t.collectionGroup,o=Xi();return this.indexManager.getCollectionParents(e,r).next(function(i){return Za.forEach(i,function(i){var a=t.asCollectionQueryAtPath(i.child(r));return n.getDocumentsMatchingCollectionQuery(e,a).next(function(e){e.forEach(function(e,t){o=o.insert(e,t)})})}).next(function(){return o})})},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t).next(function(o){return n=o,r.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)}).next(function(e){for(var r=0,o=e;r<o.length;r++)for(var i=o[r],a=0,s=i.mutations;a<s.length;a++){var u=s[a],c=u.key;if(t.path.isImmediateParentOf(c.path)){var l=n.get(c),f=u.applyToLocalView(l,l,i.localWriteTime);n=f instanceof Po?n.insert(c,f):n.remove(c)}}}).next(function(){return n.forEach(function(e,r){t.matches(r)||(n=n.remove(e))}),n})},e}(),gu=function(){function e(){this.refsByKey=new Si(bu.compareByKey),this.refsByTarget=new Si(bu.compareByTargetId)}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new bu(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.removeRef(new bu(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.removeReferencesForId=function(e){var t=this,n=xo.EMPTY,r=new bu(n,e),o=new bu(n,e+1),i=[];return this.refsByTarget.forEachInRange([r,o],function(e){t.removeRef(e),i.push(e.key)}),i},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach(function(t){return e.removeRef(t)})},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},e.prototype.referencesForId=function(e){var t=xo.EMPTY,n=new bu(t,e),r=new bu(t,e+1),o=Zi();return this.refsByTarget.forEachInRange([n,r],function(e){o=o.add(e.key)}),o},e.prototype.containsKey=function(e){var t=new bu(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),bu=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return xo.comparator(e.key,t.key)||uo(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return uo(e.targetOrBatchId,t.targetOrBatchId)||xo.comparator(e.key,t.key)},e}(),wu=function(){function e(e,t){this.persistence=e,this.localViewReferences=new gu,this.queryDataByTarget={},Nr(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(t),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new vu(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return e.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return t.mutationQueue.getAllMutationBatches(n).next(function(o){return r=o,t.mutationQueue=t.persistence.getMutationQueue(e),t.localDocuments=new vu(t.remoteDocuments,t.mutationQueue,t.persistence.getIndexManager()),t.mutationQueue.getAllMutationBatches(n)}).next(function(e){for(var o=[],i=[],a=Zi(),s=0,u=r;s<u.length;s++){var c=u[s];o.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var p=0,d=e;p<d.length;p++){c=d[p],i.push(c.batchId);for(var y=0,m=c.mutations;y<m.length;y++)h=m[y],a=a.add(h.key)}return t.localDocuments.getDocuments(n,a).next(function(e){return{affectedDocuments:e,removedBatchIds:o,addedBatchIds:i}})})})},e.prototype.localWrite=function(e){var t=this,n=Eo.now(),r=e.reduce(function(e,t){return e.add(t.key)},Zi());return this.persistence.runTransaction("Locally write mutations","readwrite",function(o){return t.localDocuments.getDocuments(o,r).next(function(r){for(var i=[],a=0,s=e;a<s.length;a++){var u=s[a],c=r.get(u.key);if(!u.isIdempotent){var l=u.fieldMask;if(l){var f=c instanceof Po?l.applyTo(c.data):Zo.EMPTY;i.push(new Pi(u.key,f,l,ki.exists(!0)))}}}return t.mutationQueue.addMutationBatch(o,n,i,e).next(function(e){var t=e.applyToLocalDocumentSet(r);return{batchId:e.batchId,changes:t}})})})},e.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return t.mutationQueue.lookupMutationKeys(n,e).next(function(e){return e?t.localDocuments.getDocuments(n,e):Za.resolve(null)})})},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=e.batch.keys(),o=t.remoteDocuments.newChangeBuffer();return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next(function(){return t.applyWriteToRemoteDocuments(n,e,o)}).next(function(){return o.apply(n)}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next(function(e){return Nr(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly",function(t){return e.mutationQueue.getLastStreamToken(t)})},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return t.mutationQueue.setLastStreamToken(n,e)})},e.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.queryCache.getLastRemoteSnapshotVersion(t)})},e.prototype.applyRemoteEvent=function(t){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var i=[],a=Zi();Br(t.targetChanges,function(r,s){var u=n.queryDataByTarget[r];if(u){s.addedDocuments.forEach(function(e){a=a.add(e)}),s.modifiedDocuments.forEach(function(e){a=a.add(e)}),i.push(n.queryCache.removeMatchingKeys(o,s.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(o,s.addedDocuments,r)}));var c=s.resumeToken;if(0<c.length){var l=u;u=u.copy({resumeToken:c,snapshotVersion:t.snapshotVersion}),n.queryDataByTarget[r]=u,e.shouldPersistQueryData(l,u,s)&&i.push(n.queryCache.updateQueryData(o,u))}}});var s=Hi(),u=Zi();t.documentUpdates.forEach(function(e,t){u=u.add(e)}),i.push(r.getEntries(o,u).next(function(e){t.documentUpdates.forEach(function(u,c){var l=e.get(u);null==l||c.version.isEqual(wi.MIN)||a.has(c.key)&&!l.hasPendingWrites||0<=c.version.compareTo(l.version)?(r.addEntry(c),s=s.insert(u,c)):kr("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),t.resolvedLimboDocuments.has(u)&&i.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))})}));var c=t.snapshotVersion;if(!c.isEqual(wi.MIN)){var l=n.queryCache.getLastRemoteSnapshotVersion(o).next(function(e){return Nr(0<=c.compareTo(e),"Watch stream reverted to previous snapshot?? "+c+" < "+e),n.queryCache.setTargetsMetadata(o,o.currentSequenceNumber,c)});i.push(l)}return Za.waitFor(i).next(function(){return r.apply(o)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(o,s)})})},e.shouldPersistQueryData=function(e,t,n){return 0!==t.resumeToken.length&&(0===e.resumeToken.length||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||0<n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size)},e.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return Za.forEach(e,function(e){return t.localViewReferences.addReferences(e.addedKeys,e.targetId),t.localViewReferences.removeReferences(e.removedKeys,e.targetId),Za.forEach(e.removedKeys,function(e){return t.persistence.referenceDelegate.removeReference(n,e)})})})},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)})},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",function(n){return t.localDocuments.getDocument(n,e)})},e.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return t.queryCache.getQueryData(n,e).next(function(o){return o?(r=o,Za.resolve()):t.queryCache.allocateTargetId(n).next(function(o){return r=new _i(e,o,si.Listen,n.currentSequenceNumber),t.queryCache.addQueryData(n,r)})}).next(function(){return Nr(!t.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+e),t.queryDataByTarget[r.targetId]=r})})},e.prototype.releaseQuery=function(e,t){var n=this,r=t?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,function(r){return n.queryCache.getQueryData(r,e).next(function(o){Nr(null!=o,"Tried to release nonexistent query: "+e);var i=o.targetId,a=n.queryDataByTarget[i],s=n.localViewReferences.removeReferencesForId(i);return delete n.queryDataByTarget[i],t?Za.resolve():Za.forEach(s,function(e){return n.persistence.referenceDelegate.removeReference(r,e)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,a)})})})},e.prototype.executeQuery=function(e){var t=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return t.localDocuments.getDocumentsMatchingQuery(n,e)})},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)})},e.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},e.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},e.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,o=t.batch,i=o.keys(),a=Za.resolve();return i.forEach(function(r){a=a.next(function(){return n.getEntry(e,r)}).next(function(e){var i=e,a=t.docVersions.get(r);Nr(null!==a,"ackVersions should contain every doc in the write."),(!i||i.version.compareTo(a)<0)&&((i=o.applyToRemoteDocument(r,i,t))?n.addEntry(i):Nr(!e,"Mutation batch "+o+" applied to document "+e+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(e,o)})},e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.queryDataByTarget)})},e.prototype.getQueryForTarget=function(e){var t=this;return this.queryDataByTarget[e]?Promise.resolve(this.queryDataByTarget[e].query):this.persistence.runTransaction("Get query data","readonly",function(n){return t.queryCache.getQueryDataForTarget(n,e).next(function(e){return e?e.query:null})})},e.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",function(t){return e.remoteDocuments.getNewDocumentChanges(t)})},e.RESUME_TOKEN_MAX_AGE_MICROS=3e8,e}(),Eu=function(){function e(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=Lr(),this.batchesByDocumentKey=new Si(bu.compareByKey)}return e.prototype.checkEmpty=function(e){return Za.resolve(0===this.mutationQueue.length)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,o=this.indexOfExistingBatchId(r,"acknowledged");Nr(0===o,"Can only acknowledge the first batch in the mutation queue");var i=this.mutationQueue[o];return Nr(r===i.batchId,"Queue ordering failure: expected batch "+r+", got batch "+i.batchId),this.lastStreamToken=n,Za.resolve()},e.prototype.getLastStreamToken=function(e){return Za.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,Za.resolve()},e.prototype.addMutationBatch=function(e,t,n,r){Nr(0!==r.length,"Mutation batches should not be empty");var o=this.nextBatchId;this.nextBatchId++,0<this.mutationQueue.length&&Nr(this.mutationQueue[this.mutationQueue.length-1].batchId<o,"Mutation batchIDs must be monotonically increasing order");var i=new $a(o,t,n,r);this.mutationQueue.push(i);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new bu(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}return Za.resolve(i)},e.prototype.lookupMutationBatch=function(e,t){return Za.resolve(this.findMutationBatch(t))},e.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return Nr(null!=n,"Failed to find local mutation batch."),Za.resolve(n.keys())},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.indexOfBatchId(n),o=r<0?0:r;return Za.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)},e.prototype.getAllMutationBatches=function(e){return Za.resolve(this.mutationQueue.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new bu(t,0),o=new bu(t,Number.POSITIVE_INFINITY),i=[];return this.batchesByDocumentKey.forEachInRange([r,o],function(e){Nr(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);Nr(null!==r,"Batches in the index must exist in the main table"),i.push(r)}),Za.resolve(i)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Si(uo);return t.forEach(function(e){var t=new bu(e,0),o=new bu(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,o],function(t){Nr(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)})}),Za.resolve(this.findMutationBatches(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){Nr(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,o=n;xo.isDocumentKey(o)||(o=o.child(""));var i=new bu(new xo(o),0),a=new Si(uo);return this.batchesByDocumentKey.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.targetOrBatchId)),!0)},i),Za.resolve(this.findMutationBatches(a))},e.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)}),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Nr(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Za.forEach(t.mutations,function(o){var i=new bu(o.key,t.batchId);return r=r.delete(i),n.referenceDelegate.removeMutationReference(e,o.key)}).next(function(){n.batchesByDocumentKey=r})},e.prototype.removeCachedMutationKeys=function(e){},e.prototype.containsKey=function(e,t){var n=new bu(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Za.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&Nr(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Za.resolve()},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return Nr(0<=n&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return Nr(n.batchId===e,"If found batch must match"),n},e}(),Tu=function(){function e(e){this.persistence=e,this.queries=new bs(function(e){return e.canonicalId()}),this.lastRemoteSnapshotVersion=wi.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new gu,this.targetCount=0,this.targetIdGenerator=ss.forQueryCache()}return e.prototype.getTargetCount=function(e){return Za.resolve(this.targetCount)},e.prototype.forEachTarget=function(e,t){return this.queries.forEach(function(e,n){return t(n)}),Za.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Za.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Za.resolve(this.highestSequenceNumber)},e.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,Za.resolve(t)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),Za.resolve()},e.prototype.saveQueryData=function(e){this.queries.set(e.query,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},e.prototype.addQueryData=function(e,t){return Nr(!this.queries.has(t.query),"Adding a query that already exists"),this.saveQueryData(t),this.targetCount+=1,Za.resolve()},e.prototype.updateQueryData=function(e,t){return Nr(this.queries.has(t.query),"Updating a non-existent query"),this.saveQueryData(t),Za.resolve()},e.prototype.removeQueryData=function(e,t){return Nr(0<this.targetCount,"Removing a target from an empty cache"),Nr(this.queries.has(t.query),"Removing a non-existent target from the cache"),this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,Za.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,o=0,i=[];return this.queries.forEach(function(a,s){s.sequenceNumber<=t&&!n[s.targetId]&&(r.queries.delete(a),i.push(r.removeMatchingKeysForTargetId(e,s.targetId)),o++)}),Za.waitFor(i).next(function(){return o})},e.prototype.getQueryCount=function(e){return Za.resolve(this.targetCount)},e.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return Za.resolve(n)},e.prototype.getQueryDataForTarget=function(e,t){return Pr("Not yet implemented.")},e.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(function(t){o.push(r.addReference(e,t))}),Za.waitFor(o)},e.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(function(t){o.push(r.removeReference(e,t))}),Za.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),Za.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return Za.resolve(n)},e.prototype.containsKey=function(e,t){return Za.resolve(this.references.containsKey(t))},e}(),_u=function(){function e(e,t){this.indexManager=e,this.sizer=t,this.docs=new Lo(xo.comparator),this.newDocumentChanges=Zi(),this.size=0}return e.prototype.addEntries=function(e,t,n){for(var r=[],o=0,i=t;o<i.length;o++){var a=i[o],s=a.maybeDocument.key;this.docs=this.docs.insert(s,a),this.newDocumentChanges=this.newDocumentChanges.add(s),r.push(this.indexManager.addToCollectionParentIndex(e,s.path.popLast()))}return this.size+=n,Za.waitFor(r)},e.prototype.removeEntry=function(e,t){var n=this.docs.get(t);return n?(this.docs=this.docs.remove(t),this.size-=n.size,Za.resolve(n.size)):Za.resolve(0)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Za.resolve(n?n.maybeDocument:null)},e.prototype.getSizedEntry=function(e,t){return Za.resolve(this.docs.get(t))},e.prototype.getEntries=function(e,t){var n=this,r=Gi();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)}),Za.resolve(r)},e.prototype.getSizedEntries=function(e,t){var n=this,r=Gi(),o=new Lo(xo.comparator);return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null),o=o.insert(e,t?t.size:0)}),Za.resolve({maybeDocuments:r,sizeMap:o})},e.prototype.getDocumentsMatchingQuery=function(e,t){Nr(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Xi(),r=new xo(t.path.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var i=o.getNext(),a=i.key,s=i.value.maybeDocument;if(!t.path.isPrefixOf(a.path))break;s instanceof Po&&t.matches(s)&&(n=n.insert(s.key,s))}return Za.resolve(n)},e.prototype.forEachDocumentKey=function(e,t){return Za.forEach(this.docs,function(e){return t(e)})},e.prototype.getNewDocumentChanges=function(e){var t=this,n=Hi();return this.newDocumentChanges.forEach(function(e){var r=t.docs.get(e),o=r?r.maybeDocument:new No(e,wi.forDeletedDoc());n=n.insert(e,o)}),this.newDocumentChanges=Zi(),Za.resolve(n)},e.prototype.newChangeBuffer=function(){return new Su(this.sizer,this)},e.prototype.getSize=function(e){return Za.resolve(this.size)},e}(),Su=function(e){function t(t,n){var r=e.call(this)||this;return r.sizer=t,r.documentCache=n,r}return u(t,e),t.prototype.applyChanges=function(e){var t=this,n=this.assertChanges(),r=0,o=[];return n.forEach(function(e,n){var i=t.documentSizes.get(e);Nr(void 0!==i,"Attempting to change document "+e.toString()+" without having read it first");var a=t.sizer(n);r+=a-i,o.push({maybeDocument:n,size:a})}),this.documentCache.addEntries(e,o,r)},t.prototype.getFromCache=function(e,t){return this.documentCache.getSizedEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getSizedEntries(e,t)},t}(ws),Iu=function(){function e(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new ja(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.queryCache=new Tu(this),this.indexManager=new ks,this.remoteDocumentCache=new _u(this.indexManager,function(e){return n.referenceDelegate.documentSize(e)})}return e.createLruPersistence=function(t,n,r){return new e(t,function(e){return new Ou(e,new Js(n),r)})},e.createEagerPersistence=function(t){return new e(t,function(e){return new Cu(e)})},e.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getActiveClients=function(){return c(this,void 0,void 0,function(){return l(this,function(e){return[2,[this.clientId]]})})},e.prototype.setPrimaryStateListener=function(e){return e(!0)},e.prototype.setNetworkEnabled=function(e){},e.prototype.getIndexManager=function(){return this.indexManager},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new Eu(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},e.prototype.getQueryCache=function(){return this.queryCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var r=this;kr("MemoryPersistence","Starting transaction:",e);var o=new Au(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(o).next(function(e){return r.referenceDelegate.onTransactionCommitted(o).next(function(){return e})}).toPromise()},e.prototype.mutationQueuesContainKey=function(e,t){return Za.or((n=this.mutationQueues,r=[],Vr(n,function(e,t){return r.push(t)}),r).map(function(n){return function(){return n.containsKey(e,t)}}));var n,r},e}(),Au=function(e){this.currentSequenceNumber=e},Cu=function(){function e(e){this.persistence=e}return e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),Za.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),Za.resolve()},e.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),Za.resolve()},e.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.orphanedDocuments.add(e)})}).next(function(){return r.removeQueryData(e,t)})},e.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},e.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache();return Za.forEach(this.orphanedDocuments,function(r){return t.isReferenced(e,r).next(function(t){return t?Za.resolve():n.removeEntry(e,r).next(function(){})})})},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next(function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)})},e.prototype.documentSize=function(e){return 0},e.prototype.isReferenced=function(e,t){var n=this;return Za.or([function(){return n.persistence.getQueryCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return Za.resolve(n.inMemoryPins.containsKey(t))}])},e}(),Ou=function(){function e(e,t,n){this.persistence=e,this.serializer=t,this.orphanedSequenceNumbers=new bs(function(e){return Ka(e.path)}),this.garbageCollector=new ou(this,n)}return e.prototype.onTransactionStarted=function(){},e.prototype.onTransactionCommitted=function(e){return Za.resolve()},e.prototype.forEachTarget=function(e,t){return this.persistence.getQueryCache().forEachTarget(e,t)},e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getQueryCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,function(e){t++}).next(function(){return t})},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return Za.forEach(this.orphanedSequenceNumbers,function(r,o){return n.isPinned(e,r,o).next(function(e){return e?Za.resolve():t(o)})})},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.removeTargets=function(e,t,n){return this.persistence.getQueryCache().removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,o=this.persistence.getRemoteDocumentCache();return o.forEachDocumentKey(e,function(i){return n.isPinned(e,i,t).next(function(t){return t?Za.resolve():(r++,o.removeEntry(e,i).next())})}).next(function(){return r})},e.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Za.resolve()},e.prototype.removeTarget=function(e,t){var n=t.copy({sequenceNumber:e.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(e,n)},e.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Za.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Za.resolve()},e.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Za.resolve()},e.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Pr("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},e.prototype.isPinned=function(e,t,n){var r=this;return Za.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return Za.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getQueryCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return Za.resolve(void 0!==e&&n<e)}])},e.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},e}(),ku=function(){function e(e,t,n,r,o){this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=o,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),o=Math.max(0,n-r);0<this.currentBaseMs&&kr("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,o,function(){return t.lastAttemptTime=Date.now(),e()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},e.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}(),xu="PersistentStream";(mu=yu||(yu={}))[mu.Initial=0]="Initial",mu[mu.Starting=1]="Starting",mu[mu.Open=2]="Open",mu[mu.Error=3]="Error",mu[mu.Backoff=4]="Backoff";var Ru,Pu,Nu,Du,Lu=function(){function e(e,t,n,r,o,i){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=o,this.listener=i,this.state=yu.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new ku(e,t,1e3,1.5,6e4)}return e.prototype.isStarted=function(){return this.state===yu.Starting||this.state===yu.Open||this.state===yu.Backoff},e.prototype.isOpen=function(){return this.state===yu.Open},e.prototype.start=function(){this.state!==yu.Error?(Nr(this.state===yu.Initial,"Already started"),this.auth()):this.performBackoff()},e.prototype.stop=function(){return c(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(yu.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.inhibitBackoff=function(){Nr(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=yu.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return e.handleIdleCloseTimer()}))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return c(this,void 0,void 0,function(){return l(this,function(e){return this.isOpen()?[2,this.close(yu.Initial)]:[2]})})},e.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},e.prototype.close=function(e,t){return c(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return Nr(this.isStarted(),"Only started streams should be closed."),Nr(e===yu.Error||ii(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==yu.Error?this.backoff.reset():t&&t.code===Mr.RESOURCE_EXHAUSTED?(xr(t.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===Mr.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}})})},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;Nr(this.state===yu.Initial,"Must be in initial state to auth"),this.state=yu.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(t){e.closeCount===n&&e.startStream(t)},function(n){t(function(){var t=new jr(Mr.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)})})},e.prototype.startStream=function(e){var t=this;Nr(this.state===yu.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen(function(){n(function(){return Nr(t.state===yu.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=yu.Open,t.listener.onOpen()})}),this.stream.onClose(function(e){n(function(){return t.handleStreamClose(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.performBackoff=function(){var e=this;Nr(this.state===yu.Error,"Should only perform backoff when in Error state"),this.state=yu.Backoff,this.backoff.backoffAndRun(function(){return c(e,void 0,void 0,function(){return l(this,function(e){return Nr(this.state===yu.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=yu.Initial,this.start(),Nr(this.isStarted(),"PersistentStream should have started"),[2]})})})},e.prototype.handleStreamClose=function(e){return Nr(this.isStarted(),"Can't handle server close on non-started stream"),kr(xu,"close with error: "+e),this.stream=null,this.close(yu.Error,e)},e.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget(function(){return t.closeCount===e?n():(kr(xu,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),Mu=function(e){function t(t,n,r,o,i){var a=e.call(this,t,La.ListenStreamConnectionBackoff,La.ListenStreamIdle,n,r,i)||this;return a.serializer=o,a}return u(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(Lu),ju=function(e){function t(t,n,r,o,i){var a=e.call(this,t,La.WriteStreamConnectionBackoff,La.WriteStreamIdle,n,r,i)||this;return a.serializer=o,a.handshakeComplete_=!1,a}return u(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.handshakeComplete_=!1,e.prototype.start.call(this)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(Nr(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return Nr(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){Nr(this.isOpen(),"Writing handshake requires an opened stream"),Nr(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;Nr(this.isOpen(),"Writing mutations requires an opened stream"),Nr(this.handshakeComplete_,"Handshake must be complete before writing mutations"),Nr(0<this.lastStreamToken.length,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map(function(e){return t.serializer.toMutation(e)})};this.sendRequest(n)},t}(Lu),Uu=function(){function e(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}return e.prototype.newPersistentWriteStream=function(e){return new ju(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.newPersistentWatchStream=function(e){return new Mu(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map(function(e){return t.serializer.toMutation(e)})};return this.invokeRPC("Commit",n).then(function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)})},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map(function(e){return t.serializer.toName(e)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=Hi();n.forEach(function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)});var o=[];return e.forEach(function(e){var t=r.get(e);Nr(!!t,"Missing entity in write response for "+e),o.push(t)}),o})},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(e,t,r)}).catch(function(e){throw e.code===Mr.UNAUTHENTICATED&&n.credentials.invalidateToken(),e})},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(e,t,r)}).catch(function(e){throw e.code===Mr.UNAUTHENTICATED&&n.credentials.invalidateToken(),e})},e}(),Fu=function(){function e(e){this.datastore=e,this.readVersions=$i(),this.mutations=[],this.committed=!1}return e.prototype.recordVersion=function(e){var t;if(e instanceof Po)t=e.version;else{if(!(e instanceof No))throw Pr("Document in a transaction was a "+e.constructor.name);t=wi.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new jr(Mr.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.lookup=function(e){var t=this;return this.committed?Promise.reject("Transaction has already completed."):0<this.mutations.length?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(e).then(function(e){return e.forEach(function(e){e instanceof No||e instanceof Po?t.recordVersion(e):Pr("Document in a transaction was a "+e.constructor.name)}),e})},e.prototype.write=function(e){if(this.committed)throw new jr(Mr.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(e)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return t?ki.updateTime(t):ki.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(t&&t.isEqual(wi.forDeletedDoc()))throw new jr(Mr.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return t?ki.updateTime(t):ki.exists(!0)},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e)))},e.prototype.update=function(e,t){this.write(t.toMutations(e,this.preconditionForUpdate(e)))},e.prototype.delete=function(e){this.write([new Di(e,this.precondition(e))]),this.readVersions=this.readVersions.insert(e,wi.forDeletedDoc())},e.prototype.commit=function(){var e=this,t=this.readVersions;return this.mutations.forEach(function(e){t=t.remove(e.key)}),t.isEmpty()?this.datastore.commit(this.mutations).then(function(){e.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},e}();(Pu=Ru||(Ru={}))[Pu.Unknown=0]="Unknown",Pu[Pu.Online=1]="Online",Pu[Pu.Offline=2]="Offline",(Du=Nu||(Nu={}))[Du.RemoteStore=0]="RemoteStore",Du[Du.SharedClientState=1]="SharedClientState";var qu=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=Ru.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return e.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Ru.Unknown),Nr(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(La.OnlineStateTimeout,1e4,function(){return e.onlineStateTimer=null,Nr(e.state===Ru.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(Ru.Offline),Promise.resolve()}))},e.prototype.handleWatchStreamFailure=function(e){this.state===Ru.Online?(this.setAndBroadcast(Ru.Unknown),Nr(0===this.watchStreamFailures,"watchStreamFailures must be 0"),Nr(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,1<=this.watchStreamFailures&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(Ru.Offline)))},e.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===Ru.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},e.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(xr(t),this.shouldWarnClientIsOffline=!1):kr("OnlineStateTracker",t)},e.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},e}(),Bu="RemoteStore",Vu=function(){function e(e,t,n,r){this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new qu(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return c(this,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Ru.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.disableNetwork=function(){return c(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(Ru.Offline),[2]}})})},e.prototype.disableNetworkInternal=function(){return c(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),0<this.writePipeline.length&&(kr(Bu,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},e.prototype.shutdown=function(){return c(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return kr(Bu,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(Ru.Unknown),[2]}})})},e.prototype.listen=function(e){Nr(!Fr(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e)},e.prototype.unlisten=function(e){Nr(Fr(this.listenTargets,e),"unlisten called without assigned target ID!"),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),Wr(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(Ru.Unknown))},e.prototype.getQueryDataForTarget=function(e){return this.listenTargets[e]||null},e.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},e.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.startWatchStream=function(){Nr(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new va(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},e.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!Wr(this.listenTargets)},e.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},e.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},e.prototype.onWatchStreamOpen=function(){return c(this,void 0,void 0,function(){var e=this;return l(this,function(t){return Br(this.listenTargets,function(t,n){e.sendWatchRequest(n)}),[2]})})},e.prototype.onWatchStreamClose=function(e){return c(this,void 0,void 0,function(){return l(this,function(t){return void 0===e&&Nr(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(Ru.Unknown),[2]})})},e.prototype.onWatchStreamChange=function(e,t){return c(this,void 0,void 0,function(){var n;return l(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(Ru.Online),e instanceof ya&&e.state===sa.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof pa?this.watchChangeAggregator.handleDocumentChange(e):e instanceof da?this.watchChangeAggregator.handleExistenceFilter(e):(Nr(e instanceof ya,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(wi.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),0<=t.compareTo(n)?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.raiseWatchSnapshot=function(e){var t=this;Nr(!e.isEqual(wi.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return Br(n.targetChanges,function(n,r){if(0<r.resumeToken.length){var o=t.listenTargets[n];o&&(t.listenTargets[n]=o.copy({resumeToken:r.resumeToken,snapshotVersion:e}))}}),n.targetMismatches.forEach(function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.copy({resumeToken:Lr()}),t.sendUnwatchRequest(e);var r=new _i(n.query,e,si.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},e.prototype.handleTargetError=function(e){var t=this;Nr(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach(function(e){r=r.then(function(){return c(t,void 0,void 0,function(){return l(this,function(t){return Fr(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]})})})}),r},e.prototype.fillWritePipeline=function(){return c(this,void 0,void 0,function(){var e,t;return l(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=0<this.writePipeline.length?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},e.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},e.prototype.outstandingWrites=function(){return this.writePipeline.length},e.prototype.addToWritePipeline=function(e){Nr(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&0<this.writePipeline.length},e.prototype.startWriteStream=function(){Nr(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},e.prototype.onWriteStreamOpen=function(){return c(this,void 0,void 0,function(){return l(this,function(e){return this.writeStream.writeHandshake(),[2]})})},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}}).catch(lu)},e.prototype.onMutationResult=function(e,t){var n=this;Nr(0<this.writePipeline.length,"Got result for empty write pipeline");var r=this.writePipeline.shift(),o=Ja.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(o).then(function(){return n.fillWritePipeline()})},e.prototype.onWriteStreamClose=function(e){return c(this,void 0,void 0,function(){var t=this;return l(this,function(n){return void 0===e&&Nr(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&0<this.writePipeline.length?[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then(function(){t.shouldStartWriteStream()&&t.startWriteStream()})]:[2]})})},e.prototype.handleHandshakeError=function(e){return c(this,void 0,void 0,function(){return l(this,function(t){return Wi(e.code)?(kr(Bu,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=Lr(),[2,this.localStore.setLastStreamToken(Lr()).catch(lu)]):[2]})})},e.prototype.handleWriteError=function(e){return c(this,void 0,void 0,function(){var t,n=this;return l(this,function(r){return Wi(o=e.code)&&o!==Mr.ABORTED?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then(function(){return n.fillWritePipeline()})]):[2];var o})})},e.prototype.createTransaction=function(){return new Fu(this.datastore)},e.prototype.handleCredentialChange=function(){return c(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return this.canUseNetwork()?(kr(Bu,"RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return e.sent(),this.onlineStateTracker.set(Ru.Unknown),[4,this.enableNetwork()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e.prototype.applyPrimaryState=function(e){return c(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return(this.isPrimary=e)&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(Ru.Unknown),t.label=4;case 4:return[2]}})})},e}(),Wu=function(){this.listeners=[]},zu=function(){function e(e){this.syncEngine=e,this.queries=new bs(function(e){return e.canonicalId()}),this.onlineState=Ru.Unknown,this.syncEngine.subscribe(this)}return e.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);return r||(n=!0,r=new Wu,this.queries.set(t,r)),r.listeners.push(e),e.applyOnlineStateChange(this.onlineState),r.viewSnap&&e.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(t).then(function(e){return r.targetId=e}):Promise.resolve(r.targetId)},e.prototype.unlisten=function(e){return c(this,void 0,void 0,function(){var t,n,r,o;return l(this,function(i){return t=e.query,n=!1,(r=this.queries.get(t))&&0<=(o=r.listeners.indexOf(e))&&(r.listeners.splice(o,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]})})},e.prototype.onWatchChange=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],o=r.query,i=this.queries.get(o);if(i){for(var a=0,s=i.listeners;a<s.length;a++)s[a].onViewSnapshot(r);i.viewSnap=r}}},e.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,o=n.listeners;r<o.length;r++)o[r].onError(t);this.queries.delete(e)},e.prototype.onOnlineStateChange=function(e){this.onlineState=e,this.queries.forEach(function(t,n){for(var r=0,o=n.listeners;r<o.length;r++)o[r].applyOnlineStateChange(e)})},e}(),Ku=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.onlineState=Ru.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(Nr(0<e.docChanges.length||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var o=r[n];o.type!==na.Metadata&&t.push(o)}e=new la(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(e)&&this.queryObserver.next(e):this.shouldRaiseInitialEvent(e,this.onlineState)&&this.raiseInitialEvent(e),this.snap=e},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&this.raiseInitialEvent(this.snap)},e.prototype.shouldRaiseInitialEvent=function(e,t){if(Nr(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==Ru.Offline;return this.options.waitForSyncWhenOnline&&n?(Nr(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===Ru.Offline},e.prototype.shouldRaiseEvent=function(e){if(0<e.docChanges.length)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.raiseInitialEvent=function(e){Nr(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=la.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},e}(),Hu=function(){function e(e,t,n){this.targetId=e,this.addedKeys=t,this.removedKeys=n}return e.fromSnapshot=function(t,n){for(var r=Zi(),o=Zi(),i=0,a=n.docChanges;i<a.length;i++){var s=a[i];switch(s.type){case na.Added:r=r.add(s.doc.key);break;case na.Removed:o=o.add(s.doc.key)}}return new e(t,r,o)},e}(),Gu=function(e){this.key=e},Qu=function(e){this.key=e},Xu=function(){function e(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=Zi(),this.mutatedKeys=Zi(),this.documentSet=new aa(e.docComparator.bind(e))}return Object.defineProperty(e.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),e.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new ca,o=t?t.documentSet:this.documentSet,i=t?t.mutatedKeys:this.mutatedKeys,a=o,s=!1,u=this.query.hasLimit()&&o.size===this.query.limit?o.last():null;if(e.inorderTraversal(function(e,t){var c=o.get(e),l=t instanceof Po?t:null;l&&(Nr(e.isEqual(l.key),"Mismatching keys found in document changes: "+e+" != "+l.key),l=n.query.matches(l)?l:null);var f=!!c&&n.mutatedKeys.has(c.key),h=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;c&&l?c.data.isEqual(l.data)?f!==h&&(r.track({type:na.Metadata,doc:l}),p=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:na.Modified,doc:l}),p=!0,u&&0<n.query.docComparator(l,u)&&(s=!0)):!c&&l?(r.track({type:na.Added,doc:l}),p=!0):c&&!l&&(r.track({type:na.Removed,doc:c}),p=!0,u&&(s=!0)),p&&(i=l?(a=a.add(l),h?i.add(e):i.delete(e)):(a=a.delete(e),i.delete(e)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),i=i.delete(c.key),r.track({type:na.Removed,doc:c})}return Nr(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:i}},e.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this;Nr(!e.needsRefill,"Cannot apply changes that need a refill");var o=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var i=e.changeSet.getChanges();i.sort(function(e,t){return n=e.type,o=t.type,(i=function(e){switch(e){case na.Added:return 1;case na.Modified:case na.Metadata:return 2;case na.Removed:return 0;default:return Pr("Unknown ChangeType: "+e)}})(n)-i(o)||r.query.docComparator(e.doc,t.doc);var n,o,i}),this.applyTargetChange(n);var a=t?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?oa.Synced:oa.Local,u=s!==this.syncState;return this.syncState=s,0!==i.length||u?{snapshot:new la(this.query,e.documentSet,o,i,e.mutatedKeys,s===oa.Local,u,!1),limboChanges:a}:{limboChanges:a}},e.prototype.applyOnlineStateChange=function(e){return this.current&&e===Ru.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new ca,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},e.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations},e.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t._syncedDocuments=t._syncedDocuments.add(e)}),e.modifiedDocuments.forEach(function(e){return Nr(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")}),e.removedDocuments.forEach(function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)}),this.current=e.current)},e.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=Zi(),this.documentSet.forEach(function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))});var n=[];return t.forEach(function(t){e.limboDocuments.has(t)||n.push(new Qu(t))}),this.limboDocuments.forEach(function(e){t.has(e)||n.push(new Gu(e))}),n},e.prototype.synchronizeWithPersistedState=function(e,t){this._syncedDocuments=t,this.limboDocuments=Zi();var n=this.computeDocChanges(e);return this.applyChanges(n,!0)},e.prototype.computeInitialSnapshot=function(){return la.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===oa.Local)},e}(),Yu="SyncEngine",$u=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Ju=function(e){this.key=e},Zu=function(){function e(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new bs(function(e){return e.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new Lo(xo.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new gu,this.mutationUserCallbacks={},this.limboTargetIdGenerator=ss.forSyncEngine(),this.isPrimary=void 0,this.onlineState=Ru.Unknown}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){Nr(null!==e,"SyncEngine listener cannot be null"),Nr(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},e.prototype.listen=function(e){return c(this,void 0,void 0,function(){var t,n,r,o,i;return l(this,function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(t=r.targetId,this.sharedClientState.addLocalQueryTarget(t),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(e)];case 2:return o=a.sent(),i=this.sharedClientState.addLocalQueryTarget(o.targetId),t=o.targetId,[4,this.initializeViewAndComputeSnapshot(o,"current"===i)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(o),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}})})},e.prototype.initializeViewAndComputeSnapshot=function(e,t){var n=this,r=e.query;return this.localStore.executeQuery(r).then(function(o){return n.localStore.remoteDocumentKeys(e.targetId).then(function(i){var a=new Xu(r,i),s=a.computeDocChanges(o),u=ha.createSynthesizedTargetChangeForCurrentChange(e.targetId,t&&n.onlineState!==Ru.Offline),c=a.applyChanges(s,!0===n.isPrimary,u);Nr(0===c.limboChanges.length,"View returned limbo docs before target ack from the server."),Nr(!!c.snapshot,"applyChanges for new view should always return a snapshot");var l=new $u(r,e.targetId,a);return n.queryViewsByQuery.set(r,l),n.queryViewsByTarget[e.targetId]=l,c.snapshot})})},e.prototype.synchronizeViewAndComputeSnapshot=function(e){var t=this;return this.localStore.executeQuery(e.query).then(function(n){return t.localStore.remoteDocumentKeys(e.targetId).then(function(r){return c(t,void 0,void 0,function(){var t;return l(this,function(o){return t=e.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(e.targetId,t.limboChanges),[2,t]})})})})},e.prototype.unlisten=function(e){return c(this,void 0,void 0,function(){var t,n=this;return l(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),Nr(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseQuery(e,!1).then(function(){n.sharedClientState.clearQueryState(t.targetId),n.remoteStore.unlisten(t.targetId),n.removeAndCleanupQuery(t)}).catch(lu)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(t),[4,this.localStore.releaseQuery(e,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},e.prototype.write=function(e,t){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(e).then(function(e){return n.sharedClientState.addPendingMutation(e.batchId),n.addMutationCallback(e.batchId,t),n.emitNewSnapsAndNotifyLocalStore(e.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},e.prototype.wrapUpdateFunctionError=function(e){return e},e.prototype.runTransaction=function(e,t){var n=this;void 0===t&&(t=5),Nr(0<=t,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var t=e(r);return!ii(t)&&t.catch&&t.then?t.catch(function(e){return Promise.reject(n.wrapUpdateFunctionError(e))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(o){return r.commit().then(function(){return o}).catch(function(r){return 0===t?Promise.reject(r):n.runTransaction(e,t-1)})})},e.prototype.applyRemoteEvent=function(e){var t=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(e).then(function(n){return Vr(e.targetChanges,function(e,n){var r=t.limboResolutionsByTarget[e];r&&(Nr(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),0<n.addedDocuments.size?r.receivedDocument=!0:0<n.modifiedDocuments.size?Nr(r.receivedDocument,"Received change for limbo target document without add."):0<n.removedDocuments.size&&(Nr(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),t.emitNewSnapsAndNotifyLocalStore(n,e)}).catch(lu)},e.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===Nu.RemoteStore||!this.isPrimary&&t===Nu.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(t,r){var o=r.view.applyOnlineStateChange(e);Nr(0===o.limboChanges.length,"OnlineState should not affect limbo documents."),o.snapshot&&n.push(o.snapshot)}),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},e.prototype.rejectListen=function(e,t){return c(this,void 0,void 0,function(){var n,r,o,i,a,s,u=this;return l(this,function(c){switch(c.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],o=(o=new Lo(xo.comparator)).insert(r,new No(r,wi.forDeletedDoc())),i=Zi().add(r),a=new fa(wi.MIN,{},new Si(uo),o,i),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return Nr(!!(s=this.queryViewsByTarget[e]),"Unknown targetId: "+e),[4,this.localStore.releaseQuery(s.query,!1).then(function(){return u.removeAndCleanupQuery(s)}).catch(lu)];case 2:c.sent(),this.syncEngineListener.onWatchError(s.query,t),c.label=3;case 3:return[2]}})})},e.prototype.applyBatchState=function(e,t,n){return c(this,void 0,void 0,function(){var r;return l(this,function(o){switch(o.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=o.sent())?(kr(Yu,"Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return o.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):Pr("Unknown batchState: "+t),o.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return o.sent(),[2]}})})},e.prototype.applySuccessfulWrite=function(e){var t=this;this.assertSubscribed("applySuccessfulWrite()");var n=e.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(e).then(function(e){return t.sharedClientState.updateMutationState(n,"acknowledged"),t.emitNewSnapsAndNotifyLocalStore(e)}).catch(lu)},e.prototype.rejectFailedWrite=function(e,t){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.localStore.rejectBatch(e).then(function(r){return n.sharedClientState.updateMutationState(e,"rejected",t),n.emitNewSnapsAndNotifyLocalStore(r)}).catch(lu)},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Lo(uo)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(Nr(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupQuery=function(e){var t=this;if(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(e.targetId);this.limboDocumentRefs.removeReferencesForId(e.targetId),n.forEach(function(e){t.limboDocumentRefs.containsKey(e)||t.removeLimboTarget(e)})}},e.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var o=r[n];o instanceof Gu?(this.limboDocumentRefs.addReference(o.key,e),this.trackLimboChange(o)):o instanceof Qu?(kr(Yu,"Document no longer in limbo: "+o.key),this.limboDocumentRefs.removeReference(o.key,e),this.limboDocumentRefs.containsKey(o.key)||this.removeLimboTarget(o.key)):Pr("Unknown limbo change: "+JSON.stringify(o))}},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){kr(Yu,"New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=ci.atPath(t.path);this.limboResolutionsByTarget[n]=new Ju(t),this.remoteStore.listen(new _i(r,n,si.LimboResolution,ja.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return c(this,void 0,void 0,function(){var n,r,o,i=this;return l(this,function(a){switch(a.label){case 0:return n=[],r=[],o=[],this.queryViewsByQuery.forEach(function(a,s){o.push(Promise.resolve().then(function(){var t=s.view.computeDocChanges(e);return t.needsRefill?i.localStore.executeQuery(s.query).then(function(e){return s.view.computeDocChanges(e,t)}):t}).then(function(e){var o=t&&t.targetChanges[s.targetId],a=s.view.applyChanges(e,!0===i.isPrimary,o);if(i.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){i.isPrimary&&i.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=Hu.fromSnapshot(s.targetId,a.snapshot);r.push(u)}}))}),[4,Promise.all(o)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}})})},e.prototype.assertSubscribed=function(e){Nr(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleCredentialChange=function(e){return c(this,void 0,void 0,function(){var t,n;return l(this,function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?[4,this.localStore.handleUserChange(e)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},e.prototype.applyPrimaryState=function(e){return c(this,void 0,void 0,function(){var t,n,r,o,i,a,s,u=this;return l(this,function(c){switch(c.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return c.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=c.sent(),r=0,o=n;r<o.length;r++)i=o[r],this.remoteStore.listen(i);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],s=Promise.resolve(),Br(this.queryViewsByTarget,function(e,t){u.sharedClientState.isLocalQueryTarget(e)?a.push(e):s=s.then(function(){return u.unlisten(t.query)}),u.remoteStore.unlisten(t.targetId)}),[4,s]);case 4:return c.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return c.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})},e.prototype.resetLimboDocuments=function(){var e=this;Br(this.limboResolutionsByTarget,function(t){e.remoteStore.unlisten(t)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Lo(xo.comparator)},e.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){for(var t=this,n=Promise.resolve(),r=[],o=[],i=function(e){n=n.then(function(){return c(t,void 0,void 0,function(){var t,n,i,a;return l(this,function(s){switch(s.label){case 0:return(n=this.queryViewsByTarget[e])?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return s.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return t=s.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return(i=s.sent()).snapshot&&o.push(i.snapshot),[3,8];case 4:return Nr(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(e)];case 5:return Nr(!!(a=s.sent()),"Query data for target "+e+" not found"),[4,this.localStore.allocateQuery(a)];case 6:return t=s.sent(),[4,this.initializeViewAndComputeSnapshot(t,!1)];case 7:s.sent(),s.label=8;case 8:return r.push(t),[2]}})})})},a=0,s=e;a<s.length;a++)i(s[a]);return n.then(function(){return t.syncEngineListener.onWatchChange(o),r})},e.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},e.prototype.applyTargetState=function(e,t,n){return c(this,void 0,void 0,function(){var r,o=this;return l(this,function(i){switch(i.label){case 0:if(this.isPrimary)return kr(Yu,"Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[e])return[3,5];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return c(o,void 0,void 0,function(){var r;return l(this,function(o){switch(o.label){case 0:return r=fa.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return o.sent(),[2]}})})},function(e){return c(o,void 0,void 0,function(){var t;return l(this,function(n){switch(n.label){case 0:return(r=e).code!==Mr.DATA_LOSS||r.message!==Es?[3,2]:(t=[],Br(this.queryViewsByTarget,function(e){return t.push(e)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t)]);case 1:return n.sent(),[3,3];case 2:throw e;case 3:return[2]}var r})})})];case 2:return r=this.queryViewsByTarget[e],this.removeAndCleanupQuery(r),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return i.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:Pr("Unexpected target state: "+t),i.label=5;case 5:return[2]}})})},e.prototype.applyActiveTargetsChange=function(e,t){return c(this,void 0,void 0,function(){var n,r,o,i,a,s,u,c,f,h=this;return l(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,p.label=1;case 1:return n<r.length?(f=r[n],Nr(!this.queryViewsByTarget[f],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(f)]):[3,6];case 2:return Nr(!!(o=p.sent()),"Query data for active target "+f+" not found"),[4,this.localStore.allocateQuery(o)];case 3:return i=p.sent(),[4,this.initializeViewAndComputeSnapshot(i,!1)];case 4:p.sent(),this.remoteStore.listen(i),p.label=5;case 5:return n++,[3,1];case 6:a=function(e){var t;return l(this,function(n){switch(n.label){case 0:return(t=s.queryViewsByTarget[e])?[4,s.localStore.releaseQuery(t.query,!1).then(function(){h.remoteStore.unlisten(e),h.removeAndCleanupQuery(t)}).catch(lu)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},s=this,u=0,c=t,p.label=7;case 7:return u<c.length?(f=c[u],[5,a(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return u++,[3,7];case 10:return[2]}})})},e.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},e.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},e.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];return t&&t.receivedDocument?Zi().add(t.key):this.queryViewsByTarget[e]?this.queryViewsByTarget[e].view.syncedDocuments:Zi()},e}(),ec=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),tc="SharedClientState",nc="firestore_clients",rc="firestore_mutations",oc="firestore_targets",ic=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,Nr(void 0!==(this.error=r)==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n,r){var o=JSON.parse(r),i="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error),a=void 0;return i&&o.error&&(i="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(a=new jr(o.error.code,o.error.message)),i?new e(t,n,o.state,a):(xr(tc,"Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),ac=function(){function e(e,t,n){this.targetId=e,this.state=t,Nr(void 0!==(this.error=n)==("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n){var r=JSON.parse(n),o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),i=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new jr(r.error.code,r.error.message)),o?new e(t,r.state,i):(xr(tc,"Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),sc=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.fromWebStorageEntry=function(t,n){for(var r=JSON.parse(n),o="object"==typeof r&&r.activeTargetIds instanceof Array,i=ta(),a=0;o&&a<r.activeTargetIds.length;++a)o=ai(r.activeTargetIds[a]),i=i.add(r.activeTargetIds[a]);return o?new e(t,i):(xr(tc,"Failed to parse client data for instance '"+t+"': "+n),null)},e}(),uc=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.fromWebStorageEntry=function(t){var n=JSON.parse(t);return"object"==typeof n&&void 0!==Ru[n.onlineState]&&"string"==typeof n.clientId?new e(n.clientId,Ru[n.onlineState]):(xr(tc,"Failed to parse online state: "+t),null)},e}(),cc=function(){function e(){this.activeTargetIds=ta()}return e.prototype.addQueryTarget=function(e){Nr(!this.activeTargetIds.has(e),"Target with ID '"+e+"' already active."),this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),lc=function(){function e(t,n,r,o,i){if(this.queue=t,this.platform=n,this.persistenceKey=r,this.localClientId=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!e.isAvailable(this.platform))throw new jr(Mr.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=i,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey="firestore_sequence_number_"+r,this.activeClients[this.localClientId]=new cc,this.clientStateKeyRe=new RegExp("^"+nc+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+rc+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+oc+"_"+a+"_(\\d+)$"),this.onlineStateKey="firestore_online_state_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return e.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},e.prototype.start=function(){return c(this,void 0,void 0,function(){var e,t,n,r,o,i,a,s,u,c,f,h=this;return l(this,function(l){switch(l.label){case 0:return Nr(!this.started,"WebStorageSharedClientState already started"),Nr(null!==this.syncEngine,"syncEngine property must be set before calling start()"),Nr(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=l.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(o=this.getItem(this.toWebStorageClientStateKey(r)))&&(i=sc.fromWebStorageEntry(r,o))&&(this.activeClients[i.clientId]=i);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(s=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(s),u=0,c=this.earlyEvents;u<c.length;u++)f=c[u],this.handleWebStorageEvent(f);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){var e=ta();return Vr(this.activeClients,function(t,n){e=e.unionWith(n.activeTargetIds)}),e},e.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},e.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var r=ac.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},e.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},e.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},e.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.removeMutationState(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.persistOnlineState(e)},e.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return kr(tc,"READ",e,t),t},e.prototype.setItem=function(e,t){kr(tc,"SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){kr(tc,"REMOVE",e),this.storage.removeItem(e)},e.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(kr(tc,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return c(t,void 0,void 0,function(){var t,n,r,o,i,a;return l(this,function(s){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(o=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(o)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(i=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(i)]}else e.key===this.sequenceNumberKey&&(Nr(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(e){var t=ja.INVALID;if(null!=e)try{var n=JSON.parse(e);Nr("number"==typeof n,"Found non-numeric sequence number"),t=n}catch(e){xr(tc,"Failed to read sequence number from WebStorage",e)}return t}(e.newValue))!==ja.INVALID&&this.sequenceNumberHandler(a));return[2]})})})}},Object.defineProperty(e.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),e.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},e.prototype.persistMutationState=function(e,t,n){var r=new ic(this.currentUser,e,t,n),o=this.toWebStorageMutationBatchKey(e);this.setItem(o,r.toWebStorageJSON())},e.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},e.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:Ru[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},e.prototype.persistQueryTargetState=function(e,t,n){var r=this.toWebStorageQueryTargetMetadataKey(e),o=new ac(e,t,n);this.setItem(r,o.toWebStorageJSON())},e.prototype.toWebStorageClientStateKey=function(e){return Nr(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),nc+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageQueryTargetMetadataKey=function(e){return oc+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageMutationBatchKey=function(e){var t=rc+"_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},e.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},e.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return Nr(null!==n,"Cannot parse client state key '"+e+"'"),sc.fromWebStorageEntry(n,t)},e.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);Nr(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]),o=void 0!==n[2]?n[2]:null;return ic.fromWebStorageEntry(new ec(o),r,t)},e.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);Nr(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return ac.fromWebStorageEntry(r,t)},e.prototype.fromWebStorageOnlineState=function(e){return uc.fromWebStorageEntry(e)},e.prototype.handleMutationBatchEvent=function(e){return c(this,void 0,void 0,function(){return l(this,function(t){return e.user.uid!==this.currentUser.uid?(kr(tc,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]})})},e.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},e.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var o=this.getAllActiveQueryTargets(),i=[],a=[];return o.forEach(function(e){return c(n,void 0,void 0,function(){return l(this,function(t){return r.has(e)||i.push(e),[2]})})}),r.forEach(function(e){return c(n,void 0,void 0,function(){return l(this,function(t){return o.has(e)||a.push(e),[2]})})}),this.syncEngine.applyActiveTargetsChange(i,a)},e.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},e}(),fc=function(){function e(){this.localState=new cc,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},e.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.queryState[e]},e.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.start=function(){return this.localState=new cc,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e}(),hc="FirestoreClient",pc=function(){function e(e,t){this.cacheSizeBytes=e,this.experimentalTabSynchronization=t}return e.prototype.lruParams=function(){return nu.withCacheSize(this.cacheSizeBytes)},e}(),dc=function(){},yc=function(){function e(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=so.newId(),this.isShutdown=!1}return e.prototype.start=function(e){var t=this;this.verifyNotShutdown();var n=new Ua,r=new Ua,o=!1;return this.credentials.setChangeListener(function(i){o?t.asyncQueue.enqueueAndForget(function(){return t.handleCredentialChange(i)}):(o=!0,t.initializePersistence(e,r,i).then(function(e){return t.initializeRest(i,e)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},e.prototype.enableNetwork=function(){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.syncEngine.enableNetwork()})},e.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof pc?this.startIndexedDbPersistence(n,e).then(function(e){return t.resolve(),e}).catch(function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline storage. Falling back to storage disabled: "+e),r.startMemoryPersistence()}):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e instanceof jr?e.code===Mr.FAILED_PRECONDITION||e.code===Mr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code},e.prototype.verifyNotShutdown=function(){if(this.isShutdown)throw new jr(Mr.FAILED_PRECONDITION,"The client has already been shutdown.")},e.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=cu.buildStoragePrefix(this.databaseInfo),o=new Ca(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return c(n,void 0,void 0,function(){var n,i;return l(this,function(a){switch(a.label){case 0:if(t.experimentalTabSynchronization&&!lc.isAvailable(this.platform))throw new jr(Mr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return i=t.lruParams(),t.experimentalTabSynchronization?(this.sharedClientState=new lc(this.asyncQueue,this.platform,r,this.clientId,e),[4,cu.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,o,i,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=a.sent(),[3,4];case 2:return this.sharedClientState=new fc,[4,cu.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,o,i)];case 3:n=a.sent(),a.label=4;case 4:return[2,(this.persistence=n).referenceDelegate.garbageCollector]}})})})},e.prototype.startMemoryPersistence=function(){return this.persistence=Iu.createEagerPersistence(this.clientId),this.sharedClientState=new fc,Promise.resolve(null)},e.prototype.initializeRest=function(e,t){var n=this;return kr(hc,"Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return c(n,void 0,void 0,function(){var n,o,i,a,s=this;return l(this,function(u){switch(u.label){case 0:return this.localStore=new wu(this.persistence,e),t&&(this.lruScheduler=new ru(t,this.asyncQueue,this.localStore)),n=this.platform.newSerializer(this.databaseInfo.databaseId),o=new Uu(this.asyncQueue,r,this.credentials,n),i=function(e){return s.syncEngine.applyOnlineStateChange(e,Nu.RemoteStore)},a=function(e){return s.syncEngine.applyOnlineStateChange(e,Nu.SharedClientState)},this.remoteStore=new Vu(this.localStore,o,this.asyncQueue,i),this.syncEngine=new Zu(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=a,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new zu(this.syncEngine),[4,this.sharedClientState.start()];case 1:return u.sent(),[4,this.remoteStore.start()];case 2:return u.sent(),[4,this.persistence.setPrimaryStateListener(function(e){return c(s,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}})})})];case 3:return u.sent(),[2]}})})})},e.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),kr(hc,"Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.syncEngine.disableNetwork()})},e.prototype.shutdown=function(){var e=this;return!0===this.isShutdown?Promise.resolve():this.asyncQueue.enqueue(function(){return c(e,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:return e.sent(),this.credentials.removeChangeListener(),this.isShutdown=!0,[2]}})})})},e.prototype.listen=function(e,t,n){var r=this;this.verifyNotShutdown();var o=new Ku(e,t,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(o)}),o},e.prototype.unlisten=function(e){var t=this;this.verifyNotShutdown(),this.asyncQueue.enqueueAndForget(function(){return t.eventMgr.unlisten(e)})},e.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.localStore.readDocument(e)}).then(function(e){if(e instanceof Po)return e;if(e instanceof No)return null;throw new jr(Mr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},e.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.localStore.executeQuery(e)}).then(function(t){var n=Zi(),r=new Xu(e,n),o=r.computeDocChanges(t);return r.applyChanges(o,!1).snapshot})},e.prototype.write=function(e){var t=this;this.verifyNotShutdown();var n=new Ua;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.write(e,n)}),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},e.prototype.transaction=function(e){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return c(t,void 0,void 0,function(){return l(this,function(e){return[2]})})}).then(function(){return t.syncEngine.runTransaction(e)})},e}(),mc=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),vc=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new jr(Mr.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+ao(1,"element")+".")}(0,e);for(var n=0;n<e.length;++n)if(Qr("FieldPath","string",n,e[n]),0===e[n].length)throw new jr(Mr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ko(e)}return e.documentId=function(){return e._DOCUMENT_ID},e.prototype.isEqual=function(t){if(!(t instanceof e))throw oo("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},e._DOCUMENT_ID=new e(ko.keyField().canonicalString()),e}(),gc=new RegExp("[~\\*/\\[\\]]"),bc=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}},wc=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){Nr(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=e)(ec.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){Nr(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},e}(),Ec=function(){function e(e){var t=this;this.app=e,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.changeListener&&t.changeListener(t.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return e.prototype.getToken=function(){var e=this;Nr(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(e.tokenCounter!==t)throw new jr(Mr.ABORTED,"getToken aborted due to token change.");return n?(Nr("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new bc(n.accessToken,e.currentUser)):null})},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){Nr(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,this.currentUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){Nr(null!=this.tokenListener,"removeChangeListener() called twice"),Nr(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},e.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return Nr(null===e||"string"==typeof e,"Received invalid UID: "+e),new ec(e)},e}(),Tc=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=ec.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),e}(),_c=function(){function e(e,t){this.gapi=e,this.sessionIndex=t}return e.prototype.getToken=function(){return Promise.resolve(new Tc(this.gapi,this.sessionIndex))},e.prototype.setChangeListener=function(e){e(ec.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Sc(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,o=["next","error","complete"];r<o.length;r++){var i=o[r];if(i in n&&"function"==typeof n[i])return!0}return!1}(e)}var Ic,Ac,Cc=function(){function e(e){this._methodName=e}return e.delete=function(){return zr("FieldValue.delete",arguments),Oc.instance},e.serverTimestamp=function(){return zr("FieldValue.serverTimestamp",arguments),kc.instance},e.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Hr("FieldValue.arrayUnion",arguments,1),new xc(e)},e.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Hr("FieldValue.arrayRemove",arguments,1),new Rc(e)},e.increment=function(e){return Qr("FieldValue.increment","number",1,e),Kr("FieldValue.increment",arguments,1),new Pc(e)},e.prototype.isEqual=function(e){return this===e},e}(),Oc=function(e){function t(){return e.call(this,"FieldValue.delete")||this}return u(t,e),t.instance=new t,t}(Cc),kc=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp")||this}return u(t,e),t.instance=new t,t}(Cc),xc=function(e){function t(t){var n=e.call(this,"FieldValue.arrayUnion")||this;return n._elements=t,n}return u(t,e),t}(Cc),Rc=function(e){function t(t){var n=e.call(this,"FieldValue.arrayRemove")||this;return n._elements=t,n}return u(t,e),t}(Cc),Pc=function(e){function t(t){var n=e.call(this,"FieldValue.increment")||this;return n._operand=t,n}return u(t,e),t}(Cc),Nc=Ur(Cc,"Use FieldValue.<field>() instead."),Dc=/^__.*__$/,Lc=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new Pi(e,this.data,this.fieldMask,t)):n.push(new Ri(e,this.data,t)),0<this.fieldTransforms.length&&n.push(new Ni(e,this.fieldTransforms)),n},e}(),Mc=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new Pi(e,this.data,this.fieldMask,t)];return 0<this.fieldTransforms.length&&n.push(new Ni(e,this.fieldTransforms)),n},e}();function jc(e){switch(e){case Ic.Set:case Ic.MergeSet:case Ic.Update:return!0;case Ic.Argument:return!1;default:throw Pr("Unexpected case for UserDataSource: "+e)}}(Ac=Ic||(Ic={}))[Ac.Set=0]="Set",Ac[Ac.Update=1]="Update",Ac[Ac.MergeSet=2]="MergeSet",Ac[Ac.Argument=3]="Argument";var Uc=function(){function e(e,t,n,r,o,i){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===o&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=o||[],this.fieldMask=i||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(t),r},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new jr(Mr.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(jc(this.dataSource)&&Dc.test(e))throw this.createError("Document fields cannot begin and end with __")},e}(),Fc=function(e,t){this.databaseId=e,this.key=t},qc=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t){var n=new Uc(Ic.Set,e,ko.EMPTY_PATH);Vc("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new Lc(r,null,n.fieldTransforms)},e.prototype.parseMergeData=function(e,t,n){var r=new Uc(Ic.MergeSet,e,ko.EMPTY_PATH);Vc("Data must be an object, but it was:",r,t);var o,i,a=this.parseData(t,r);if(n){for(var s=new Si(ko.comparator),u=0,c=n;u<c.length;u++){var l=c[u],f=void 0;if(l instanceof vc)f=l._internalPath;else{if("string"!=typeof l)throw Pr("Expected stringOrFieldPath to be a string or a FieldPath");f=zc(e,l)}if(!r.contains(f))throw new jr(Mr.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");s=s.add(f)}o=Ai.fromSet(s),i=r.fieldTransforms.filter(function(e){return o.covers(e.field)})}else o=Ai.fromArray(r.fieldMask),i=r.fieldTransforms;return new Lc(a,o,i)},e.prototype.parseUpdateData=function(e,t){var n=this,r=new Uc(Ic.Update,e,ko.EMPTY_PATH);Vc("Data must be an object, but it was:",r,t);var o=new Si(ko.comparator),i=Zo.EMPTY;Vr(t,function(t,a){var s=zc(e,t),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof Oc)o=o.add(s);else{var c=n.parseData(a,u);null!=c&&(o=o.add(s),i=i.set(s,c))}});var a=Ai.fromSet(o);return new Mc(i,a,r.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,r){var o=new Uc(Ic.Update,e,ko.EMPTY_PATH),i=[Wc(e,t)],a=[n];if(r.length%2!=0)throw new jr(Mr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)i.push(Wc(e,r[s])),a.push(r[s+1]);var u=new Si(ko.comparator),c=Zo.EMPTY;for(s=0;s<i.length;++s){var l=i[s],f=o.childContextForFieldPath(l),h=this.runPreConverter(a[s],f);if(h instanceof Oc)u=u.add(l);else{var p=this.parseData(h,f);null!=p&&(u=u.add(l),c=c.set(l,p))}}var d=Ai.fromSet(u);return new Mc(c,d,o.fieldTransforms)},e.prototype.parseQueryValue=function(e,t){var n=new Uc(Ic.Argument,e,ko.EMPTY_PATH),r=this.parseData(t,n);return Nr(null!=r,"Parsed data should not be null."),Nr(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(e){var n=Kc(e);throw t.createError(n)}},e.prototype.parseData=function(e,t){if(Bc(e=this.runPreConverter(e,t)))return Vc("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof Cc)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},e.prototype.parseObject=function(e,t){var n=this,r=new Lo(uo);return Wr(e)?t.path&&0<t.path.length&&t.fieldMask.push(t.path):Vr(e,function(e,o){var i=n.parseData(o,t.childContextForField(e));null!=i&&(r=r.insert(e,i))}),new Zo(r)},e.prototype.parseArray=function(e,t){for(var n=[],r=0,o=0,i=e;o<i.length;o++){var a=i[o],s=this.parseData(a,t.childContextForArray(r));null==s&&(s=Bo.INSTANCE),n.push(s),r++}return new ei(n)},e.prototype.parseSentinelFieldValue=function(e,t){if(!jc(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof Oc){if(t.dataSource!==Ic.MergeSet)throw t.dataSource===Ic.Update?(Nr(0<t.path.length,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof kc)t.fieldTransforms.push(new Ci(t.path,Li.instance));else if(e instanceof xc){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new Mi(n);t.fieldTransforms.push(new Ci(t.path,r))}else if(e instanceof Rc){n=this.parseArrayTransformElements(e._methodName,e._elements);var o=new ji(n);t.fieldTransforms.push(new Ci(t.path,o))}else if(e instanceof Pc){var i=this.parseQueryValue("FieldValue.increment",e._operand),a=new Ui(i);t.fieldTransforms.push(new Ci(t.path,a))}else Pr("Unknown FieldValue type: "+e)},e.prototype.parseScalarValue=function(e,t){if(null===e)return Bo.INSTANCE;if("number"==typeof e)return ai(e)?new Ko(e):new Ho(e);if("boolean"==typeof e)return Vo.of(e);if("string"==typeof e)return new Go(e);if(e instanceof Date)return new Qo(Eo.fromDate(e));if(e instanceof Eo)return new Qo(new Eo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof wo)return new Jo(e);if(e instanceof go)return new Yo(e);if(e instanceof Fc)return new $o(e.databaseId,e.key);throw t.createError("Unsupported field value: "+to(e))},e.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map(function(t,r){var o=new Uc(Ic.Argument,e,ko.EMPTY_PATH);return n.parseData(t,o.childContextForArray(r))})},e}();function Bc(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Eo||e instanceof wo||e instanceof go||e instanceof Fc||e instanceof Cc)}function Vc(e,t,n){if(!Bc(n)||!eo(n)){var r=to(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function Wc(e,t){if(t instanceof vc)return t._internalPath;if("string"==typeof t)return zc(e,t);throw new jr(Mr.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function zc(e,t){try{return function(e){if(0<=e.search(gc))throw new jr(Mr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(vc.bind.apply(vc,[void 0].concat(e.split("."))))}catch(t){throw new jr(Mr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(t){var n=Kc(t);throw new jr(Mr.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function Kc(e){return e instanceof Error?e.message:e.toString()}var Hc=nu.COLLECTION_DISABLED,Gc=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new jr(Mr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Yr("settings","non-empty string","host",e.host),this.host=e.host,$r("settings","boolean","ssl",e.ssl),this.ssl=qr(e.ssl,!0);if(ro("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),$r("settings","object","credentials",e.credentials),this.credentials=e.credentials,$r("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?xr("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&xr("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=qr(e.timestampsInSnapshots,!0),$r("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=nu.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==Hc&&e.cacheSizeBytes<nu.MINIMUM_CACHE_SIZE_BYTES)throw new jr(Mr.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+nu.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}$r("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0!==e.experimentalForceLongPolling&&e.experimentalForceLongPolling}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},e}(),Qc=function(){},Xc=function(){function e(t){var n=this;this._queue=new qa,this.INTERNAL={delete:function(){return c(n,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.shutdown()];case 1:return e.sent(),this.clientRunning=!1,[2]}})})}},this.clientRunning=!1;var r=new Qc;if("object"==typeof t.options){var o=t;r.firebaseApp=o,r.databaseId=e.databaseIdFromApp(o),r.persistenceKey=r.firebaseApp.name,r.credentials=new Ec(o)}else{var i=t;if(!i.projectId)throw new jr(Mr.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new So(i.projectId,i.database),r.persistenceKey="[DEFAULT]",r.credentials=new wc}r.settings=new Gc({}),this._config=r,this._databaseId=r.databaseId}return e.prototype.settings=function(e){if(Kr("Firestore.settings",arguments,1),Qr("Firestore.settings","object",1,e),Fr(e,"persistence"))throw new jr(Mr.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new Gc(e);if(this._firestoreClient&&!this._config.settings.isEqual(t))throw new jr(Mr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this._config.settings=t).credentials&&(this._config.credentials=function(e){if(!e)return new wc;switch(e.type){case"gapi":var t=e.client;return Nr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new _c(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new jr(Mr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},e.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},e.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new jr(Mr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new pc(this._config.settings.cacheSizeBytes,void 0!==e&&qr(e.experimentalTabSynchronization,!1)))},e.prototype._clearPersistence=function(){if(this.clientRunning)throw new jr(Mr.FAILED_PRECONDITION,"Persistence cannot be cleared while the client is running");var e=cu.buildStoragePrefix(this.makeDatabaseInfo());return cu.clearPersistence(e)},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new dc),this._firestoreClient},e.prototype.makeDatabaseInfo=function(){return new To(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl,this._config.settings.forceLongPolling)},e.prototype.configureClient=function(e){var t=this;Nr(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),Nr(!this._firestoreClient,"configureClient() called multiple times"),this.clientRunning=!0;var n=this.makeDatabaseInfo();return this._dataConverter=new qc(function(e){if(e instanceof Jc){var n=t._config.databaseId,r=e.firestore._config.databaseId;if(!r.isEqual(n))throw new jr(Mr.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Fc(t._config.databaseId,e._key)}return e}),this._firestoreClient=new yc(Dr.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(e)},e.databaseIdFromApp=function(e){var t=e.options;if(!Fr(t,"projectId"))throw new jr(Mr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!=typeof n)throw new jr(Mr.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new So(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new jr(Mr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){return Kr("Firestore.collection",arguments,1),Qr("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new ol(Co.fromString(e),this)},e.prototype.doc=function(e){return Kr("Firestore.doc",arguments,1),Qr("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),Jc.forPath(Co.fromString(e),this)},e.prototype._collectionGroup=function(e){if(Kr("Firestore.collectionGroup",arguments,1),Qr("Firestore.collectionGroup","non-empty string",1,e),0<=e.indexOf("/"))throw new jr(Mr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new nl(new ci(Co.EMPTY_PATH,e),this)},e.prototype.runTransaction=function(e){var t=this;return Kr("Firestore.runTransaction",arguments,1),Qr("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction(function(n){return e(new Yc(t,n))})},e.prototype.batch=function(){return this.ensureClientConfigured(),new $c(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(Cr()){case dr.DEBUG:return"debug";case dr.ERROR:return"error";case dr.SILENT:return"silent";default:return Pr("Unknown log level: "+Cr())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(Kr("Firestore.setLogLevel",arguments,1),Qr("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":Or(dr.DEBUG);break;case"error":Or(dr.ERROR);break;case"silent":Or(dr.SILENT);break;default:throw new jr(Mr.INVALID_ARGUMENT,"Invalid log level: "+e)}},e.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},e}(),Yc=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;Kr("Transaction.get",arguments,1);var n=ul("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return Pr("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof No)return new el(t._firestore,n._key,null,!1,!1);if(r instanceof Po)return new el(t._firestore,n._key,r,!1,!1);throw Pr("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},e.prototype.set=function(e,t,n){Gr("Transaction.set",arguments,2,3);var r=ul("Transaction.set",e,this._firestore),o=(n=il("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r,o,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return o="string"==typeof t||t instanceof vc?(Hr("Transaction.update",arguments,3),r=ul("Transaction.update",e,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,i)):(Kr("Transaction.update",arguments,2),r=ul("Transaction.update",e,this._firestore),this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,o),this},e.prototype.delete=function(e){Kr("Transaction.delete",arguments,1);var t=ul("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),$c=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){Gr("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=ul("WriteBatch.set",e,this._firestore),o=(n=il("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(o.toMutations(r._key,ki.NONE)),this},e.prototype.update=function(e,t,n){for(var r,o,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return this.verifyNotCommitted(),o="string"==typeof t||t instanceof vc?(Hr("WriteBatch.update",arguments,3),r=ul("WriteBatch.update",e,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,i)):(Kr("WriteBatch.update",arguments,2),r=ul("WriteBatch.update",e,this._firestore),this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(o.toMutations(r._key,ki.exists(!0))),this},e.prototype.delete=function(e){Kr("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=ul("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new Di(t._key,ki.NONE)),this},e.prototype.commit=function(){return c(this,void 0,void 0,function(){return l(this,function(e){return this.verifyNotCommitted(),this._committed=!0,0<this._mutations.length?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new jr(Mr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),Jc=function(){function e(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n){if(t.length%2!=0)throw new jr(Mr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(new xo(t),n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ol(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(Kr("DocumentReference.collection",arguments,1),Qr("DocumentReference.collection","non-empty string",1,e),!e)throw new jr(Mr.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=Co.fromString(e);return new ol(this._key.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw oo("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)},e.prototype.set=function(e,t){Gr("DocumentReference.set",arguments,1,2);var n=(t=il("DocumentReference.set",t)).merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,ki.NONE))},e.prototype.update=function(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return n="string"==typeof e||e instanceof vc?(Hr("DocumentReference.update",arguments,2),this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(Kr("DocumentReference.update",arguments,1),this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,ki.exists(!0)))},e.prototype.delete=function(){return Kr("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Di(this._key,ki.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Gr("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Sc(e[o])||(ro("DocumentReference.onSnapshot",r=e[o],["includeMetadataChanges"]),$r("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++);var i={includeMetadataChanges:r.includeMetadataChanges};return n=Sc(e[o])?e[o]:(Qr("DocumentReference.onSnapshot","function",o,e[o]),Xr("DocumentReference.onSnapshot","function",o+1,e[o+1]),Xr("DocumentReference.onSnapshot","function",o+2,e[o+2]),{next:e[o],error:e[o+1],complete:e[o+2]}),this.onSnapshotInternal(i,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var o=new mc({next:function(e){if(t.next){Nr(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new el(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites))}},error:r}),i=this._firestoreClient.listen(ci.atPath(this._key.path),o,e);return function(){o.mute(),n._firestoreClient.unlisten(i)}},e.prototype.get=function(e){var t=this;return Gr("DocumentReference.get",arguments,0,1),sl("DocumentReference.get",e),new Promise(function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then(function(e){n(new el(t.firestore,t._key,e,!0,e instanceof Po&&e.hasLocalMutations))},r):t.getViaSnapshotListener(n,r,e)})},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),!o.exists&&o.metadata.fromCache?t(new jr(Mr.UNAVAILABLE,"Failed to get document because the client is offline.")):o.exists&&o.metadata.fromCache&&n&&"server"===n.source?t(new jr(Mr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(o)},error:t})},e}(),Zc=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),el=function(){function e(e,t,n,r,o){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=o}return e.prototype.data=function(e){return Gr("DocumentSnapshot.data",arguments,0,1),e=al("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data,Fo.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},e.prototype.get=function(e,t){if(Gr("DocumentSnapshot.get",arguments,1,2),t=al("DocumentSnapshot.get",t),this._document){var n=this._document.data.field(Wc("DocumentSnapshot.get",e));if(void 0!==n)return this.convertValue(n,Fo.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Jc(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new Zc(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw oo("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))},e.prototype.convertObject=function(e,t){var n=this,r={};return e.forEach(function(e,o){r[e]=n.convertValue(o,t)}),r},e.prototype.convertValue=function(e,t){if(e instanceof Zo)return this.convertObject(e,t);if(e instanceof ei)return this.convertArray(e,t);if(e instanceof $o){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||xr("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Jc(n,this._firestore)}return e.value(t)},e.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map(function(e){return n.convertValue(e,t)})},e}(),tl=function(e){function t(t,n,r,o,i){return e.call(this,t,n,r,o,i)||this}return u(t,e),t.prototype.data=function(t){var n=e.prototype.data.call(this,t);return Nr("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},t}(el),nl=function(){function e(e,t){this._query=e,this.firestore=t}return e.prototype.where=function(t,n,r){var o;Kr("Query.where",arguments,3),no("Query.where",3,r),function(e,t,n,r){if(!t.some(function(e){return e===r}))throw new jr(Mr.INVALID_ARGUMENT,"Invalid value "+to(r)+" provided to function Query.where() for its "+io(2)+" argument. Acceptable values: "+t.join(", "))}(0,["<","<=","==",">=",">","array-contains"],0,n);var i=Wc("Query.where",t),a=fi.fromString(n);if(i.isKeyField()){if(a===fi.ARRAY_CONTAINS)throw new jr(Mr.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof r){if(""===r)throw new jr(Mr.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==r.indexOf("/"))throw new jr(Mr.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection by FieldPath.documentId(), the value provided must be a plain document ID, but '"+r+"' contains a slash.");var s=this._query.path.child(Co.fromString(r));if(!xo.isDocumentKey(s))throw new jr(Mr.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+s+"' is not because it has an odd number of segments ("+s.length+").");o=new $o(this.firestore._databaseId,new xo(s))}else{if(!(r instanceof Jc))throw new jr(Mr.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+to(r)+".");var u=r;o=new $o(this.firestore._databaseId,u._key)}}else o=this.firestore._dataConverter.parseQueryValue("Query.where",r);var c=li.create(i,a,o);return this.validateNewFilter(c),new e(this._query.addFilter(c),this.firestore)},e.prototype.orderBy=function(t,n){var r;if(Gr("Query.orderBy",arguments,1,2),Xr("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=yi.ASCENDING;else{if("desc"!==n)throw new jr(Mr.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=yi.DESCENDING}if(null!==this._query.startAt)throw new jr(Mr.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new jr(Mr.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var o=Wc("Query.orderBy",t),i=new vi(o,r);return this.validateNewOrderBy(i),new e(this._query.addOrderBy(i),this.firestore)},e.prototype.limit=function(t){if(Kr("Query.limit",arguments,1),Qr("Query.limit","number",1,t),t<=0)throw new jr(Mr.INVALID_ARGUMENT,"Invalid Query. Query limit ("+t+") is invalid. Limit must be positive.");return new e(this._query.withLimit(t),this.firestore)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Hr("Query.startAt",arguments,1);var o=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(o),this.firestore)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Hr("Query.startAfter",arguments,1);var o=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(o),this.firestore)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Hr("Query.endBefore",arguments,1);var o=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(o),this.firestore)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Hr("Query.endAt",arguments,1);var o=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(o),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw oo("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},e.prototype.boundFromDocOrFields=function(e,t,n,r){if(no(e,1,t),t instanceof el){if(0<n.length)throw new jr(Mr.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var o=t;if(!o.exists)throw new jr(Mr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,o._document,r)}var i=[t].concat(n);return this.boundFromFields(e,i,r)},e.prototype.boundFromDocument=function(e,t,n){for(var r=[],o=0,i=this._query.orderBy;o<i.length;o++){var a=i[o];if(a.field.isKeyField())r.push(new $o(this.firestore._databaseId,t.key));else{var s=t.field(a.field);if(s instanceof Xo)throw new jr(Mr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===s){var u=a.field.canonicalString();throw new jr(Mr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new mi(r,n)},e.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new jr(Mr.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var o=[],i=0;i<t.length;i++){var a=t[i];if(r[i].field.isKeyField()){if("string"!=typeof a)throw new jr(Mr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new jr(Mr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(Co.fromString(a));if(!xo.isDocumentKey(s))throw new jr(Mr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new xo(s);o.push(new $o(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(e,a);o.push(c)}}return new mi(o,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Gr("Query.onSnapshot",arguments,1,4);var n,r={},o=0;return"object"!=typeof e[o]||Sc(e[o])||(ro("Query.onSnapshot",r=e[o],["includeMetadataChanges"]),$r("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++),n=Sc(e[o])?e[o]:(Qr("Query.onSnapshot","function",o,e[o]),Xr("Query.onSnapshot","function",o+1,e[o+1]),Xr("Query.onSnapshot","function",o+2,e[o+2]),{next:e[o],error:e[o+1],complete:e[o+2]}),this.onSnapshotInternal(r,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var o=new mc({next:function(e){t.next&&t.next(new rl(n.firestore,n._query,e))},error:r}),i=this.firestore.ensureClientConfigured(),a=i.listen(this._query,o,e);return function(){o.mute(),i.unlisten(a)}},e.prototype.get=function(e){var t=this;return Gr("Query.get",arguments,0,1),sl("Query.get",e),new Promise(function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then(function(e){n(new rl(t.firestore,t._query,e))},r):t.getViaSnapshotListener(n,r,e)})},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),o.metadata.fromCache&&n&&"server"===n.source?t(new jr(Mr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(o)},error:t})},e.prototype.validateNewFilter=function(e){if(e instanceof hi)if(e.isInequality()){var t=this._query.getInequalityFilterField();if(null!==t&&!t.isEqual(e.field))throw new jr(Mr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+t.toString()+"' and '"+e.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(e.field,n)}else if(e.op===fi.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new jr(Mr.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new jr(Mr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}(),rl=function(){function e(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Zc(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;Gr("QuerySnapshot.forEach",arguments,1,2),Qr("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach(function(r){e.call(t,n.convertToDocumentImpl(r))})},Object.defineProperty(e.prototype,"query",{get:function(){return new nl(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(ro("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),$r("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new jr(Mr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n){if(n.oldDocs.isEmpty()){var r,o=0;return n.docChanges.map(function(t){var i=new tl(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return Nr(t.type===na.Added,"Invalid event type for first snapshot"),Nr(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:i,oldIndex:-1,newIndex:o++}})}var i=n.oldDocs;return n.docChanges.filter(function(e){return t||e.type!==na.Metadata}).map(function(t){var r=new tl(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),o=-1,a=-1;return t.type!==na.Added&&(Nr(0<=(o=i.indexOf(t.doc.key)),"Index for document not found"),i=i.delete(t.doc.key)),t.type!==na.Removed&&(i=i.add(t.doc),a=i.indexOf(t.doc.key)),{type:function(e){switch(e){case na.Added:return"added";case na.Modified:case na.Metadata:return"modified";case na.Removed:return"removed";default:return Pr("Unknown change type: "+e)}}(t.type),doc:r,oldIndex:o,newIndex:a}})}(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e.prototype.isEqual=function(t){if(!(t instanceof e))throw oo("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)},e.prototype.convertToDocumentImpl=function(e){return new tl(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},e}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(e){try{Object.defineProperty(rl.prototype.docChanges,e,{get:function(){return function(){throw new jr(Mr.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var ol=function(e){function t(t,n){var r=e.call(this,ci.atPath(t),n)||this;if(t.length%2!=1)throw new jr(Mr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return r}return u(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new Jc(new xo(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(Gr("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=so.newId()),Qr("CollectionReference.doc","non-empty string",1,e),""===e)throw new jr(Mr.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=Co.fromString(e);return Jc.forPath(this._query.path.child(t),this.firestore)},t.prototype.add=function(e){Kr("CollectionReference.add",arguments,1),Qr("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then(function(){return t})},t}(nl);function il(e,t){if(void 0===t)return{merge:!1};if(ro(e,t,["merge","mergeFields"]),$r(e,"boolean","merge",t.merge),function(e,t,n,r,o){void 0!==r&&function(e,t,n,r,o){if(!(r instanceof Array))throw new jr(Mr.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+to(r));for(var i=0;i<r.length;++i)if(!o(r[i]))throw new jr(Mr.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+i+" was: "+to(r[i]))}(e,t,n,r,o)}(e,"mergeFields","a string or a FieldPath",t.mergeFields,function(e){return"string"==typeof e||e instanceof vc}),void 0!==t.mergeFields&&void 0!==t.merge)throw new jr(Mr.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function al(e,t){return void 0===t?{}:(ro(e,t,["serverTimestamps"]),Jr(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function sl(e,t){Xr(e,"object",1,t),t&&(ro(e,t,["source"]),Jr(e,0,"source",t.source,["default","server","cache"]))}function ul(e,t,n){if(t instanceof Jc){if(t.firestore!==n)throw new jr(Mr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw oo(e,"DocumentReference",1,t)}var cl=Ur(Xc,"Use firebase.firestore() instead."),ll=Ur(Yc,"Use firebase.firestore().runTransaction() instead."),fl=Ur($c,"Use firebase.firestore().batch() instead."),hl=Ur(Jc,"Use firebase.firestore().doc() instead."),pl=Ur(el),dl=Ur(tl),yl=Ur(nl),ml=Ur(rl),vl=Ur(ol,"Use firebase.firestore().collection() instead."),gl={Firestore:cl,GeoPoint:wo,Timestamp:Eo,Blob:bo,Transaction:ll,WriteBatch:fl,DocumentReference:hl,DocumentSnapshot:pl,Query:yl,QueryDocumentSnapshot:dl,QuerySnapshot:ml,CollectionReference:vl,FieldPath:vc,FieldValue:Nc,setLogLevel:Xc.setLogLevel,CACHE_SIZE_UNLIMITED:Hc};!function(e){e.INTERNAL.registerService("firestore",function(e){return new Xc(e)},function(e){Nr(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(gl))}(t)}).apply(this,arguments)}catch(n){throw console.error(n),new Error("Cannot instantiate firebase-firestore - be sure to load firebase-app.js first.")}}(n(110))}).call(this,n(23))}]]);
//# sourceMappingURL=2.6fd873e8.chunk.js.map
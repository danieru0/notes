(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{269:function(e,n,t){e.exports=t(546)},274:function(e,n,t){},291:function(e,n,t){},292:function(e,n,t){},293:function(e,n,t){},546:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(67),i=t.n(o),c=(t(274),t(5)),u=t(7),l=t(1),s=t(2),f=t(69),d=function(){return function(e,n,t){var r=t.getFirebase,a=t.getFirestore,o=r(),i=a();o.auth().onAuthStateChanged(function(n){n&&i.collection("users").doc(n.uid).collection("notes").where("trash","==",!1).get().then(function(n){var t=n.docs.map(function(e){return e.data()});e({type:"UPDATE_NOTES",notes:t})})})}},p=function(){return function(e,n,t){var r=t.getFirebase,a=t.getFirestore,o=r(),i=a();o.auth().onAuthStateChanged(function(n){n&&i.collection("users").doc(n.uid).collection("notes").where("star","==",!0).where("trash","==",!1).get().then(function(n){var t=n.docs.map(function(e){return e.data()});e({type:"UPDATE_NOTES",notes:t})})})}},h=function(){return function(e,n,t){var r=t.getFirebase,a=t.getFirestore,o=r(),i=a();o.auth().onAuthStateChanged(function(n){n&&i.collection("users").doc(n.uid).collection("notes").where("trash","==",!0).get().then(function(n){var t=n.docs.map(function(e){return e.data()});e({type:"UPDATE_NOTES",notes:t})})})}},g=function(e){return function(n,t,r){var a=r.getFirebase,o=r.getFirestore,i=a(),c=o();i.auth().onAuthStateChanged(function(t){t&&c.collection("users").doc(t.uid).collection("notes").where("tag","==",e).where("trash","==",!1).get().then(function(e){var t=e.docs.map(function(e){return e.data()});n({type:"UPDATE_NOTES",notes:t})})})}},m=function(e){return function(n,t,r){var a=r.getFirebase,o=r.getFirestore,i=a(),c=o();n({type:"ACTIVE_NOTE_START"}),i.auth().onAuthStateChanged(function(t){t&&c.collection("users").doc(t.uid).collection("notes").doc(e).get().then(function(e){n({type:"SET_ACTIVE_NOTE",data:e.data()})})})}},b=function(){return function(e){e({type:"CLEAR_ACTIVE_NOTES"})}};function v(){var e=Object(l.a)(["\n    width: 56px;\n    height: 56px;\n    border-radius: 50%;\n    background: #343944;\n    color: #ffffff;\n    font-family: 'PT Serif', serif;\n    font-size: 26px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: default;\n    user-select: none;\n"]);return v=function(){return e},e}function x(){var e=Object(l.a)(["\n    width: 100%;\n    height: 130px;\n    border-bottom: 2px solid #17181D;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return x=function(){return e},e}var E=s.a.div(x()),O=s.a.div(v()),y=function(){return a.a.createElement(E,null,a.a.createElement(O,null,"N"))};function S(){var e=Object(l.a)(["\n    color: ",";\n    font-size: 24px;\n"]);return S=function(){return e},e}var w=s.a.div(S(),function(e){return e.color}),j=function(e){var n=e.color,t=e.type,r=e.className;return a.a.createElement(w,{className:r,color:n},a.a.createElement("span",{className:{notes:"fa fa-book-open",star:"fa fa-star",tags:"fa fa-tag",trash:"fa fa-trash",dropdown:"fa fa-angle-down",add:"fa fa-plus",edit:"fa fa-edit",hamburger:"fa fa-bars",save:"fa fa-save",restore:"fa fa-trash-restore",forever:"fa fa-infinity",close:"fa fa-times",resize:"fa fa-expand"}[t]}))};function k(){var e=Object(l.a)(["\n    width: ",";\n    height: ",";\n    background: ",";\n    border-radius: 50%;\n"]);return k=function(){return e},e}var A=s.a.div(k(),function(e){return"big"===e.size?"18px":"12px"},function(e){return"big"===e.size?"18px":"12px"},function(e){return e.color}),T=function(e){var n=e.color,t=e.size,r=e.className,o=e.onClick;return a.a.createElement(A,{onClick:o,color:n,size:t,className:r})},N=t(48),C=t.n(N),R=function(e){return function(n){n({type:"UPDATE_MODAL",data:e})}};function F(){var e=Object(l.a)(["\n    background: none;\n    cursor: pointer;\n    border: none;\n    font-size: 20px;\n    color: #4D4F54;\n    outline: none;\n"]);return F=function(){return e},e}function _(){var e=Object(l.a)(["\n    margin-left: 40px;\n\n    @media (max-width: 1490px) {\n        display: flex;\n        flex-direction: column;\n        margin-left: 20px;\n    }\n"]);return _=function(){return e},e}function D(){var e=Object(l.a)(["\n    color: #5F6165;\n    margin: 0;\n    letter-spacing: 1px;\n    width: 76px;\n    user-select: none;\n"]);return D=function(){return e},e}function P(){var e=Object(l.a)(["\n    color: #ffffff;\n    font-size: 16px;\n    letter-spacing: 1px;\n    margin: 0;\n    max-width: 68px;\n    height: 22px;\n    user-select: none;\n"]);return P=function(){return e},e}function U(){var e=Object(l.a)(["\n    font-family: 'PT Serif', serif;\n    margin-left: 20px;\n    cursor: default;\n"]);return U=function(){return e},e}function z(){var e=Object(l.a)(["\n    width: 64px;\n    height: 64px;\n    border-radius: 50%;\n    border: 1px solid #ffffff;\n    user-select: none;\n\n    @media (max-width: 1490px) {\n        display: none;\n    }\n\n"]);return z=function(){return e},e}function M(){var e=Object(l.a)(["\n    width: 100%;\n    height: 130px;\n    border-top: 2px solid #333840;\n    position: absolute;\n    bottom: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: #21242A;\n\n    @media (max-height: 580px) {\n        position: relative;\n    }\n\n    @media (max-width: 650px) {\n        width: ",";\n        position: ","\n        overflow: hidden;\n    }\n"]);return M=function(){return e},e}var I=s.a.div(M(),function(e){return e.menuActive?"100%":"0"},function(e){return e.dropdownActive?"relative":"absolute"}),L=s.a.img(z()),V=s.a.div(U()),H=s.a.p(P()),G=s.a.p(D()),q=s.a.div(_()),B=s.a.button(F()),K=Object(c.b)(function(e){return{process:e.notesReducer.process}},{signOut:function(){return function(e,n,t){(0,t.getFirebase)().auth().signOut().then(function(){e({type:"CLEAR_ACTIVE_NOTES"}),e({type:"CLEAR_NOTES"}),e({type:"UPDATE_ROUTE",route:"all"})})}},showModal:R})(function(e){var n=e.avatar,t=e.nick,r=e.menuActive,o=e.dropdownActive,i=e.process,c=e.signOut,u=e.showModal;return a.a.createElement(I,{menuActive:r,dropdownActive:o},a.a.createElement(L,{src:n||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png"}),a.a.createElement(V,null,a.a.createElement(H,null,t),a.a.createElement(G,null,i?"Saving...":"Saved")),a.a.createElement(q,null,a.a.createElement(B,{onClick:function(){u("avatar")},"data-tip":"Change avatar"},a.a.createElement("span",{className:"fa fa-user-circle"})),a.a.createElement(B,{onClick:function(){c()},"data-tip":"Sign out"},a.a.createElement("span",{className:"fa fa-sign-out-alt"})),a.a.createElement(C.a,{type:"dark",effect:"solid"})))});function W(){var e=Object(l.a)(["\n    font-size: 25px;\n"]);return W=function(){return e},e}function J(){var e=Object(l.a)(["\n    display: none;\n\n    @media (max-width: 650px) {\n        position: absolute;\n        z-index: 1;\n        background: none;\n        border: none;\n        outline: none;\n        display: block;\n        cursor: pointer;\n        top: 22px;\n    }\n"]);return J=function(){return e},e}function Q(){var e=Object(l.a)(["\n    margin-left: auto;\n    position: relative;\n    right: 40px;\n    border: none;\n    background: none;\n    cursor: pointer;\n    outline: none;\n\n"]);return Q=function(){return e},e}function Y(){var e=Object(l.a)(["\n    color: ",";\n    font-family: 'PT Serif', serif;\n    font-size: 16px;\n    display: flex;\n    align-items: center;\n    padding-left: 44px;\n    cursor: pointer;\n    height: 63px;\n    user-select: none;\n\n    @media (max-width: 1285px) {\n        padding-left: 5px;\n    }\n"]);return Y=function(){return e},e}function $(){var e=Object(l.a)(["\n    width: calc(100% + 40px);\n    margin-left: -40px;\n    transition: height .4s, padding .4s;\n    height: ",";\n    padding: ",";\n    background: #1F2125;\n    cursor: auto;\n    box-shadow: 0px 0px 20px 0px #000000 inset;\n    overflow-y: ",";\n"]);return $=function(){return e},e}function X(){var e=Object(l.a)(["\n    margin-left: auto;\n    position: relative;\n    right: 40px;\n    top: 2px;\n    transition: transform .3s;\n    transform: ",";\n"]);return X=function(){return e},e}function Z(){var e=Object(l.a)(["\n    margin-left: 34px;\n"]);return Z=function(){return e},e}function ee(){var e=Object(l.a)(["\n    margin: 0;\n    padding: 0;\n    min-height: 80px;\n    max-height: auto;\n    color: #8C8E90;\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    font-family: 'PT Serif', serif;\n    font-size: 20px;\n    padding-left: 40px;\n    cursor: pointer;\n    border-top: 2px solid #333840;\n    border-bottom: 2px solid #17181D;\n    overflow: hidden;\n    position: relative;\n    user-select: none;\n\n    background: ",";\n\n    @media (max-width: 1335px) {\n        padding-left: 5px;\n    }\n"]);return ee=function(){return e},e}function ne(){var e=Object(l.a)(["\n    list-style: none;\n    width: 100%;\n    padding: 0;\n    margin: 0;\n"]);return ne=function(){return e},e}function te(){var e=Object(l.a)(["\n    width: 17%;\n    height: 100vh;\n    background: #21242A;\n    position: relative;\n    overflow-y: auto;\n    z-index: 1;\n\n    @media (max-width: 1110px) {\n        width: 250px;\n    }\n\n    @media (max-width: 700px) {\n        width: 200px;\n    }\n\n    @media (max-width: 650px) {\n        left: 0;\n        overflow-y: auto;\n        position: ",";\n        width: ",";\n        box-shadow: ",";\n    }\n"]);return te=function(){return e},e}var re=s.a.div(te(),function(e){return e.menuActive?"absolute":"initial"},function(e){return e.menuActive?"250px":"0"},function(e){return e.menuActive?"2px 0px 20px -5px #000000":"initial"}),ae=s.a.ul(ne()),oe=s.a.li(ee(),function(e){var n=e.type;return n===e.activeRoute&&n?"#32353B;":"unset"}),ie=s.a.p(Z()),ce=Object(s.a)(j)(X(),function(e){return e.isDropdownOpen?"auto":"rotate(180deg)"}),ue=s.a.div($(),function(e){return e.isDropdownOpen?"300px":"0"},function(e){return e.isDropdownOpen?"15px 0":"auto"},function(e){return e.isDropdownOpen?"auto":"none"}),le=s.a.li(Y(),function(e){var n=e.type;return n===e.activeRoute&&n?"#3F4347;":"#ffffff"}),se=s.a.button(Q()),fe=s.a.button(J()),de=Object(s.a)(j)(W()),pe=Object(c.b)(function(e){return{profile:e.firebase.profile,activeRoute:e.routesReducer.activeRoute,activeNote:e.notesReducer.activeNote}},{updateRoute:function(e){return function(n){n({type:"UPDATE_ROUTE",route:e}),n({type:"CLEAR_NOTES"})}},removeTag:function(e,n){return function(t,r,a){var o=a.getFirebase,i=a.getFirestore,c=o(),u=i();t({type:"SET_PROCESS",data:!0}),t({type:"SET_REMOVING_TAG",data:!0}),n&&n.tag===e&&t({type:"CLEAR_ACTIVE_NOTES"}),c.auth().onAuthStateChanged(function(n){n&&u.collection("users").doc(n.uid).update(Object(f.a)({},"tags."+e,c.firestore.FieldValue.delete())).then(function(){u.collection("users").doc(n.uid).collection("notes").where("tag","==",e).get().then(function(e){var r=e.docs.map(function(e){return e.data()}).map(function(e){return u.collection("users").doc(n.uid).collection("notes").doc(e.id).delete()});Promise.all(r).then(function(){t({type:"UPDATE_ROUTE",route:"all"}),t(function(e,n,t){var r=t.getFirebase,a=t.getFirestore,o=r(),i=a();o.auth().onAuthStateChanged(function(n){n&&i.collection("users").doc(n.uid).collection("notes").where("trash","==",!1).get().then(function(n){var t=n.docs.map(function(e){return e.data()});e({type:"UPDATE_NOTES",notes:t})})})}),t({type:"SET_PROCESS",data:!1}),t({type:"SET_REMOVING_TAG",data:!1})})})})})}}})(function(e){var n=e.profile,t=e.activeRoute,o=e.activeNote,i=e.updateRoute,c=e.removeTag,l=Object(r.useState)(!1),s=Object(u.a)(l,2),f=s[0],d=s[1],p=Object(r.useState)(!1),h=Object(u.a)(p,2),g=h[0],m=h[1],b=function(e,n){e.stopPropagation(),t!==n&&i(n)};return a.a.createElement(re,{menuActive:g},a.a.createElement(y,null),a.a.createElement(fe,{onClick:function(){m(!g)}},a.a.createElement(de,{color:"#545962",type:"hamburger"})),a.a.createElement(ae,null,a.a.createElement(oe,{type:"all",activeRoute:t,onClick:function(e){return b(e,"all")}},a.a.createElement(j,{color:"#3599DE",type:"notes"}),a.a.createElement(ie,null,"All Notes")),a.a.createElement(oe,{type:"star",activeRoute:t,onClick:function(e){return b(e,"star")}},a.a.createElement(j,{color:"#F1C200",type:"star"}),a.a.createElement(ie,null,"Starred")),a.a.createElement(oe,{onClick:function(){d(!f)}},a.a.createElement(j,{color:"#7F8C8D",type:"tags"}),a.a.createElement(ie,null,"Tags"),a.a.createElement(ce,{isDropdownOpen:f,color:"#4D4F54",type:"dropdown"}),a.a.createElement(ue,{isDropdownOpen:f},a.a.createElement(ae,null,n.isLoaded?Object.keys(n.tags).map(function(e,r){var i=n.tags[e];return a.a.createElement(le,{type:e,activeRoute:t,key:r,onClick:function(n){return b(n,e)}},a.a.createElement(T,{size:"big",color:i.color}),a.a.createElement(ie,null,e),a.a.createElement(se,{onClick:function(n){return function(e,n){e.stopPropagation(),c(n,o)}(n,e)}},a.a.createElement(j,{color:"#333840",type:"trash"})))}):""))),a.a.createElement(oe,{type:"trash",activeRoute:t,onClick:function(e){return b(e,"trash")}},a.a.createElement(j,{color:"#E04E38",type:"trash"}),a.a.createElement(ie,null,"Trash"))),a.a.createElement(K,{nick:n.nick,avatar:n.avatar,email:n.email,menuActive:g,dropdownActive:f}))}),he=t(111),ge=t(112),me=t(114),be=t(113),ve=t(115);function xe(){var e=Object(l.a)(["\n    border: none;\n    background: none;\n    position: absolute;\n    left: 0;\n    top: 6px;\n    cursor: pointer;\n    outline: none;\n\n    @media (max-width: 1110px) {\n        right: 30px;\n        left: auto;\n    }\n\n    @media (max-width: 650px) {\n        right: auto;\n        left: 30px;\n    }\n"]);return xe=function(){return e},e}function Ee(){var e=Object(l.a)(["\n    transform: ",";\n    visibility: ",";\n    opacity: ",";\n    transition: transform .3s, opacity .3s, visibility .3s;\n"]);return Ee=function(){return e},e}function Oe(){var e=Object(l.a)(["\n    transform: ",";\n    opacity: ",";\n    visibility: ",";\n    transition: transform .3s, opacity .3s, visibility .3s;\n"]);return Oe=function(){return e},e}function ye(){var e=Object(l.a)(["\n    width: 100%;\n    height: 100%;\n    background: none;\n    border: 3px solid #2B2F37;\n    font-family: 'PT Serif', serif;\n    border-radius: 8px;\n    outline: none;\n    text-align: center;\n    font-size: 18px;\n    color: #ffffff;\n    position: absolute;\n    left: 0;\n    top: 0;\n    user-select: none;\n"]);return ye=function(){return e},e}function Se(){var e=Object(l.a)(["\n    border: none;\n    background: none;\n    position: absolute;\n    right: 0;\n    top: 6px;\n    cursor: pointer;\n    outline: none;\n    transform: ",";\n    transition: transform .3s ease-in-out;\n\n    @media (max-width: 650px) {\n        right: auto;\n        left: 0;\n    }\n"]);return Se=function(){return e},e}function we(){var e=Object(l.a)(["\n    font-family: 'PT Serif', serif;\n    color: #84878C;\n    font-size: 20px;\n    margin-left: 10px;\n    cursor: default;\n    min-width: 10px;\n    user-select: none;\n"]);return we=function(){return e},e}function je(){var e=Object(l.a)(["\n    font-family: 'PT Serif', serif;\n    color: #ffffff;\n    font-size: 20px;\n    cursor: default;\n    user-select: none;\n"]);return je=function(){return e},e}function ke(){var e=Object(l.a)(["\n    width: 90%;\n    height: 40px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n\n    &:first-of-type {\n        margin-top: 4px;\n    }\n"]);return ke=function(){return e},e}function Ae(){var e=Object(l.a)(["\n    width: 100%;\n    height: 130px;\n    border-bottom: 2px solid #17181D;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n"]);return Ae=function(){return e},e}var Te=s.a.div(Ae()),Ne=s.a.div(ke()),Ce=s.a.p(je()),Re=s.a.p(we()),Fe=s.a.button(Se(),function(e){return e.isAddClicked?"rotate(45deg)":"auto"}),_e=s.a.input(ye()),De=Object(s.a)(_e)(Oe(),function(e){return e.isAddClicked?"translateY(-15px)":"auto"},function(e){return e.isAddClicked?"0":"1"},function(e){return e.isAddClicked?"hidden":"visible"}),Pe=Object(s.a)(_e)(Ee(),function(e){return e.isAddClicked?"auto":"translateY(-15px)"},function(e){return e.isAddClicked?"visible":"hidden"},function(e){return e.isAddClicked?"1":"0"}),Ue=s.a.button(xe()),ze=Object(c.b)(null,{createNewNote:function(e,n,t,r){return function(a,o,i){var c=i.getFirebase,u=i.getFirestore,l=c(),s=u();a({type:"SET_PROCESS",data:!0}),l.auth().onAuthStateChanged(function(o){if(o){var i=new Date,c=i.toLocaleDateString("en-US",{month:"long"}).slice(0,3),u=i.toLocaleDateString("en-US",{day:"numeric"}),l=s.collection("users").doc(o.uid).collection("notes").doc();l.set({tag:e,color:n,name:t,star:!1,value:"",id:l.id,trash:!1,date:"".concat(c,". ").concat(u)}).then(function(){switch(r){case"all":a(function(e,n,t){var r=t.getFirebase,a=t.getFirestore,o=r(),i=a();o.auth().onAuthStateChanged(function(n){n&&i.collection("users").doc(n.uid).collection("notes").where("trash","==",!1).get().then(function(n){var t=n.docs.map(function(e){return e.data()});e({type:"UPDATE_NOTES",notes:t})})})});break;case"star":a(function(e,n,t){var r=t.getFirebase,a=t.getFirestore,o=r(),i=a();o.auth().onAuthStateChanged(function(n){n&&i.collection("users").doc(n.uid).collection("notes").where("star","==",!0).where("trash","==",!1).get().then(function(n){var t=n.docs.map(function(e){return e.data()});e({type:"UPDATE_NOTES",notes:t})})})});break;case"trash":a(function(e,n,t){var r=t.getFirebase,a=t.getFirestore,o=r(),i=a();o.auth().onAuthStateChanged(function(n){n&&i.collection("users").doc(n.uid).collection("notes").where("trash","==",!0).get().then(function(n){var t=n.docs.map(function(e){return e.data()});e({type:"UPDATE_NOTES",notes:t})})})});break;default:a(g(r))}a({type:"SET_PROCESS",data:!1})}).catch(function(e){console.log(e)})}})}},showModal:R})(function(e){var n=e.activeRoute,t=e.number,o=e.tag,i=e.createNewNote,c=e.showModal,l=e.handleSearch,s=Object(r.useState)(!1),f=Object(u.a)(s,2),d=f[0],p=f[1],h=Object(r.useState)(null),g=Object(u.a)(h,2),m=g[0],b=g[1],v=Object(r.useState)(null),x=Object(u.a)(v,2),E=x[0],O=x[1];return a.a.createElement(Te,null,a.a.createElement(Ne,null,a.a.createElement(Ue,{"data-tip":"Create tag",onClick:function(){c("tag")}},a.a.createElement(j,{color:"#545962",type:"tags"})),a.a.createElement(Ce,null,n),a.a.createElement(Re,null,t),a.a.createElement(Fe,{"data-tip":d?"Search":"Add note",isAddClicked:d,onClick:function(){p(!d)}},a.a.createElement(j,{color:"#3599DE",type:"add"}))),a.a.createElement(Ne,null,a.a.createElement(De,{onKeyPress:function(e){return"Enter"===e.key?l(E):""},onChange:function(e){O(e.target.value)},isAddClicked:d,placeholder:"Search"}),a.a.createElement(Pe,{onKeyPress:function(e){"Enter"===e.key&&m&&(m.length>15?alert("Maxium note name is 15 characters!"):(e.target.value="",o?i(n,o.color,m,n):i(null,"#000000",m,n)))},onChange:function(e){b(e.target.value)},isAddClicked:d,placeholder:"Note name"})),a.a.createElement(C.a,{type:"dark",effect:"solid"}))});function Me(){var e=Object(l.a)(["\n    position: absolute;\n    margin: 0;\n    color: #7C8889;\n    font-size: 13px;\n    right: 15px;\n    top: 5px;\n    user-select: none;\n    \n    @media (max-width: 1438px) {\n        display: none;\n    }\n"]);return Me=function(){return e},e}function Ie(){var e=Object(l.a)(["\n    margin: 0;\n    color: #9FA3A7;\n    font-size: 13px;\n    margin-top: 15px;\n    height: 72px;\n    word-break: break-all;\n    user-select: none;\n"]);return Ie=function(){return e},e}function Le(){var e=Object(l.a)(["\n    margin: 0;\n    color: #ffffff;\n    font-size: 20px;\n    user-select: none;\n"]);return Le=function(){return e},e}function Ve(){var e=Object(l.a)(["\n    position: relative;\n    font-family: 'PT Serif', serif;\n    width: 90%;\n"]);return Ve=function(){return e},e}function He(){var e=Object(l.a)(["\n    align-self: flex-start;\n    margin-left: 10px;\n    margin-right: 10px;\n    margin-top: 29px;\n"]);return He=function(){return e},e}function Ge(){var e=Object(l.a)(["\n    width: 100%;\n    height: 160px;\n    border-top: 2px solid #373B44;\n    border-bottom: 2px solid #17181D;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n\n    background: ","\n"]);return Ge=function(){return e},e}var qe=s.a.div(Ge(),function(e){return e.activeNoteId===e.noteId?"#444951":"unset"}),Be=Object(s.a)(T)(He()),Ke=s.a.div(Ve()),We=s.a.p(Le()),Je=s.a.p(Ie()),Qe=s.a.p(Me()),Ye=function(e){var n=e.title,t=e.description,r=e.date,o=e.color,i=e.activeNoteId,c=e.noteId;return t.length>140&&(t=t.substring(0,140)+"..."),a.a.createElement(qe,{title:n,activeNoteId:i,noteId:c},a.a.createElement(Be,{color:o,size:"small"}),a.a.createElement(Ke,null,a.a.createElement(We,null,n),a.a.createElement(Je,null,t),a.a.createElement(Qe,null,r)))},$e=(t(291),function(e){var n=e.className;return a.a.createElement("div",{className:"spinner "+n},a.a.createElement("div",{className:"double-bounce1"}),a.a.createElement("div",{className:"double-bounce2"}))});function Xe(){var e=Object(l.a)(["\n    position: absolute;\n    left: 0;\n    top: 20px;\n    right: 0;\n    margin: auto;\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(l.a)(["\n    font-size: 25px;\n"]);return Ze=function(){return e},e}function en(){var e=Object(l.a)(["\n    display: none;\n\n    @media (max-width: 1110px) {\n        z-index: 1;\n        position: absolute;\n        color: #fff;\n        display: block;\n        background: none;\n        border: none;\n        cursor: pointer;\n        outline: none;\n        top: 21px;\n    }\n\n    @media (max-width: 650px) {\n        right: 0;\n        top: 22px;\n    }\n"]);return en=function(){return e},e}function nn(){var e=Object(l.a)(["\n    width: 100%;\n"]);return nn=function(){return e},e}function tn(){var e=Object(l.a)(["\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    width: 100%;\n    height: calc(100% - 130px);\n    overflow-y: auto;\n    padding-right: 1px;\n    position: relative;\n\n\n    &:after {\n        content: '';\n        width: 100%;\n        height: 100%;\n        background: rgba(0,0,0,0.5);\n        position: absolute;\n        top: 0;\n        display: ",";\n    }\n"]);return tn=function(){return e},e}function rn(){var e=Object(l.a)(["\n    width: 16%;\n    height: 100vh;\n    background: #333840;\n    box-shadow: -2px 0px 20px -5px #000000;\n    z-index: 1;\n    position: relative;\n\n    @media (max-width: 1300px) {\n        width: 220px;\n    }\n\n    @media (max-width: 1110px) {\n        overflow-y: auto;\n        z-index: 1;\n        left: 250px;\n        width: ",";\n        position: ",";\n    }\n\n    @media (max-width: 700px) {\n        left: 200px;\n    }\n\n    @media (max-width: 650px) {\n        left: auto;\n        right: 0;\n    }\n\n    &:before {\n        content: '';\n        width: 100%;\n        height: 100%;\n        background: rgba(0,0,0,0.5);\n        position: absolute;\n        z-index: 2;\n        top: 0;\n        display: ",";\n    }\n"]);return rn=function(){return e},e}var an=s.a.div(rn(),function(e){return e.menuActive?"250px":"0"},function(e){return e.menuActive?"absolute":"initial"},function(e){return e.removingTag?"block":"none"}),on=s.a.ul(tn(),function(e){return e.notes?"none":"block"}),cn=s.a.li(nn()),un=s.a.button(en()),ln=Object(s.a)(j)(Ze()),sn=Object(s.a)($e)(Xe()),fn=function(e){function n(){var e;return Object(he.a)(this,n),(e=Object(me.a)(this,Object(be.a)(n).call(this))).toggleMenu=function(){e.setState({isMenuActive:!e.state.isMenuActive})},e.handleNoteClick=function(n){e.props.activeNote?e.props.activeNote.id!==n&&(e.props.getSpecificNote(n),e.setState({clickedNoteId:n})):(e.props.getSpecificNote(n),e.setState({clickedNoteId:n}))},e.searchNotes=function(n){n?e.setState({searchedNotes:e.props.notes.filter(function(e){return e.name.includes(n)})}):e.setState({searchedNotes:null})},e.state={isMenuActive:!1,clickedNoteId:null,searchedNotes:null},e}return Object(ve.a)(n,e),Object(ge.a)(n,[{key:"componentDidMount",value:function(){this.props.getAllNotes()}},{key:"componentDidUpdate",value:function(e){if(e.activeRoute!==this.props.activeRoute)switch(this.props.activeRoute){case"all":this.props.getAllNotes();break;case"star":this.props.getStarNotes();break;case"trash":this.props.getTrashNotes();break;default:this.props.getTagNotes(this.props.activeRoute)}}},{key:"render",value:function(){var e=this,n=this.props,t=n.notes,r=n.activeRoute,o=n.profile,i=n.removingTag,c=n.activeNote;return a.a.createElement(an,{removingTag:i,menuActive:this.state.isMenuActive},a.a.createElement(un,{onClick:this.toggleMenu},a.a.createElement(ln,{color:"#545962",type:"hamburger"})),a.a.createElement(ze,{handleSearch:this.searchNotes,tag:o.isLoaded?o.tags[r]:null,activeRoute:r,number:t?t.length:""}),a.a.createElement(on,{notes:t},this.state.searchedNotes?Object.keys(this.state.searchedNotes).map(function(n){var t=e.state.searchedNotes[n];return a.a.createElement(cn,{onClick:function(){return e.handleNoteClick(t.id)},key:n},a.a.createElement(Ye,{noteId:t.id,clickedNoteId:e.state.clickedNoteId,title:t.name,description:t.value,color:t.color,date:t.date}))}):t?Object.keys(t).map(function(n){var r=t[n];return a.a.createElement(cn,{onClick:function(){return e.handleNoteClick(r.id)},key:n},a.a.createElement(Ye,{activeNoteId:c?c.id:null,noteId:r.id,title:r.name,description:r.value,color:r.color,date:r.date}))}):a.a.createElement(sn,null)))}}]),n}(r.Component),dn=Object(c.b)(function(e){return{activeRoute:e.routesReducer.activeRoute,activeNote:e.notesReducer.activeNote,routeChanging:e.routesReducer.routeChanging,notes:e.notesReducer.notes,profile:e.firebase.profile,removingTag:e.notesReducer.removingTag}},{getAllNotes:d,getStarNotes:p,getTrashNotes:h,getTagNotes:g,getSpecificNote:m})(fn),pn=(t(292),function(e){var n=e.className;return a.a.createElement("div",{className:"sk-folding-cube "+n},a.a.createElement("div",{className:"sk-cube1 sk-cube"}),a.a.createElement("div",{className:"sk-cube2 sk-cube"}),a.a.createElement("div",{className:"sk-cube4 sk-cube"}),a.a.createElement("div",{className:"sk-cube3 sk-cube"}))});function hn(){var e=Object(l.a)(["\n  opacity: ",";\n  visibility: ","; \n  transition: opacity .3s, visibility .3s;\n"]);return hn=function(){return e},e}function gn(){var e=Object(l.a)(["\n    position: absolute\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n"]);return gn=function(){return e},e}function mn(){var e=Object(l.a)(["\n    width: 100%;\n    height: 100%;\n    color: #545962;\n    font-size: 18px;\n    margin: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-family: 'PT Serif', serif;\n    user-select: none;\n"]);return mn=function(){return e},e}function bn(){var e=Object(l.a)(["\n    color: #8D8E91;\n    font-family: 'PT Serif', serif;\n    font-style: italic;\n    position: absolute;\n    bottom: 10px;\n    left: 40px;\n    font-size: 14px;\n    cursor: default;\n    border: 1px solid #8D8E91;\n    padding: 2px 15px 4.5px 15px;\n    border-radius: 20px;\n    user-select: none;\n"]);return bn=function(){return e},e}function vn(){var e=Object(l.a)(["\n    color: #8D8E91;\n    font-family: 'PT Serif', serif;\n    font-style: italic;\n    position: absolute;\n    bottom: 10px;\n    right: 40px;\n    font-size: 14px;\n    cursor: default;\n    user-select: none;\n"]);return vn=function(){return e},e}function xn(){var e=Object(l.a)(["\n    margin: 25px 50px;\n    resize: none;\n    width: calc(100% - 100px);\n    height: calc(100% - 150px);\n    background: none;\n    border: none;\n    outline: none;\n    color: #ffffff;\n    font-family: 'PT Serif', serif;\n    font-size: 16px;\n    box-shadow: ",";\n    cursor: ",";\n"]);return xn=function(){return e},e}function En(){var e=Object(l.a)(["\n    font-size: 26px;\n"]);return En=function(){return e},e}function On(){var e=Object(l.a)(["\n    border: none;\n    background: none;\n    cursor: pointer;\n    outline: none;\n"]);return On=function(){return e},e}function yn(){var e=Object(l.a)(["\n    margin-left: 10px;\n\n    @media (max-width: 860px) {\n        margin: 0;\n    }\n"]);return yn=function(){return e},e}function Sn(){var e=Object(l.a)(["\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    display: flex;\n"]);return Sn=function(){return e},e}function wn(){var e=Object(l.a)(["\n    font-family: 'PT Serif', serif;\n    color: #ffffff;\n    font-size: 26px;\n    letter-spacing: 1px;\n    cursor: default;\n\n    @media (max-width: 860px) {\n        font-size: 20px;\n    }\n"]);return wn=function(){return e},e}function jn(){var e=Object(l.a)(["\n    width: 100%;\n    height: 70px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0px 50px;\n"]);return jn=function(){return e},e}function kn(){var e=Object(l.a)(["\n    width: 67%;\n    height: 100vh;\n    background: #21242A;\n    position: relative;\n\n    @media (max-width: 1110px) {\n        width: calc(100% - 250px);\n        margin-left: auto;\n    }\n\n    @media (max-width: 700px) {\n        width: calc(100% - 200px);\n    }\n\n    @media (max-width: 650px) {\n        width: 100%;\n    }\n"]);return kn=function(){return e},e}var An=s.a.div(kn()),Tn=s.a.div(jn()),Nn=s.a.p(wn()),Cn=s.a.ul(Sn()),Rn=s.a.li(yn()),Fn=s.a.button(On()),_n=Object(s.a)(j)(En()),Dn=s.a.textarea(xn(),function(e){return e.editorOff?"auto":"0px 0px 15px 0px #000000"},function(e){return e.editorOff?"default":"auto"}),Pn=s.a.p(vn()),Un=s.a.p(bn()),zn=s.a.p(mn()),Mn=Object(s.a)($e)(gn()),In=Object(s.a)(pn)(hn(),function(e){return e.process?"1":"0"},function(e){return e.process?"visible":"hidden"}),Ln=function(e){function n(){var e;return Object(he.a)(this,n),(e=Object(me.a)(this,Object(be.a)(n).call(this))).toggleEdit=function(){e.setState({isEditorOff:!e.state.isEditorOff})},e.toggleStar=function(){e.props.process||e.setState({editorStar:!e.state.editorStar},function(){e.props.updateNote(e.props.activeNote.id,"star",e.state.editorStar,e.props.activeRoute)})},e.handleEditorText=function(n){e.setState({editorValue:n.target.value,texting:!0})},e.saveButton=function(){e.props.updateNote(e.props.activeNote.id,"text",e.state.editorValue,e.props.activeRoute),e.setState({texting:!1})},e.trashHandler=function(){!1===e.props.activeNote.trash?(e.props.updateNote(e.props.activeNote.id,"trash",!0,e.props.activeRoute),e.props.clearActiveNote()):(e.props.updateNote(e.props.activeNote.id,"trash",!1,e.props.activeRoute,!0),e.props.clearActiveNote())},e.removeForever=function(){e.props.removeNote(e.props.activeNote.id,e.props.activeRoute)},e.keyShortcut=function(n){"s"!==n.key&&"S"!==n.key||!n.ctrlKey&&!n.metaKey||e.state.isEditorOff||(n.preventDefault(),e.props.updateNote(e.props.activeNote.id,"text",e.state.editorValue,e.props.activeRoute),e.setState({texting:!1})),112===n.keyCode&&(n.preventDefault(),e.setState({isEditorOff:!e.state.isEditorOff}))},e.toggleFullscreen=function(){e.isFullScreen()?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscren?document.webkitExitFullscren():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():e.editor.requestFullscreen?e.editor.requestFullscreen():e.editor.webkitRequestFullscreen?e.editor.webkitRequestFullscreen():e.editor.mozRequestFullscreen?e.editor.mozRequestFullscreen():e.editor.msRequestFullscreen&&e.editor.msRequestFullscreen()},e.state={isEditorOff:!0,editorValue:"",editorStar:null,texting:!1},e}return Object(ve.a)(n,e),Object(ge.a)(n,[{key:"componentDidMount",value:function(){this.editor&&this.editor.addEventListener("keydown",this.keyShortcut)}},{key:"componentDidUpdate",value:function(e){this.props.activeNote&&e.activeNote!==this.props.activeNote&&this.setState({editorValue:this.props.activeNote.value,editorStar:this.props.activeNote.star})}},{key:"isFullScreen",value:function(){return document.fullscreenElement||document.mozfullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}},{key:"render",value:function(){var e=this,n=this.props,t=n.activeNote,r=n.noteGetting,o=n.process,i=this.state,c=i.isEditorOff,u=i.editorValue,l=i.editorStar,s=i.texting;return a.a.createElement(An,{ref:function(n){return e.editor=n}},t?a.a.createElement(a.a.Fragment,null,a.a.createElement(Tn,null,a.a.createElement(Nn,null,t.name),a.a.createElement(Cn,null,a.a.createElement(Rn,null,a.a.createElement(Fn,{"data-tip":c?"Edit mode (F1)":"Read mode (F1)",onClick:this.toggleEdit},a.a.createElement(_n,{color:c?"#545962":"#767984",type:"edit"}))),a.a.createElement(Rn,null,a.a.createElement(Fn,{"data-tip":l?"Unstar":"Star it!",onClick:this.toggleStar},a.a.createElement(_n,{color:l?"#F1C200":"#545962",type:"star"}))),a.a.createElement(Rn,null,a.a.createElement(Fn,{"data-tip":"Fullscreen",onClick:this.toggleFullscreen},a.a.createElement(_n,{color:"#545962",type:"resize"}))),a.a.createElement(Rn,null,a.a.createElement(Fn,{"data-tip":"Save (CTRL + S)",onClick:this.saveButton},a.a.createElement(_n,{color:s?"#3599DE":"#545962",type:"save"}))),a.a.createElement(Rn,null,a.a.createElement(Fn,{"data-tip":t.trash?"Restore":"Move to trash",onClick:this.trashHandler},a.a.createElement(_n,{color:t.trash?"#E04E38":"#545962",type:t.trash?"restore":"trash"}))),t.trash?a.a.createElement(Rn,null,a.a.createElement(Fn,{"data-tip":"Remove forever!",onClick:this.removeForever},a.a.createElement(_n,{color:"#545962",type:"forever"}))):"")),a.a.createElement(Dn,{onChange:this.handleEditorText,editorOff:c,spellCheck:"false",readOnly:c,value:u}),t.tag?a.a.createElement(Un,null,t.tag):"",a.a.createElement(Pn,null,"".concat(u.length," words")),a.a.createElement(C.a,{type:"dark",effect:"solid"})):r?a.a.createElement(Mn,null):a.a.createElement(zn,null,"Nothing here ;("),a.a.createElement(In,{process:o}))}}]),n}(r.Component),Vn=Object(c.b)(function(e){return{activeNote:e.notesReducer.activeNote,noteGetting:e.notesReducer.noteGetting,activeRoute:e.routesReducer.activeRoute,process:e.notesReducer.process}},{updateNote:function(e,n,t,r,a){return function(o,i,c){var u=c.getFirebase,l=c.getFirestore,s=u(),f=l();o({type:"SET_PROCESS",data:!0}),s.auth().onAuthStateChanged(function(i){if(i){var c=f.collection("users").doc(i.uid).collection("notes").doc(e);f.runTransaction(function(e){return e.get(c).then(function(r){var a;switch(n){case"text":a=r.data().value=t,e.update(c,{value:a});break;case"star":a=r.data().star=t,e.update(c,{star:a});break;case"trash":a=r.data().trash=t,e.update(c,{trash:t})}})}).then(function(){switch(r){case"all":o(function(e,n,t){var r=t.getFirebase,a=t.getFirestore,o=r(),i=a();o.auth().onAuthStateChanged(function(n){n&&i.collection("users").doc(n.uid).collection("notes").where("trash","==",!1).get().then(function(n){var t=n.docs.map(function(e){return e.data()});e({type:"UPDATE_NOTES",notes:t})})})});break;case"star":o(function(e,n,t){var r=t.getFirebase,a=t.getFirestore,o=r(),i=a();o.auth().onAuthStateChanged(function(n){n&&i.collection("users").doc(n.uid).collection("notes").where("star","==",!0).where("trash","==",!1).get().then(function(n){var t=n.docs.map(function(e){return e.data()});e({type:"UPDATE_NOTES",notes:t})})})});break;case"trash":o(function(e,n,t){var r=t.getFirebase,a=t.getFirestore,o=r(),i=a();o.auth().onAuthStateChanged(function(n){n&&i.collection("users").doc(n.uid).collection("notes").where("trash","==",!0).get().then(function(n){var t=n.docs.map(function(e){return e.data()});e({type:"UPDATE_NOTES",notes:t})})})});break;default:o(g(r))}o({type:"SET_PROCESS",data:!1}),a&&o(m(e))}).catch(function(e){console.log(e)})}})}},clearActiveNote:b,getSpecificNote:m,removeNote:function(e,n){return function(t,r,a){var o=a.getFirebase,i=a.getFirestore,c=o(),u=i();c.auth().onAuthStateChanged(function(r){r&&u.collection("users").doc(r.uid).collection("notes").doc(e).delete().then(function(){switch(t(b()),n){case"all":t(function(e,n,t){var r=t.getFirebase,a=t.getFirestore,o=r(),i=a();o.auth().onAuthStateChanged(function(n){n&&i.collection("users").doc(n.uid).collection("notes").where("trash","==",!1).get().then(function(n){var t=n.docs.map(function(e){return e.data()});e({type:"UPDATE_NOTES",notes:t})})})});break;case"star":t(function(e,n,t){var r=t.getFirebase,a=t.getFirestore,o=r(),i=a();o.auth().onAuthStateChanged(function(n){n&&i.collection("users").doc(n.uid).collection("notes").where("star","==",!0).where("trash","==",!1).get().then(function(n){var t=n.docs.map(function(e){return e.data()});e({type:"UPDATE_NOTES",notes:t})})})});break;case"trash":t(function(e,n,t){var r=t.getFirebase,a=t.getFirestore,o=r(),i=a();o.auth().onAuthStateChanged(function(n){n&&i.collection("users").doc(n.uid).collection("notes").where("trash","==",!0).get().then(function(n){var t=n.docs.map(function(e){return e.data()});e({type:"UPDATE_NOTES",notes:t})})})});break;default:t(g(n))}}).catch(function(e){console.log(e)})})}}})(Ln);function Hn(){var e=Object(l.a)(["\n    opacity: ",";\n    visibility: ",";\n    transition: opacity .2s, visibility .2s;\n"]);return Hn=function(){return e},e}function Gn(){var e=Object(l.a)(["\n    color: red;\n    font-family: 'PT Serif', serif;\n    position: absolute;\n    text-align: center;\n    left: 0;\n    right: 0;\n    top: 10px;\n"]);return Gn=function(){return e},e}function qn(){var e=Object(l.a)(["\n    background: none;\n    border: none;\n    font-family: 'PT Serif', serif;\n    color: #8D8E91;\n    cursor: pointer;\n    outline: none;\n    margin-top: 10px;\n"]);return qn=function(){return e},e}function Bn(){var e=Object(l.a)(["\n    width: 80%;\n    height: 60px;\n    background: none;\n    border: 2px solid #2D3139;\n    color: #ffffff;\n    font-size: 20px;\n    font-family: 'PT Serif', serif;\n    cursor: pointer;\n    margin-top: 15px;\n    outline: none;\n\n    &:focus,\n    &:hover {\n        background: #1C2028;\n    }\n"]);return Bn=function(){return e},e}function Kn(){var e=Object(l.a)(["\n    width: 80%;\n    height: 60px;\n    background: #333840;\n    border: none;\n    outline: none;\n    color: #ffffff;\n    font-family: 'PT Serif', serif;\n    font-size: 20px;\n    padding-left: 15px;\n    margin: 15px 0px;\n\n    &:focus {\n        background: #444951;\n    }\n"]);return Kn=function(){return e},e}function Wn(){var e=Object(l.a)(["\n    width: 400px;\n    height: ",";\n    background: #21242A;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    box-shadow: 0px 0px 5px 0px #000;\n    border-radius: 5px;\n    position: relative;\n\n    &:after {\n        content: '';\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        background: rgba(0,0,0,0.2);\n        opacity: ",";\n        visibility: ",";\n        transition: opacity .2s, visibility .2s;\n    }\n\n    @media (max-height: 500px) {\n        height: 90%;\n    }\n"]);return Wn=function(){return e},e}function Jn(){var e=Object(l.a)(["\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100vh;\n    z-index: 2;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Jn=function(){return e},e}function Qn(){var e=Object(l.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 1;\n    display: block;\n    background: url('images/auth.jpg');\n    background-size: cover;\n    transform: scale(1.1);\n    width: 100%;\n    height: 100vh;\n    filter: blur(5px);\n"]);return Qn=function(){return e},e}var Yn=s.a.div(Qn()),$n=s.a.div(Jn()),Xn=s.a.form(Wn(),function(e){return e.registerActive?"500px":"400px"},function(e){return e.authActive?"1":"0"},function(e){return e.authActive?"visible":"hidden"}),Zn=s.a.input(Kn()),et=s.a.button(Bn()),nt=s.a.button(qn()),tt=s.a.p(Gn()),rt=Object(s.a)($e)(Hn(),function(e){return e.authActive?"1":"0"},function(e){return e.authActive?"visible":"hidden"}),at=Object(c.b)(function(e){return{authError:e.authReducer.authError,authRun:e.authReducer.authRun}},{signIn:function(e,n){return function(t,r,a){var o=(0,a.getFirebase)();t({type:"AUTH_RUN",status:!0}),o.auth().signInWithEmailAndPassword(e,n).then(function(){t({type:"AUTH_RUN",status:!1}),t({type:"AUTH_SUCCESS"})}).catch(function(e){t({type:"AUTH_RUN",status:!1}),t({type:"AUTH_FAILED",err:e})})}},signUp:function(e,n,t){return function(r,a,o){var i=o.getFirebase,c=o.getFirestore,u=i(),l=c();if(r({type:"AUTH_RUN",status:!0}),t.length>11)return r({type:"AUTH_RUN",status:!1}),r({type:"AUTH_FAILED",err:{message:"Maximum nick length is 11 characters!"}}),!1;u.auth().createUserWithEmailAndPassword(e,n).then(function(n){l.collection("users").doc(n.user.uid).set({email:e,avatar:"https://www.kinnarps.pl/contentassets/e61c223f7f8548c1968ad510a63ae4a4/13_portraitplaceholder.jpg?preset=?preset=portrait-quote",tags:{},nick:t}).then(function(){r({type:"AUTH_RUN",status:!1}),r({type:"AUTH_SUCCESS"})})}).catch(function(e){r({type:"AUTH_RUN",status:!1}),r({type:"AUTH_FAILED",err:e})})}}})(function(e){var n=e.authError,t=e.authRun,o=e.signIn,i=e.signUp,c=Object(r.useState)(!1),l=Object(u.a)(c,2),s=l[0],f=l[1],d=Object(r.useState)(null),p=Object(u.a)(d,2),h=p[0],g=p[1],m=Object(r.useState)(null),b=Object(u.a)(m,2),v=b[0],x=b[1],E=Object(r.useState)(null),O=Object(u.a)(E,2),y=O[0],S=O[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Yn,null),a.a.createElement($n,null,a.a.createElement(Xn,{registerActive:s,authActive:t},a.a.createElement(rt,{authActive:t}),a.a.createElement(tt,null,n),s?a.a.createElement(Zn,{onChange:function(e){S(e.target.value)},placeholder:"Nick",required:!0}):"",a.a.createElement(Zn,{onChange:function(e){g(e.target.value)},placeholder:"Email",required:!0}),a.a.createElement(Zn,{onChange:function(e){x(e.target.value)},placeholder:"Password",type:"password",required:!0}),a.a.createElement(et,{onClick:s?function(e){h&&v&&y?(e.preventDefault(),i(h,v,y)):e.preventDefault()}:function(e){h&&v&&(e.preventDefault(),o(h,v))}},s?"Register":"Login"),a.a.createElement(nt,{onClick:function(){f(!s)},type:"button"},s?"Already registered? Log in":"Not registered? Create an account"))))});function ot(){var e=Object(l.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    text-align: center;\n    right: 0;\n    color: red;\n    font-size: 16px;\n    font-family: 'PT Serif', serif;\n"]);return ot=function(){return e},e}function it(){var e=Object(l.a)(["\n    position: absolute;\n    left: -10px;\n    top: -10px;\n    border: none;\n    background: none;\n    cursor: pointer;\n    outline: none;\n"]);return it=function(){return e},e}function ct(){var e=Object(l.a)(["\n    width: 120px;\n    height: 40px;\n    background: #21242A;\n    color: #ffffff;\n    font-family: 'PT Serif', serif;\n    font-size: 18px;\n    border: none;\n    margin-top: 30px;\n    cursor: pointer;\n    outline: none;\n    position: relative;\n\n    &:after {\n        content: '';\n        width: 100%;\n        height: 100%;\n        background: rgba(0,0,0,0.5);\n        left: 0;\n        top: 0;\n        position: absolute;\n        cursor: default;\n        display: ",";\n    }\n"]);return ct=function(){return e},e}function ut(){var e=Object(l.a)(["\n    display: none;\n    visibility: hidden;\n"]);return ut=function(){return e},e}function lt(){var e=Object(l.a)(["\n    cursor: pointer;\n    margin-left: 20px;\n\n    @media (max-width: 440px) {\n        margin-left: 0;\n        margin-top: 15px;\n    }\n"]);return lt=function(){return e},e}function st(){var e=Object(l.a)(["\n    width: 300px;\n    height: 40px;\n    background: #21242A;\n    border: none;\n    outline: none;\n    color: #fff;\n    padding: 0px 10px;\n    font-size: 18px;\n    font-family: 'PT Serif', serif;\n    border: 1px solid transparent;\n\n    &:focus {\n        border: 1px solid #aaa;\n    }\n\n    @media (max-width: 440px) {\n        width: 90%;\n    }\n"]);return st=function(){return e},e}function ft(){var e=Object(l.a)(["\n    display: flex;\n    align-items: center;\n\n    @media (max-width: 440px) {\n        flex-direction: column;\n        width: 100%;\n    }\n"]);return ft=function(){return e},e}function dt(){var e=Object(l.a)(["\n    width: 500px;\n    height: 250px;\n    background: #333840;\n    border-radius: 10px;\n    box-shadow: 0px 0px 10px 0px #fff;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    position: relative;\n\n    &:before {\n        content: 'New tag';\n        position: absolute;\n        top: -45px;\n        color: #ffffff;\n        font-size: 26px;\n        font-family: 'PT Serif', serif;\n    }\n\n    @media (max-width: 540px) {\n        width: 80%;\n    }\n"]);return dt=function(){return e},e}var pt=s.a.form(dt()),ht=s.a.div(ft()),gt=s.a.input(st()),mt=Object(s.a)(T)(lt()),bt=s.a.input(ut()),vt=s.a.button(ct(),function(e){return e.disabled?"block":"none"}),xt=s.a.button(it()),Et=s.a.p(ot()),Ot=Object(c.b)(function(e){return{modalErrorMessage:e.modalReducer.modalErrorMessage,process:e.notesReducer.process}},{createNewTag:function(e,n){return function(t,r,a){var o=a.getFirebase,i=a.getFirestore,c=o(),u=i();if(n.length>15)return t({type:"SET_MODAL_ERROR_MESSAGE",data:"Tag name is too long! Max length is 15 characters!"}),!1;t({type:"SET_PROCESS",data:!0}),c.auth().onAuthStateChanged(function(r){r&&u.collection("users").doc(r.uid).get().then(function(a){a.data().tags[n]?(t({type:"SET_PROCESS",data:!1}),t({type:"SET_MODAL_ERROR_MESSAGE",data:"Tag with this name already exist!"})):u.collection("users").doc(r.uid).set({tags:Object(f.a)({},n,{color:e})},{merge:!0}).then(function(){t({type:"SET_PROCESS",data:!1}),t({type:"UPDATE_MODAL",data:null})}).catch(function(e){console.log(e)})})})}},showModal:R})(function(e){var n=e.process,t=e.modalErrorMessage,o=e.createNewTag,i=e.showModal,c=Object(r.useState)("red"),l=Object(u.a)(c,2),s=l[0],f=l[1],d=Object(r.useState)(null),p=Object(u.a)(d,2),h=p[0],g=p[1],m=Object(r.useRef)(null);return a.a.createElement(pt,{onSubmit:function(e){h&&(e.preventDefault(),o(s,h))}},a.a.createElement(xt,{type:"button",onClick:function(e){e.preventDefault(),i(null)}},a.a.createElement(j,{type:"close",color:"#bbb"})),a.a.createElement(Et,null,t),a.a.createElement(bt,{onChange:function(e){f(e.target.value)},ref:m,type:"color"}),a.a.createElement(ht,null,a.a.createElement(gt,{onChange:function(e){g(e.target.value)},placeholder:"Tag name",required:!0}),a.a.createElement(mt,{onClick:function(){m.current.click()},color:s,size:"big"})),a.a.createElement(vt,{disabled:n},"Create tag"))});function yt(){var e=Object(l.a)(["\n    position: absolute;\n    left: -10px;\n    top: -10px;\n    border: none;\n    background: none;\n    cursor: pointer;\n    outline: none;\n"]);return yt=function(){return e},e}function St(){var e=Object(l.a)(["\n    width: 120px;\n    height: 40px;\n    background: #21242A;\n    color: #ffffff;\n    font-family: 'PT Serif', serif;\n    font-size: 18px;\n    border: none;\n    margin-top: 30px;\n    cursor: pointer;\n    outline: none;\n    position: relative;\n\n    &:after {\n        content: '';\n        width: 100%;\n        height: 100%;\n        background: rgba(0,0,0,0.5);\n        left: 0;\n        top: 0;\n        position: absolute;\n        cursor: default;\n        display: ",";\n    }\n"]);return St=function(){return e},e}function wt(){var e=Object(l.a)(["\n    color: #fff;\n    width: 200px;\n    align-self: flex-end;\n    margin-left: 5px;\n"]);return wt=function(){return e},e}function jt(){var e=Object(l.a)(["\n    width: 64px;\n    height: 64px;\n    border-radius: 50%;\n    border: 1px solid #ffffff;\n"]);return jt=function(){return e},e}function kt(){var e=Object(l.a)(["\n    display: flex;\n"]);return kt=function(){return e},e}function At(){var e=Object(l.a)(["\n    width: 400px;\n    height: 250px;\n    background: #333840;\n    border-radius: 10px;\n    box-shadow: 0px 0px 10px 0px #fff;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    position: relative;\n\n    &:before {\n        content: 'Change avatar';\n        position: absolute;\n        top: -45px;\n        color: #ffffff;\n        font-size: 26px;\n        font-family: 'PT Serif', serif;\n    }\n"]);return At=function(){return e},e}var Tt=s.a.form(At()),Nt=s.a.div(kt()),Ct=s.a.img(jt()),Rt=s.a.input(wt()),Ft=s.a.button(St(),function(e){return e.disabled?"block":"none"}),_t=s.a.button(yt()),Dt=Object(c.b)(function(e){return{profile:e.firebase.profile,process:e.notesReducer.process}},{changeAvatar:function(e){return function(n,t,r){var a=r.getFirebase,o=r.getFirestore,i=a(),c=o();n({type:"SET_PROCESS",data:!0}),i.auth().onAuthStateChanged(function(t){t&&i.storage().ref().child("avatars/"+t.uid).put(e).then(function(e){e.ref.getDownloadURL().then(function(e){c.collection("users").doc(t.uid).update({avatar:e}).then(function(){n({type:"SET_PROCESS",data:!1})})})}).catch(function(e){console.log(e)})})}},showModal:R})(function(e){var n=e.profile,t=e.process,o=e.changeAvatar,i=e.showModal,c=Object(r.useState)(null),l=Object(u.a)(c,2),s=l[0],f=l[1],d=Object(r.useState)(null),p=Object(u.a)(d,2),h=p[0],g=p[1];return a.a.createElement(Tt,null,a.a.createElement(_t,{onClick:function(e){e.preventDefault(),i(null)},type:"button"},a.a.createElement(j,{type:"close",color:"#bbb"})),a.a.createElement(Nt,null,a.a.createElement(Ct,{src:h||n.avatar,alt:""}),a.a.createElement(Rt,{onChange:function(e){"image/jpeg"===e.target.files[0].type||"image/png"===e.target.files[0].type?(f(e.target.files[0]),g(window.URL.createObjectURL(e.target.files[0]))):(f(null),g(null),e.target.value=null)},accept:"image/png, image/jpeg",type:"file"})),a.a.createElement(Ft,{disabled:t,onClick:function(e){s?(e.preventDefault(),o(s)):e.preventDefault()}},"Change"))});function Pt(){var e=Object(l.a)(["\n    width: 100%;\n    height: 100vh;\n    position: fixed;\n    background: rgba(0,0,0,0.3);\n    z-index: 99;\n    top: 0;\n    left: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Pt=function(){return e},e}var Ut=s.a.div(Pt()),zt=function(e){var n=e.type;return n?a.a.createElement(Ut,null,"tag"===n?a.a.createElement(Ot,null):a.a.createElement(Dt,null)):null};t(293);var Mt=Object(c.b)(function(e){return{auth:e.firebase.auth,process:e.notesReducer.process,activeModal:e.modalReducer.activeModal}},null)(function(e){var n=e.auth,t=(e.process,e.activeModal);return a.a.createElement("div",{className:"App"},n.uid?a.a.createElement(a.a.Fragment,null,a.a.createElement(pe,null),a.a.createElement(dn,null),a.a.createElement(Vn,null),a.a.createElement(zt,{type:t})):a.a.createElement(at,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var It=t(31),Lt=t(267),Vt=t(70),Ht=t(71),Gt=t(8),qt={authRun:!1,authError:null},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"AUTH_RUN":return Object(Gt.a)({},e,{authRun:n.status});case"AUTH_SUCCESS":return Object(Gt.a)({},e,{authError:null});case"AUTH_FAILED":return Object(Gt.a)({},e,{authError:n.err.message});default:return e}},Kt={activeRoute:"all",routeChanging:!1},Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"UPDATE_ROUTE":return Object(Gt.a)({},e,{activeRoute:n.route,routeChanging:!0});default:return e}},Jt={notes:null,activeNote:null,noteGetting:!1,process:!1,removingTag:!1},Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"UPDATE_NOTES":return Object(Gt.a)({},e,{notes:n.notes});case"CLEAR_NOTES":return Object(Gt.a)({},e,{notes:null});case"CLEAR_ACTIVE_NOTES":return Object(Gt.a)({},e,{activeNote:null});case"ACTIVE_NOTE_START":return Object(Gt.a)({},e,{activeNote:null,noteGetting:!0});case"SET_ACTIVE_NOTE":return Object(Gt.a)({},e,{activeNote:n.data,noteGetting:!1});case"SET_PROCESS":return Object(Gt.a)({},e,{process:n.data});case"SET_REMOVING_TAG":return Object(Gt.a)({},e,{removingTag:n.data});default:return e}},Yt={activeModal:null,modalErrorMessage:null},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"UPDATE_MODAL":return Object(Gt.a)({},e,{activeModal:n.data});case"SET_MODAL_ERROR_MESSAGE":return Object(Gt.a)({},e,{modalErrorMessage:n.data});default:return e}},Xt=Object(It.c)({authReducer:Bt,routesReducer:Wt,notesReducer:Qt,modalReducer:$t,firestore:Vt.firestoreReducer,firebase:Ht.firebaseReducer}),Zt=t(174),er=t.n(Zt);t(543),t(544),t(545);er.a.initializeApp({apiKey:"AIzaSyArzJtQxzr46vBp0ivjew7Gwf2oK0jODQk",authDomain:"notes-1fbc4.firebaseapp.com",databaseURL:"https://notes-1fbc4.firebaseio.com",projectId:"notes-1fbc4",storageBucket:"notes-1fbc4.appspot.com",messagingSenderId:"784731515037",appId:"1:784731515037:web:0c4793db80d595b1"});var nr=er.a,tr=Object(It.e)(Xt,Object(It.d)(Object(It.a)(Lt.a.withExtraArgument({getFirebase:Ht.getFirebase,getFirestore:Vt.getFirestore})),Object(Vt.reduxFirestore)(nr),Object(Ht.reactReduxFirebase)(nr,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0})));tr.firebaseAuthIsReady.then(function(){i.a.render(a.a.createElement(c.a,{store:tr},a.a.createElement(Mt,null)),document.getElementById("root"))}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[269,1,2]]]);
//# sourceMappingURL=main.229f710e.chunk.js.map